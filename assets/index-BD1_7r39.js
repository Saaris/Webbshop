(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function bp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Jd={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function xT(){if(L_)return Ul;L_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,l){var f=null;if(l!==void 0&&(f=""+l),o.key!==void 0&&(f=""+o.key),"key"in o){l={};for(var c in o)c!=="key"&&(l[c]=o[c])}else l=o;return o=l.ref,{$$typeof:r,type:i,key:f,ref:o!==void 0?o:null,props:l}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var j_;function CT(){return j_||(j_=1,Jd.exports=xT()),Jd.exports}var J=CT(),em={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function DT(){if(U_)return He;U_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),f=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),d=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=d&&B[d]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,E={};function S(B,ne,me){this.props=B,this.context=ne,this.refs=E,this.updater=me||_}S.prototype.isReactComponent={},S.prototype.setState=function(B,ne){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ne,"setState")},S.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function A(){}A.prototype=S.prototype;function R(B,ne,me){this.props=B,this.context=ne,this.refs=E,this.updater=me||_}var D=R.prototype=new A;D.constructor=R,v(D,S.prototype),D.isPureReactComponent=!0;var k=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function I(B,ne,me,ce,be,Ue){return me=Ue.ref,{$$typeof:r,type:B,key:ne,ref:me!==void 0?me:null,props:Ue}}function T(B,ne){return I(B.type,ne,void 0,void 0,void 0,B.props)}function x(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function O(B){var ne={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return ne[me]})}var L=/\/+/g;function $(B,ne){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):ne.toString(36)}function U(){}function he(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(U,U):(B.status="pending",B.then(function(ne){B.status==="pending"&&(B.status="fulfilled",B.value=ne)},function(ne){B.status==="pending"&&(B.status="rejected",B.reason=ne)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function pe(B,ne,me,ce,be){var Ue=typeof B;(Ue==="undefined"||Ue==="boolean")&&(B=null);var Ce=!1;if(B===null)Ce=!0;else switch(Ue){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(B.$$typeof){case r:case e:Ce=!0;break;case b:return Ce=B._init,pe(Ce(B._payload),ne,me,ce,be)}}if(Ce)return be=be(B),Ce=ce===""?"."+$(B,0):ce,k(be)?(me="",Ce!=null&&(me=Ce.replace(L,"$&/")+"/"),pe(be,ne,me,"",function(Jn){return Jn})):be!=null&&(x(be)&&(be=T(be,me+(be.key==null||B&&B.key===be.key?"":(""+be.key).replace(L,"$&/")+"/")+Ce)),ne.push(be)),1;Ce=0;var St=ce===""?".":ce+":";if(k(B))for(var vt=0;vt<B.length;vt++)ce=B[vt],Ue=St+$(ce,vt),Ce+=pe(ce,ne,me,Ue,be);else if(vt=y(B),typeof vt=="function")for(B=vt.call(B),vt=0;!(ce=B.next()).done;)ce=ce.value,Ue=St+$(ce,vt++),Ce+=pe(ce,ne,me,Ue,be);else if(Ue==="object"){if(typeof B.then=="function")return pe(he(B),ne,me,ce,be);throw ne=String(B),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function G(B,ne,me){if(B==null)return B;var ce=[],be=0;return pe(B,ce,"","",function(Ue){return ne.call(me,Ue,be++)}),ce}function se(B){if(B._status===-1){var ne=B._result;ne=ne(),ne.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=ne)}if(B._status===1)return B._result.default;throw B._result}var ve=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function xe(){}return He.Children={map:G,forEach:function(B,ne,me){G(B,function(){ne.apply(this,arguments)},me)},count:function(B){var ne=0;return G(B,function(){ne++}),ne},toArray:function(B){return G(B,function(ne){return ne})||[]},only:function(B){if(!x(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},He.Component=S,He.Fragment=n,He.Profiler=o,He.PureComponent=R,He.StrictMode=i,He.Suspense=p,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,He.__COMPILER_RUNTIME={__proto__:null,c:function(B){return V.H.useMemoCache(B)}},He.cache=function(B){return function(){return B.apply(null,arguments)}},He.cloneElement=function(B,ne,me){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ce=v({},B.props),be=B.key,Ue=void 0;if(ne!=null)for(Ce in ne.ref!==void 0&&(Ue=void 0),ne.key!==void 0&&(be=""+ne.key),ne)!P.call(ne,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ne.ref===void 0||(ce[Ce]=ne[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=me;else if(1<Ce){for(var St=Array(Ce),vt=0;vt<Ce;vt++)St[vt]=arguments[vt+2];ce.children=St}return I(B.type,be,void 0,void 0,Ue,ce)},He.createContext=function(B){return B={$$typeof:f,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},He.createElement=function(B,ne,me){var ce,be={},Ue=null;if(ne!=null)for(ce in ne.key!==void 0&&(Ue=""+ne.key),ne)P.call(ne,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=ne[ce]);var Ce=arguments.length-2;if(Ce===1)be.children=me;else if(1<Ce){for(var St=Array(Ce),vt=0;vt<Ce;vt++)St[vt]=arguments[vt+2];be.children=St}if(B&&B.defaultProps)for(ce in Ce=B.defaultProps,Ce)be[ce]===void 0&&(be[ce]=Ce[ce]);return I(B,Ue,void 0,void 0,null,be)},He.createRef=function(){return{current:null}},He.forwardRef=function(B){return{$$typeof:c,render:B}},He.isValidElement=x,He.lazy=function(B){return{$$typeof:b,_payload:{_status:-1,_result:B},_init:se}},He.memo=function(B,ne){return{$$typeof:g,type:B,compare:ne===void 0?null:ne}},He.startTransition=function(B){var ne=V.T,me={};V.T=me;try{var ce=B(),be=V.S;be!==null&&be(me,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(xe,ve)}catch(Ue){ve(Ue)}finally{V.T=ne}},He.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},He.use=function(B){return V.H.use(B)},He.useActionState=function(B,ne,me){return V.H.useActionState(B,ne,me)},He.useCallback=function(B,ne){return V.H.useCallback(B,ne)},He.useContext=function(B){return V.H.useContext(B)},He.useDebugValue=function(){},He.useDeferredValue=function(B,ne){return V.H.useDeferredValue(B,ne)},He.useEffect=function(B,ne,me){var ce=V.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(B,ne)},He.useId=function(){return V.H.useId()},He.useImperativeHandle=function(B,ne,me){return V.H.useImperativeHandle(B,ne,me)},He.useInsertionEffect=function(B,ne){return V.H.useInsertionEffect(B,ne)},He.useLayoutEffect=function(B,ne){return V.H.useLayoutEffect(B,ne)},He.useMemo=function(B,ne){return V.H.useMemo(B,ne)},He.useOptimistic=function(B,ne){return V.H.useOptimistic(B,ne)},He.useReducer=function(B,ne,me){return V.H.useReducer(B,ne,me)},He.useRef=function(B){return V.H.useRef(B)},He.useState=function(B){return V.H.useState(B)},He.useSyncExternalStore=function(B,ne,me){return V.H.useSyncExternalStore(B,ne,me)},He.useTransition=function(){return V.H.useTransition()},He.version="19.1.0",He}var z_;function Ep(){return z_||(z_=1,em.exports=DT()),em.exports}var re=Ep();const lf=bp(re);var tm={exports:{}},zl={},nm={exports:{}},rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function OT(){return $_||($_=1,function(r){function e(G,se){var ve=G.length;G.push(se);e:for(;0<ve;){var xe=ve-1>>>1,B=G[xe];if(0<o(B,se))G[xe]=se,G[ve]=B,ve=xe;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var se=G[0],ve=G.pop();if(ve!==se){G[0]=ve;e:for(var xe=0,B=G.length,ne=B>>>1;xe<ne;){var me=2*(xe+1)-1,ce=G[me],be=me+1,Ue=G[be];if(0>o(ce,ve))be<B&&0>o(Ue,ce)?(G[xe]=Ue,G[be]=ve,xe=be):(G[xe]=ce,G[me]=ve,xe=me);else if(be<B&&0>o(Ue,ve))G[xe]=Ue,G[be]=ve,xe=be;else break e}}return se}function o(G,se){var ve=G.sortIndex-se.sortIndex;return ve!==0?ve:G.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var f=Date,c=f.now();r.unstable_now=function(){return f.now()-c}}var p=[],g=[],b=1,d=null,y=3,_=!1,v=!1,E=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function k(G){for(var se=n(g);se!==null;){if(se.callback===null)i(g);else if(se.startTime<=G)i(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function V(G){if(E=!1,k(G),!v)if(n(p)!==null)v=!0,P||(P=!0,$());else{var se=n(g);se!==null&&pe(V,se.startTime-G)}}var P=!1,I=-1,T=5,x=-1;function O(){return S?!0:!(r.unstable_now()-x<T)}function L(){if(S=!1,P){var G=r.unstable_now();x=G;var se=!0;try{e:{v=!1,E&&(E=!1,R(I),I=-1),_=!0;var ve=y;try{t:{for(k(G),d=n(p);d!==null&&!(d.expirationTime>G&&O());){var xe=d.callback;if(typeof xe=="function"){d.callback=null,y=d.priorityLevel;var B=xe(d.expirationTime<=G);if(G=r.unstable_now(),typeof B=="function"){d.callback=B,k(G),se=!0;break t}d===n(p)&&i(p),k(G)}else i(p);d=n(p)}if(d!==null)se=!0;else{var ne=n(g);ne!==null&&pe(V,ne.startTime-G),se=!1}}break e}finally{d=null,y=ve,_=!1}se=void 0}}finally{se?$():P=!1}}}var $;if(typeof D=="function")$=function(){D(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=L,$=function(){he.postMessage(null)}}else $=function(){A(L,0)};function pe(G,se){I=A(function(){G(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_next=function(G){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var ve=y;y=se;try{return G()}finally{y=ve}},r.unstable_requestPaint=function(){S=!0},r.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ve=y;y=G;try{return se()}finally{y=ve}},r.unstable_scheduleCallback=function(G,se,ve){var xe=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?xe+ve:xe):ve=xe,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ve+B,G={id:b++,callback:se,priorityLevel:G,startTime:ve,expirationTime:B,sortIndex:-1},ve>xe?(G.sortIndex=ve,e(g,G),n(p)===null&&G===n(g)&&(E?(R(I),I=-1):E=!0,pe(V,ve-xe))):(G.sortIndex=B,e(p,G),v||_||(v=!0,P||(P=!0,$()))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var se=y;return function(){var ve=y;y=se;try{return G.apply(this,arguments)}finally{y=ve}}}}(rm)),rm}var B_;function IT(){return B_||(B_=1,nm.exports=OT()),nm.exports}var am={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function NT(){if(F_)return _n;F_=1;var r=Ep();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,b){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:d==null?null:""+d,children:p,containerInfo:g,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,b)},_n.flushSync=function(p){var g=f.T,b=i.p;try{if(f.T=null,i.p=2,p)return p()}finally{f.T=g,i.p=b,i.d.f()}},_n.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},_n.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},_n.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,d=c(b,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:d,integrity:y,fetchPriority:_}):b==="script"&&i.d.X(p,{crossOrigin:d,integrity:y,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_n.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=c(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},_n.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,d=c(b,g.crossOrigin);i.d.L(p,b,{crossOrigin:d,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_n.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=c(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},_n.requestFormReset=function(p){i.d.r(p)},_n.unstable_batchedUpdates=function(p,g){return p(g)},_n.useFormState=function(p,g,b){return f.H.useFormState(p,g,b)},_n.useFormStatus=function(){return f.H.useHostTransitionStatus()},_n.version="19.1.0",_n}var q_;function MT(){if(q_)return am.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=NT(),am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function kT(){if(H_)return zl;H_=1;var r=IT(),e=Ep(),n=MT();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function f(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function c(t){if(l(t)!==t)throw Error(i(188))}function p(t){var a=t.alternate;if(!a){if(a=l(t),a===null)throw Error(i(188));return a!==t?null:t}for(var s=t,u=a;;){var m=s.return;if(m===null)break;var w=m.alternate;if(w===null){if(u=m.return,u!==null){s=u;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===s)return c(m),t;if(w===u)return c(m),a;w=w.sibling}throw Error(i(188))}if(s.return!==u.return)s=m,u=w;else{for(var M=!1,j=m.child;j;){if(j===s){M=!0,s=m,u=w;break}if(j===u){M=!0,u=m,s=w;break}j=j.sibling}if(!M){for(j=w.child;j;){if(j===s){M=!0,s=w,u=m;break}if(j===u){M=!0,u=w,s=m;break}j=j.sibling}if(!M)throw Error(i(189))}}if(s.alternate!==u)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:a}function g(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=g(t),a!==null)return a;t=t.sibling}return null}var b=Object.assign,d=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var U=Symbol.for("react.client.reference");function he(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===U?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case V:return"Suspense";case P:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case D:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case k:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return a=t.displayName||null,a!==null?a:he(t.type)||"Memo";case T:a=t._payload,t=t._init;try{return he(t(a))}catch{}}return null}var pe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},xe=[],B=-1;function ne(t){return{current:t}}function me(t){0>B||(t.current=xe[B],xe[B]=null,B--)}function ce(t,a){B++,xe[B]=t.current,t.current=a}var be=ne(null),Ue=ne(null),Ce=ne(null),St=ne(null);function vt(t,a){switch(ce(Ce,a),ce(Ue,t),ce(be,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?f_(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=f_(a),t=h_(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}me(be),ce(be,t)}function Jn(){me(be),me(Ue),me(Ce)}function Ct(t){t.memoizedState!==null&&ce(St,t);var a=be.current,s=h_(a,t.type);a!==s&&(ce(Ue,t),ce(be,s))}function pn(t){Ue.current===t&&(me(be),me(Ue)),St.current===t&&(me(St),kl._currentValue=ve)}var Rr=Object.prototype.hasOwnProperty,aa=r.unstable_scheduleCallback,Tn=r.unstable_cancelCallback,Li=r.unstable_shouldYield,Rs=r.unstable_requestPaint,Sn=r.unstable_now,$o=r.unstable_getCurrentPriorityLevel,ji=r.unstable_ImmediatePriority,ja=r.unstable_UserBlockingPriority,ia=r.unstable_NormalPriority,_r=r.unstable_LowPriority,er=r.unstable_IdlePriority,Ua=r.log,za=r.unstable_setDisableYieldValue,ft=null,Ge=null;function gn(t){if(typeof Ua=="function"&&za(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ft,t)}catch{}}var Ut=Math.clz32?Math.clz32:xr,xs=Math.log,tr=Math.LN2;function xr(t){return t>>>=0,t===0?32:31-(xs(t)/tr|0)|0}var Cr=256,Dr=4194304;function Ln(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sa(t,a,s){var u=t.pendingLanes;if(u===0)return 0;var m=0,w=t.suspendedLanes,M=t.pingedLanes;t=t.warmLanes;var j=u&134217727;return j!==0?(u=j&~w,u!==0?m=Ln(u):(M&=j,M!==0?m=Ln(M):s||(s=j&~t,s!==0&&(m=Ln(s))))):(j=u&~w,j!==0?m=Ln(j):M!==0?m=Ln(M):s||(s=u&~t,s!==0&&(m=Ln(s)))),m===0?0:a!==0&&a!==m&&(a&w)===0&&(w=m&-m,s=a&-a,w>=s||w===32&&(s&4194048)!==0)?a:m}function nr(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function $a(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oa(){var t=Cr;return Cr<<=1,(Cr&4194048)===0&&(Cr=256),t}function Ui(){var t=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),t}function rr(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function br(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ba(t,a,s,u,m,w){var M=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var j=t.entanglements,F=t.expirationTimes,W=t.hiddenUpdates;for(s=M&~s;0<s;){var ie=31-Ut(s),ue=1<<ie;j[ie]=0,F[ie]=-1;var ee=W[ie];if(ee!==null)for(W[ie]=null,ie=0;ie<ee.length;ie++){var te=ee[ie];te!==null&&(te.lane&=-536870913)}s&=~ue}u!==0&&Rn(t,u,0),w!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=w&~(M&~a))}function Rn(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var u=31-Ut(a);t.entangledLanes|=a,t.entanglements[u]=t.entanglements[u]|1073741824|s&4194090}function Or(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var u=31-Ut(s),m=1<<u;m&a|t[u]&a&&(t[u]|=a),s&=~m}}function Ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function q(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:I_(t.type))}function Q(t,a){var s=se.p;try{return se.p=t,a()}finally{se.p=s}}var Z=Math.random().toString(36).slice(2),le="__reactFiber$"+Z,ge="__reactProps$"+Z,Ae="__reactContainer$"+Z,Me="__reactEvents$"+Z,we="__reactListeners$"+Z,Se="__reactHandles$"+Z,Oe="__reactResources$"+Z,Ve="__reactMarker$"+Z;function Re(t){delete t[le],delete t[ge],delete t[Me],delete t[we],delete t[Se]}function Le(t){var a=t[le];if(a)return a;for(var s=t.parentNode;s;){if(a=s[Ae]||s[le]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=g_(t);t!==null;){if(s=t[le])return s;t=g_(t)}return a}t=s,s=t.parentNode}return null}function Ze(t){if(t=t[le]||t[Ae]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function dt(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function ut(t){var a=t[Oe];return a||(a=t[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function rt(t){t[Ve]=!0}var Ke=new Set,ar={};function Ht(t,a){xn(t,a),xn(t+"Capture",a)}function xn(t,a){for(ar[t]=a,t=0;t<a.length;t++)Ke.add(a[t])}var sn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nr={},jn={};function qa(t){return Rr.call(jn,t)?!0:Rr.call(Nr,t)?!1:sn.test(t)?jn[t]=!0:(Nr[t]=!0,!1)}function yn(t,a,s){if(qa(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function Cn(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function Be(t,a,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+u)}}var zt,Un;function In(t){if(zt===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);zt=a&&a[1]||"",Un=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zt+t+Un}var Mr=!1;function wt(t,a){if(!t||Mr)return"";Mr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var ee=te}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(te){ee=te}t.call(ue.prototype)}}else{try{throw Error()}catch(te){ee=te}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=u.DetermineComponentFrameRoot(),M=w[0],j=w[1];if(M&&j){var F=M.split(`
`),W=j.split(`
`);for(m=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;if(u===F.length||m===W.length)for(u=F.length-1,m=W.length-1;1<=u&&0<=m&&F[u]!==W[m];)m--;for(;1<=u&&0<=m;u--,m--)if(F[u]!==W[m]){if(u!==1||m!==1)do if(u--,m--,0>m||F[u]!==W[m]){var ie=`
`+F[u].replace(" at new "," at ");return t.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",t.displayName)),ie}while(1<=u&&0<=m);break}}}finally{Mr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?In(s):""}function ir(t){switch(t.tag){case 26:case 27:case 5:return In(t.type);case 16:return In("Lazy");case 13:return In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return wt(t.type,!1);case 11:return wt(t.type.render,!1);case 1:return wt(t.type,!0);case 31:return In("Activity");default:return""}}function la(t){try{var a="";do a+=ir(t),t=t.return;while(t);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bo(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function rh(t){var a=Bo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),u=""+t[a];if(!t.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var m=s.get,w=s.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return m.call(this)},set:function(M){u=""+M,w.call(this,M)}}),Object.defineProperty(t,a,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(M){u=""+M},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Cs(t){t._valueTracker||(t._valueTracker=rh(t))}function Fo(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),u="";return t&&(u=Bo(t)?t.checked?"true":"false":t.value),t=u,t!==s?(a.setValue(t),!0):!1}function zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ah=/[\n"\\]/g;function $t(t){return t.replace(ah,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function zn(t,a,s,u,m,w,M,j){t.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.type=M:t.removeAttribute("type"),a!=null?M==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+on(a)):t.value!==""+on(a)&&(t.value=""+on(a)):M!=="submit"&&M!=="reset"||t.removeAttribute("value"),a!=null?Ha(t,M,on(a)):s!=null?Ha(t,M,on(s)):u!=null&&t.removeAttribute("value"),m==null&&w!=null&&(t.defaultChecked=!!w),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.name=""+on(j):t.removeAttribute("name")}function $i(t,a,s,u,m,w,M,j){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.type=w),a!=null||s!=null){if(!(w!=="submit"&&w!=="reset"||a!=null))return;s=s!=null?""+on(s):"",a=a!=null?""+on(a):s,j||a===t.value||(t.value=a),t.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=j?t.checked:!!u,t.defaultChecked=!!u,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(t.name=M)}function Ha(t,a,s){a==="number"&&zi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ua(t,a,s,u){if(t=t.options,a){a={};for(var m=0;m<s.length;m++)a["$"+s[m]]=!0;for(s=0;s<t.length;s++)m=a.hasOwnProperty("$"+t[s].value),t[s].selected!==m&&(t[s].selected=m),m&&u&&(t[s].defaultSelected=!0)}else{for(s=""+on(s),a=null,m=0;m<t.length;m++){if(t[m].value===s){t[m].selected=!0,u&&(t[m].defaultSelected=!0);return}a!==null||t[m].disabled||(a=t[m])}a!==null&&(a.selected=!0)}}function _t(t,a,s){if(a!=null&&(a=""+on(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+on(s):""}function Bi(t,a,s,u){if(a==null){if(u!=null){if(s!=null)throw Error(i(92));if(pe(u)){if(1<u.length)throw Error(i(93));u=u[0]}s=u}s==null&&(s=""),a=s}s=on(a),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u)}function sr(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var Fi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(t,a,s){var u=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":u?t.setProperty(a,s):typeof s!="number"||s===0||Fi.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function qo(t,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&s[m]!==u&&Ru(t,m,u)}else for(var w in a)a.hasOwnProperty(w)&&Ru(t,w,a[w])}function Ho(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(t){return sh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ca=null;function or(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fa=null,ha=null;function Go(t){var a=Ze(t);if(a&&(t=a.stateNode)){var s=t[ge]||null;e:switch(t=a.stateNode,a.type){case"input":if(zn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+$t(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var u=s[a];if(u!==t&&u.form===t.form){var m=u[ge]||null;if(!m)throw Error(i(90));zn(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<s.length;a++)u=s[a],u.form===t.form&&Fo(u)}break e;case"textarea":_t(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&ua(t,!!s.multiple,a,!1)}}}var kr=!1;function xu(t,a,s){if(kr)return t(a,s);kr=!0;try{var u=t(a);return u}finally{if(kr=!1,(fa!==null||ha!==null)&&(bc(),fa&&(a=fa,t=ha,ha=fa=null,Go(a),t)))for(a=0;a<t.length;a++)Go(t[a])}}function qi(t,a){var s=t.stateNode;if(s===null)return null;var u=s[ge]||null;if(u===null)return null;s=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lr=!1;if(Er)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){lr=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{lr=!1}var Vr=null,Ga=null,da=null;function Yo(){if(da)return da;var t,a=Ga,s=a.length,u,m="value"in Vr?Vr.value:Vr.textContent,w=m.length;for(t=0;t<s&&a[t]===m[t];t++);var M=s-t;for(u=1;u<=M&&a[s-u]===m[w-u];u++);return da=m.slice(t,1<u?1-u:void 0)}function Pr(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Lr(){return!0}function Qo(){return!1}function Jt(t){function a(s,u,m,w,M){this._reactName=s,this._targetInst=m,this.type=u,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var j in t)t.hasOwnProperty(j)&&(s=t[j],this[j]=s?s(w):w[j]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Lr:Qo,this.isPropagationStopped=Qo,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),a}var mt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=Jt(mt),Gi=b({},mt,{view:0,detail:0}),Cu=Jt(Gi),Is,Ns,jr,Yi=b({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jr&&(jr&&t.type==="mousemove"?(Is=t.screenX-jr.screenX,Ns=t.screenY-jr.screenY):Ns=Is=0,jr=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:Ns}}),ur=Jt(Yi),Du=b({},Yi,{dataTransfer:0}),oh=Jt(Du),Qi=b({},Gi,{relatedTarget:0}),Ms=Jt(Qi),Ko=b({},mt,{animationName:0,elapsedTime:0,pseudoElement:0}),ks=Jt(Ko),Ou=b({},mt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vs=Jt(Ou),lh=b({},mt,{data:0}),Xo=Jt(lh),Ki={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Nu[t])?!!a[t]:!1}function Xi(){return Zo}var Mu=b({},Gi,{key:function(t){if(t.key){var a=Ki[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ps=Jt(Mu),ku=b({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=Jt(ku),ma=b({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),Vu=Jt(ma),Pu=b({},mt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lu=Jt(Pu),ju=b({},Yi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ls=Jt(ju),Dn=b({},mt,{newState:0,oldState:0}),Uu=Jt(Dn),zu=[9,13,27,32],Ur=Er&&"CompositionEvent"in window,h=null;Er&&"documentMode"in document&&(h=document.documentMode);var C=Er&&"TextEvent"in window&&!h,N=Er&&(!Ur||h&&8<h&&11>=h),z=" ",K=!1;function ae(t,a){switch(t){case"keyup":return zu.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var at=!1;function Gt(t,a){switch(t){case"compositionend":return _e(a);case"keypress":return a.which!==32?null:(K=!0,z);case"textInput":return t=a.data,t===z&&K?null:t;default:return null}}function it(t,a){if(at)return t==="compositionend"||!Ur&&ae(t,a)?(t=Yo(),da=Ga=Vr=null,at=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return N&&a.locale!=="ko"?null:a.data;default:return null}}var en={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yt(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!en[t.type]:a==="textarea"}function pa(t,a,s,u){fa?ha?ha.push(u):ha=[u]:fa=u,a=Rc(a,"onChange"),0<a.length&&(s=new Os("onChange","change",null,s,u),t.push({event:s,listeners:a}))}var ln=null,zr=null;function Jo(t){s_(t,0)}function $u(t){var a=dt(t);if(Fo(a))return t}function xg(t,a){if(t==="change")return a}var Cg=!1;if(Er){var uh;if(Er){var ch="oninput"in document;if(!ch){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),ch=typeof Dg.oninput=="function"}uh=ch}else uh=!1;Cg=uh&&(!document.documentMode||9<document.documentMode)}function Og(){ln&&(ln.detachEvent("onpropertychange",Ig),zr=ln=null)}function Ig(t){if(t.propertyName==="value"&&$u(zr)){var a=[];pa(a,zr,t,or(t)),xu(Jo,a)}}function rw(t,a,s){t==="focusin"?(Og(),ln=a,zr=s,ln.attachEvent("onpropertychange",Ig)):t==="focusout"&&Og()}function aw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(zr)}function iw(t,a){if(t==="click")return $u(a)}function sw(t,a){if(t==="input"||t==="change")return $u(a)}function ow(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var $n=typeof Object.is=="function"?Object.is:ow;function el(t,a){if($n(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),u=Object.keys(a);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var m=s[u];if(!Rr.call(a,m)||!$n(t[m],a[m]))return!1}return!0}function Ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,a){var s=Ng(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=a&&u>=a)return{node:s,offset:a-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ng(s)}}function kg(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?kg(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=zi(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=zi(t.document)}return a}function fh(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var lw=Er&&"documentMode"in document&&11>=document.documentMode,js=null,hh=null,tl=null,dh=!1;function Pg(t,a,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;dh||js==null||js!==zi(u)||(u=js,"selectionStart"in u&&fh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),tl&&el(tl,u)||(tl=u,u=Rc(hh,"onSelect"),0<u.length&&(a=new Os("onSelect","select",null,a,s),t.push({event:a,listeners:u}),a.target=js)))}function Zi(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var Us={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},mh={},Lg={};Er&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Wi(t){if(mh[t])return mh[t];if(!Us[t])return t;var a=Us[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in Lg)return mh[t]=a[s];return t}var jg=Wi("animationend"),Ug=Wi("animationiteration"),zg=Wi("animationstart"),uw=Wi("transitionrun"),cw=Wi("transitionstart"),fw=Wi("transitioncancel"),$g=Wi("transitionend"),Bg=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function Ar(t,a){Bg.set(t,a),Ht(a,[t])}var Fg=new WeakMap;function cr(t,a){if(typeof t=="object"&&t!==null){var s=Fg.get(t);return s!==void 0?s:(a={value:t,source:a,stack:la(a)},Fg.set(t,a),a)}return{value:t,source:a,stack:la(a)}}var fr=[],zs=0,gh=0;function Bu(){for(var t=zs,a=gh=zs=0;a<t;){var s=fr[a];fr[a++]=null;var u=fr[a];fr[a++]=null;var m=fr[a];fr[a++]=null;var w=fr[a];if(fr[a++]=null,u!==null&&m!==null){var M=u.pending;M===null?m.next=m:(m.next=M.next,M.next=m),u.pending=m}w!==0&&qg(s,m,w)}}function Fu(t,a,s,u){fr[zs++]=t,fr[zs++]=a,fr[zs++]=s,fr[zs++]=u,gh|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function yh(t,a,s,u){return Fu(t,a,s,u),qu(t)}function $s(t,a){return Fu(t,null,null,a),qu(t)}function qg(t,a,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var m=!1,w=t.return;w!==null;)w.childLanes|=s,u=w.alternate,u!==null&&(u.childLanes|=s),w.tag===22&&(t=w.stateNode,t===null||t._visibility&1||(m=!0)),t=w,w=w.return;return t.tag===3?(w=t.stateNode,m&&a!==null&&(m=31-Ut(s),t=w.hiddenUpdates,u=t[m],u===null?t[m]=[a]:u.push(a),a.lane=s|536870912),w):null}function qu(t){if(50<Rl)throw Rl=0,wd=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Bs={};function hw(t,a,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,a,s,u){return new hw(t,a,s,u)}function vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ga(t,a){var s=t.alternate;return s===null?(s=Bn(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Hg(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Hu(t,a,s,u,m,w){var M=0;if(u=t,typeof t=="function")vh(t)&&(M=1);else if(typeof t=="string")M=mT(t,s,be.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Bn(31,s,a,m),t.elementType=x,t.lanes=w,t;case v:return Ji(s.children,m,w,a);case E:M=8,m|=24;break;case S:return t=Bn(12,s,a,m|2),t.elementType=S,t.lanes=w,t;case V:return t=Bn(13,s,a,m),t.elementType=V,t.lanes=w,t;case P:return t=Bn(19,s,a,m),t.elementType=P,t.lanes=w,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case D:M=10;break e;case R:M=9;break e;case k:M=11;break e;case I:M=14;break e;case T:M=16,u=null;break e}M=29,s=Error(i(130,t===null?"null":typeof t,"")),u=null}return a=Bn(M,s,a,m),a.elementType=t,a.type=u,a.lanes=w,a}function Ji(t,a,s,u){return t=Bn(7,t,u,a),t.lanes=s,t}function _h(t,a,s){return t=Bn(6,t,null,a),t.lanes=s,t}function bh(t,a,s){return a=Bn(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Fs=[],qs=0,Gu=null,Yu=0,hr=[],dr=0,es=null,ya=1,va="";function ts(t,a){Fs[qs++]=Yu,Fs[qs++]=Gu,Gu=t,Yu=a}function Gg(t,a,s){hr[dr++]=ya,hr[dr++]=va,hr[dr++]=es,es=t;var u=ya;t=va;var m=32-Ut(u)-1;u&=~(1<<m),s+=1;var w=32-Ut(a)+m;if(30<w){var M=m-m%5;w=(u&(1<<M)-1).toString(32),u>>=M,m-=M,ya=1<<32-Ut(a)+m|s<<m|u,va=w+t}else ya=1<<w|s<<m|u,va=t}function Eh(t){t.return!==null&&(ts(t,1),Gg(t,1,0))}function Ah(t){for(;t===Gu;)Gu=Fs[--qs],Fs[qs]=null,Yu=Fs[--qs],Fs[qs]=null;for(;t===es;)es=hr[--dr],hr[dr]=null,va=hr[--dr],hr[dr]=null,ya=hr[--dr],hr[dr]=null}var On=null,Mt=null,ht=!1,ns=null,$r=!1,wh=Error(i(519));function rs(t){var a=Error(i(418,""));throw al(cr(a,t)),wh}function Yg(t){var a=t.stateNode,s=t.type,u=t.memoizedProps;switch(a[le]=t,a[ge]=u,s){case"dialog":Je("cancel",a),Je("close",a);break;case"iframe":case"object":case"embed":Je("load",a);break;case"video":case"audio":for(s=0;s<Cl.length;s++)Je(Cl[s],a);break;case"source":Je("error",a);break;case"img":case"image":case"link":Je("error",a),Je("load",a);break;case"details":Je("toggle",a);break;case"input":Je("invalid",a),$i(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Cs(a);break;case"select":Je("invalid",a);break;case"textarea":Je("invalid",a),Bi(a,u.value,u.defaultValue,u.children),Cs(a)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||u.suppressHydrationWarning===!0||c_(a.textContent,s)?(u.popover!=null&&(Je("beforetoggle",a),Je("toggle",a)),u.onScroll!=null&&Je("scroll",a),u.onScrollEnd!=null&&Je("scrollend",a),u.onClick!=null&&(a.onclick=xc),a=!0):a=!1,a||rs(t)}function Qg(t){for(On=t.return;On;)switch(On.tag){case 5:case 13:$r=!1;return;case 27:case 3:$r=!0;return;default:On=On.return}}function nl(t){if(t!==On)return!1;if(!ht)return Qg(t),ht=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ud(t.type,t.memoizedProps)),s=!s),s&&Mt&&rs(t),Qg(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(a===0){Mt=Tr(t.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;t=t.nextSibling}Mt=null}}else a===27?(a=Mt,li(t.type)?(t=Fd,Fd=null,Mt=t):Mt=a):Mt=On?Tr(t.stateNode.nextSibling):null;return!0}function rl(){Mt=On=null,ht=!1}function Kg(){var t=ns;return t!==null&&(kn===null?kn=t:kn.push.apply(kn,t),ns=null),t}function al(t){ns===null?ns=[t]:ns.push(t)}var Th=ne(null),as=null,_a=null;function Ya(t,a,s){ce(Th,a._currentValue),a._currentValue=s}function ba(t){t._currentValue=Th.current,me(Th)}function Sh(t,a,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),t===s)break;t=t.return}}function Rh(t,a,s,u){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var w=m.dependencies;if(w!==null){var M=m.child;w=w.firstContext;e:for(;w!==null;){var j=w;w=m;for(var F=0;F<a.length;F++)if(j.context===a[F]){w.lanes|=s,j=w.alternate,j!==null&&(j.lanes|=s),Sh(w.return,s,t),u||(M=null);break e}w=j.next}}else if(m.tag===18){if(M=m.return,M===null)throw Error(i(341));M.lanes|=s,w=M.alternate,w!==null&&(w.lanes|=s),Sh(M,s,t),M=null}else M=m.child;if(M!==null)M.return=m;else for(M=m;M!==null;){if(M===t){M=null;break}if(m=M.sibling,m!==null){m.return=M.return,M=m;break}M=M.return}m=M}}function il(t,a,s,u){t=null;for(var m=a,w=!1;m!==null;){if(!w){if((m.flags&524288)!==0)w=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var M=m.alternate;if(M===null)throw Error(i(387));if(M=M.memoizedProps,M!==null){var j=m.type;$n(m.pendingProps.value,M.value)||(t!==null?t.push(j):t=[j])}}else if(m===St.current){if(M=m.alternate,M===null)throw Error(i(387));M.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}m=m.return}t!==null&&Rh(a,t,s,u),a.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!$n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function is(t){as=t,_a=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function vn(t){return Xg(as,t)}function Ku(t,a){return as===null&&is(t),Xg(t,a)}function Xg(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},_a===null){if(t===null)throw Error(i(308));_a=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else _a=_a.next=a;return s}var dw=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},mw=r.unstable_scheduleCallback,pw=r.unstable_NormalPriority,Qt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xh(){return{controller:new dw,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&mw(pw,function(){t.controller.abort()})}var ol=null,Ch=0,Hs=0,Gs=null;function gw(t,a){if(ol===null){var s=ol=[];Ch=0,Hs=Od(),Gs={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Ch++,a.then(Zg,Zg),a}function Zg(){if(--Ch===0&&ol!==null){Gs!==null&&(Gs.status="fulfilled");var t=ol;ol=null,Hs=0,Gs=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function yw(t,a){var s=[],u={status:"pending",value:null,reason:null,then:function(m){s.push(m)}};return t.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<s.length;m++)(0,s[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<s.length;m++)(0,s[m])(void 0)}),u}var Wg=G.S;G.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&gw(t,a),Wg!==null&&Wg(t,a)};var ss=ne(null);function Dh(){var t=ss.current;return t!==null?t:Rt.pooledCache}function Xu(t,a){a===null?ce(ss,ss.current):ce(ss,a.pool)}function Jg(){var t=Dh();return t===null?null:{parent:Qt._currentValue,pool:t}}var ll=Error(i(460)),ey=Error(i(474)),Zu=Error(i(542)),Oh={then:function(){}};function ty(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wu(){}function ny(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(Wu,Wu),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,ay(t),t;default:if(typeof a.status=="string")a.then(Wu,Wu);else{if(t=Rt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,ay(t),t}throw ul=a,ll}}var ul=null;function ry(){if(ul===null)throw Error(i(459));var t=ul;return ul=null,t}function ay(t){if(t===ll||t===Zu)throw Error(i(483))}var Qa=!1;function Ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nh(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ka(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xa(t,a,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(gt&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=qu(t),qg(t,null,s),a}return Fu(t,u,a,s),qu(t)}function cl(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var u=a.lanes;u&=t.pendingLanes,s|=u,a.lanes=s,Or(t,s)}}function Mh(t,a){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var m=null,w=null;if(s=s.firstBaseUpdate,s!==null){do{var M={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};w===null?m=w=M:w=w.next=M,s=s.next}while(s!==null);w===null?m=w=a:w=w.next=a}else m=w=a;s={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var kh=!1;function fl(){if(kh){var t=Gs;if(t!==null)throw t}}function hl(t,a,s,u){kh=!1;var m=t.updateQueue;Qa=!1;var w=m.firstBaseUpdate,M=m.lastBaseUpdate,j=m.shared.pending;if(j!==null){m.shared.pending=null;var F=j,W=F.next;F.next=null,M===null?w=W:M.next=W,M=F;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,j=ie.lastBaseUpdate,j!==M&&(j===null?ie.firstBaseUpdate=W:j.next=W,ie.lastBaseUpdate=F))}if(w!==null){var ue=m.baseState;M=0,ie=W=F=null,j=w;do{var ee=j.lane&-536870913,te=ee!==j.lane;if(te?(st&ee)===ee:(u&ee)===ee){ee!==0&&ee===Hs&&(kh=!0),ie!==null&&(ie=ie.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var $e=t,Pe=j;ee=a;var At=s;switch(Pe.tag){case 1:if($e=Pe.payload,typeof $e=="function"){ue=$e.call(At,ue,ee);break e}ue=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Pe.payload,ee=typeof $e=="function"?$e.call(At,ue,ee):$e,ee==null)break e;ue=b({},ue,ee);break e;case 2:Qa=!0}}ee=j.callback,ee!==null&&(t.flags|=64,te&&(t.flags|=8192),te=m.callbacks,te===null?m.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ie===null?(W=ie=te,F=ue):ie=ie.next=te,M|=ee;if(j=j.next,j===null){if(j=m.shared.pending,j===null)break;te=j,j=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);ie===null&&(F=ue),m.baseState=F,m.firstBaseUpdate=W,m.lastBaseUpdate=ie,w===null&&(m.shared.lanes=0),ai|=M,t.lanes=M,t.memoizedState=ue}}function iy(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function sy(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)iy(s[t],a)}var Ys=ne(null),Ju=ne(0);function oy(t,a){t=xa,ce(Ju,t),ce(Ys,a),xa=t|a.baseLanes}function Vh(){ce(Ju,xa),ce(Ys,Ys.current)}function Ph(){xa=Ju.current,me(Ys),me(Ju)}var Za=0,Ye=null,bt=null,Bt=null,ec=!1,Qs=!1,os=!1,tc=0,dl=0,Ks=null,vw=0;function Vt(){throw Error(i(321))}function Lh(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!$n(t[s],a[s]))return!1;return!0}function jh(t,a,s,u,m,w){return Za=w,Ye=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=t===null||t.memoizedState===null?qy:Hy,os=!1,w=s(u,m),os=!1,Qs&&(w=uy(a,s,u,m)),ly(t),w}function ly(t){G.H=oc;var a=bt!==null&&bt.next!==null;if(Za=0,Bt=bt=Ye=null,ec=!1,dl=0,Ks=null,a)throw Error(i(300));t===null||tn||(t=t.dependencies,t!==null&&Qu(t)&&(tn=!0))}function uy(t,a,s,u){Ye=t;var m=0;do{if(Qs&&(Ks=null),dl=0,Qs=!1,25<=m)throw Error(i(301));if(m+=1,Bt=bt=null,t.updateQueue!=null){var w=t.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}G.H=Sw,w=a(s,u)}while(Qs);return w}function _w(){var t=G.H,a=t.useState()[0];return a=typeof a.then=="function"?ml(a):a,t=t.useState()[0],(bt!==null?bt.memoizedState:null)!==t&&(Ye.flags|=1024),a}function Uh(){var t=tc!==0;return tc=0,t}function zh(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function $h(t){if(ec){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}ec=!1}Za=0,Bt=bt=Ye=null,Qs=!1,dl=tc=0,Ks=null}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ye.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Ft(){if(bt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var a=Bt===null?Ye.memoizedState:Bt.next;if(a!==null)Bt=a,bt=t;else{if(t===null)throw Ye.alternate===null?Error(i(467)):Error(i(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Bt===null?Ye.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var a=dl;return dl+=1,Ks===null&&(Ks=[]),t=ny(Ks,t,a),a=Ye,(Bt===null?a.memoizedState:Bt.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?qy:Hy),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===D)return vn(t)}throw Error(i(438,String(t)))}function Fh(t){var a=null,s=Ye.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var u=Ye.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Bh(),Ye.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),u=0;u<t;u++)s[u]=O;return a.index++,s}function Ea(t,a){return typeof a=="function"?a(t):a}function rc(t){var a=Ft();return qh(a,bt,t)}function qh(t,a,s){var u=t.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var m=t.baseQueue,w=u.pending;if(w!==null){if(m!==null){var M=m.next;m.next=w.next,w.next=M}a.baseQueue=m=w,u.pending=null}if(w=t.baseState,m===null)t.memoizedState=w;else{a=m.next;var j=M=null,F=null,W=a,ie=!1;do{var ue=W.lane&-536870913;if(ue!==W.lane?(st&ue)===ue:(Za&ue)===ue){var ee=W.revertLane;if(ee===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ue===Hs&&(ie=!0);else if((Za&ee)===ee){W=W.next,ee===Hs&&(ie=!0);continue}else ue={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},F===null?(j=F=ue,M=w):F=F.next=ue,Ye.lanes|=ee,ai|=ee;ue=W.action,os&&s(w,ue),w=W.hasEagerState?W.eagerState:s(w,ue)}else ee={lane:ue,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},F===null?(j=F=ee,M=w):F=F.next=ee,Ye.lanes|=ue,ai|=ue;W=W.next}while(W!==null&&W!==a);if(F===null?M=w:F.next=j,!$n(w,t.memoizedState)&&(tn=!0,ie&&(s=Gs,s!==null)))throw s;t.memoizedState=w,t.baseState=M,t.baseQueue=F,u.lastRenderedState=w}return m===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Hh(t){var a=Ft(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var u=s.dispatch,m=s.pending,w=a.memoizedState;if(m!==null){s.pending=null;var M=m=m.next;do w=t(w,M.action),M=M.next;while(M!==m);$n(w,a.memoizedState)||(tn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),s.lastRenderedState=w}return[w,u]}function cy(t,a,s){var u=Ye,m=Ft(),w=ht;if(w){if(s===void 0)throw Error(i(407));s=s()}else s=a();var M=!$n((bt||m).memoizedState,s);M&&(m.memoizedState=s,tn=!0),m=m.queue;var j=dy.bind(null,u,m,t);if(pl(2048,8,j,[t]),m.getSnapshot!==a||M||Bt!==null&&Bt.memoizedState.tag&1){if(u.flags|=2048,Xs(9,ac(),hy.bind(null,u,m,s,a),null),Rt===null)throw Error(i(349));w||(Za&124)!==0||fy(u,a,s)}return s}function fy(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Ye.updateQueue,a===null?(a=Bh(),Ye.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function hy(t,a,s,u){a.value=s,a.getSnapshot=u,my(a)&&py(t)}function dy(t,a,s){return s(function(){my(a)&&py(t)})}function my(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!$n(t,s)}catch{return!0}}function py(t){var a=$s(t,2);a!==null&&Yn(a,t,2)}function Gh(t){var a=Nn();if(typeof t=="function"){var s=t;if(t=s(),os){gn(!0);try{s()}finally{gn(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:t},a}function gy(t,a,s,u){return t.baseState=s,qh(t,bt,typeof u=="function"?u:Ea)}function bw(t,a,s,u,m){if(sc(t))throw Error(i(485));if(t=a.action,t!==null){var w={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){w.listeners.push(M)}};G.T!==null?s(!0):w.isTransition=!1,u(w),s=a.pending,s===null?(w.next=a.pending=w,yy(a,w)):(w.next=s.next,a.pending=s.next=w)}}function yy(t,a){var s=a.action,u=a.payload,m=t.state;if(a.isTransition){var w=G.T,M={};G.T=M;try{var j=s(m,u),F=G.S;F!==null&&F(M,j),vy(t,a,j)}catch(W){Yh(t,a,W)}finally{G.T=w}}else try{w=s(m,u),vy(t,a,w)}catch(W){Yh(t,a,W)}}function vy(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){_y(t,a,u)},function(u){return Yh(t,a,u)}):_y(t,a,s)}function _y(t,a,s){a.status="fulfilled",a.value=s,by(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,yy(t,s)))}function Yh(t,a,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=s,by(a),a=a.next;while(a!==u)}t.action=null}function by(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Ey(t,a){return a}function Ay(t,a){if(ht){var s=Rt.formState;if(s!==null){e:{var u=Ye;if(ht){if(Mt){t:{for(var m=Mt,w=$r;m.nodeType!==8;){if(!w){m=null;break t}if(m=Tr(m.nextSibling),m===null){m=null;break t}}w=m.data,m=w==="F!"||w==="F"?m:null}if(m){Mt=Tr(m.nextSibling),u=m.data==="F!";break e}}rs(u)}u=!1}u&&(a=s[0])}}return s=Nn(),s.memoizedState=s.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:a},s.queue=u,s=$y.bind(null,Ye,u),u.dispatch=s,u=Gh(!1),w=Wh.bind(null,Ye,!1,u.queue),u=Nn(),m={state:a,dispatch:null,action:t,pending:null},u.queue=m,s=bw.bind(null,Ye,m,w,s),m.dispatch=s,u.memoizedState=t,[a,s,!1]}function wy(t){var a=Ft();return Ty(a,bt,t)}function Ty(t,a,s){if(a=qh(t,a,Ey)[0],t=rc(Ea)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=ml(a)}catch(M){throw M===ll?Zu:M}else u=a;a=Ft();var m=a.queue,w=m.dispatch;return s!==a.memoizedState&&(Ye.flags|=2048,Xs(9,ac(),Ew.bind(null,m,s),null)),[u,w,t]}function Ew(t,a){t.action=a}function Sy(t){var a=Ft(),s=bt;if(s!==null)return Ty(a,s,t);Ft(),a=a.memoizedState,s=Ft();var u=s.queue.dispatch;return s.memoizedState=t,[a,u,!1]}function Xs(t,a,s,u){return t={tag:t,create:s,deps:u,inst:a,next:null},a=Ye.updateQueue,a===null&&(a=Bh(),Ye.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,a.lastEffect=t),t}function ac(){return{destroy:void 0,resource:void 0}}function Ry(){return Ft().memoizedState}function ic(t,a,s,u){var m=Nn();u=u===void 0?null:u,Ye.flags|=t,m.memoizedState=Xs(1|a,ac(),s,u)}function pl(t,a,s,u){var m=Ft();u=u===void 0?null:u;var w=m.memoizedState.inst;bt!==null&&u!==null&&Lh(u,bt.memoizedState.deps)?m.memoizedState=Xs(a,w,s,u):(Ye.flags|=t,m.memoizedState=Xs(1|a,w,s,u))}function xy(t,a){ic(8390656,8,t,a)}function Cy(t,a){pl(2048,8,t,a)}function Dy(t,a){return pl(4,2,t,a)}function Oy(t,a){return pl(4,4,t,a)}function Iy(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Ny(t,a,s){s=s!=null?s.concat([t]):null,pl(4,4,Iy.bind(null,a,t),s)}function Qh(){}function My(t,a){var s=Ft();a=a===void 0?null:a;var u=s.memoizedState;return a!==null&&Lh(a,u[1])?u[0]:(s.memoizedState=[t,a],t)}function ky(t,a){var s=Ft();a=a===void 0?null:a;var u=s.memoizedState;if(a!==null&&Lh(a,u[1]))return u[0];if(u=t(),os){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[u,a],u}function Kh(t,a,s){return s===void 0||(Za&1073741824)!==0?t.memoizedState=a:(t.memoizedState=s,t=Lv(),Ye.lanes|=t,ai|=t,s)}function Vy(t,a,s,u){return $n(s,a)?s:Ys.current!==null?(t=Kh(t,s,u),$n(t,a)||(tn=!0),t):(Za&42)===0?(tn=!0,t.memoizedState=s):(t=Lv(),Ye.lanes|=t,ai|=t,a)}function Py(t,a,s,u,m){var w=se.p;se.p=w!==0&&8>w?w:8;var M=G.T,j={};G.T=j,Wh(t,!1,a,s);try{var F=m(),W=G.S;if(W!==null&&W(j,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ie=yw(F,u);gl(t,a,ie,Gn(t))}else gl(t,a,u,Gn(t))}catch(ue){gl(t,a,{then:function(){},status:"rejected",reason:ue},Gn())}finally{se.p=w,G.T=M}}function Aw(){}function Xh(t,a,s,u){if(t.tag!==5)throw Error(i(476));var m=Ly(t).queue;Py(t,m,a,ve,s===null?Aw:function(){return jy(t),s(u)})}function Ly(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:ve},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function jy(t){var a=Ly(t).next.queue;gl(t,a,{},Gn())}function Zh(){return vn(kl)}function Uy(){return Ft().memoizedState}function zy(){return Ft().memoizedState}function ww(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=Gn();t=Ka(s);var u=Xa(a,t,s);u!==null&&(Yn(u,a,s),cl(u,a,s)),a={cache:xh()},t.payload=a;return}a=a.return}}function Tw(t,a,s){var u=Gn();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},sc(t)?By(a,s):(s=yh(t,a,s,u),s!==null&&(Yn(s,t,u),Fy(s,a,u)))}function $y(t,a,s){var u=Gn();gl(t,a,s,u)}function gl(t,a,s,u){var m={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(sc(t))By(a,m);else{var w=t.alternate;if(t.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var M=a.lastRenderedState,j=w(M,s);if(m.hasEagerState=!0,m.eagerState=j,$n(j,M))return Fu(t,a,m,0),Rt===null&&Bu(),!1}catch{}finally{}if(s=yh(t,a,m,u),s!==null)return Yn(s,t,u),Fy(s,a,u),!0}return!1}function Wh(t,a,s,u){if(u={lane:2,revertLane:Od(),action:u,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(a)throw Error(i(479))}else a=yh(t,s,u,2),a!==null&&Yn(a,t,2)}function sc(t){var a=t.alternate;return t===Ye||a!==null&&a===Ye}function By(t,a){Qs=ec=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function Fy(t,a,s){if((s&4194048)!==0){var u=a.lanes;u&=t.pendingLanes,s|=u,a.lanes=s,Or(t,s)}}var oc={readContext:vn,use:nc,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},qy={readContext:vn,use:nc,useCallback:function(t,a){return Nn().memoizedState=[t,a===void 0?null:a],t},useContext:vn,useEffect:xy,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,ic(4194308,4,Iy.bind(null,a,t),s)},useLayoutEffect:function(t,a){return ic(4194308,4,t,a)},useInsertionEffect:function(t,a){ic(4,2,t,a)},useMemo:function(t,a){var s=Nn();a=a===void 0?null:a;var u=t();if(os){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[u,a],u},useReducer:function(t,a,s){var u=Nn();if(s!==void 0){var m=s(a);if(os){gn(!0);try{s(a)}finally{gn(!1)}}}else m=a;return u.memoizedState=u.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},u.queue=t,t=t.dispatch=Tw.bind(null,Ye,t),[u.memoizedState,t]},useRef:function(t){var a=Nn();return t={current:t},a.memoizedState=t},useState:function(t){t=Gh(t);var a=t.queue,s=$y.bind(null,Ye,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:Qh,useDeferredValue:function(t,a){var s=Nn();return Kh(s,t,a)},useTransition:function(){var t=Gh(!1);return t=Py.bind(null,Ye,t.queue,!0,!1),Nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var u=Ye,m=Nn();if(ht){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),Rt===null)throw Error(i(349));(st&124)!==0||fy(u,a,s)}m.memoizedState=s;var w={value:s,getSnapshot:a};return m.queue=w,xy(dy.bind(null,u,w,t),[t]),u.flags|=2048,Xs(9,ac(),hy.bind(null,u,w,s,a),null),s},useId:function(){var t=Nn(),a=Rt.identifierPrefix;if(ht){var s=va,u=ya;s=(u&~(1<<32-Ut(u)-1)).toString(32)+s,a=""+a+"R"+s,s=tc++,0<s&&(a+="H"+s.toString(32)),a+=""}else s=vw++,a=""+a+"r"+s.toString(32)+"";return t.memoizedState=a},useHostTransitionStatus:Zh,useFormState:Ay,useActionState:Ay,useOptimistic:function(t){var a=Nn();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Wh.bind(null,Ye,!0,s),s.dispatch=a,[t,a]},useMemoCache:Fh,useCacheRefresh:function(){return Nn().memoizedState=ww.bind(null,Ye)}},Hy={readContext:vn,use:nc,useCallback:My,useContext:vn,useEffect:Cy,useImperativeHandle:Ny,useInsertionEffect:Dy,useLayoutEffect:Oy,useMemo:ky,useReducer:rc,useRef:Ry,useState:function(){return rc(Ea)},useDebugValue:Qh,useDeferredValue:function(t,a){var s=Ft();return Vy(s,bt.memoizedState,t,a)},useTransition:function(){var t=rc(Ea)[0],a=Ft().memoizedState;return[typeof t=="boolean"?t:ml(t),a]},useSyncExternalStore:cy,useId:Uy,useHostTransitionStatus:Zh,useFormState:wy,useActionState:wy,useOptimistic:function(t,a){var s=Ft();return gy(s,bt,t,a)},useMemoCache:Fh,useCacheRefresh:zy},Sw={readContext:vn,use:nc,useCallback:My,useContext:vn,useEffect:Cy,useImperativeHandle:Ny,useInsertionEffect:Dy,useLayoutEffect:Oy,useMemo:ky,useReducer:Hh,useRef:Ry,useState:function(){return Hh(Ea)},useDebugValue:Qh,useDeferredValue:function(t,a){var s=Ft();return bt===null?Kh(s,t,a):Vy(s,bt.memoizedState,t,a)},useTransition:function(){var t=Hh(Ea)[0],a=Ft().memoizedState;return[typeof t=="boolean"?t:ml(t),a]},useSyncExternalStore:cy,useId:Uy,useHostTransitionStatus:Zh,useFormState:Sy,useActionState:Sy,useOptimistic:function(t,a){var s=Ft();return bt!==null?gy(s,bt,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:zy},Zs=null,yl=0;function lc(t){var a=yl;return yl+=1,Zs===null&&(Zs=[]),ny(Zs,t,a)}function vl(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function uc(t,a){throw a.$$typeof===d?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Gy(t){var a=t._init;return a(t._payload)}function Yy(t){function a(Y,H){if(t){var X=Y.deletions;X===null?(Y.deletions=[H],Y.flags|=16):X.push(H)}}function s(Y,H){if(!t)return null;for(;H!==null;)a(Y,H),H=H.sibling;return null}function u(Y){for(var H=new Map;Y!==null;)Y.key!==null?H.set(Y.key,Y):H.set(Y.index,Y),Y=Y.sibling;return H}function m(Y,H){return Y=ga(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,X){return Y.index=X,t?(X=Y.alternate,X!==null?(X=X.index,X<H?(Y.flags|=67108866,H):X):(Y.flags|=67108866,H)):(Y.flags|=1048576,H)}function M(Y){return t&&Y.alternate===null&&(Y.flags|=67108866),Y}function j(Y,H,X,oe){return H===null||H.tag!==6?(H=_h(X,Y.mode,oe),H.return=Y,H):(H=m(H,X),H.return=Y,H)}function F(Y,H,X,oe){var Te=X.type;return Te===v?ie(Y,H,X.props.children,oe,X.key):H!==null&&(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===T&&Gy(Te)===H.type)?(H=m(H,X.props),vl(H,X),H.return=Y,H):(H=Hu(X.type,X.key,X.props,null,Y.mode,oe),vl(H,X),H.return=Y,H)}function W(Y,H,X,oe){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=bh(X,Y.mode,oe),H.return=Y,H):(H=m(H,X.children||[]),H.return=Y,H)}function ie(Y,H,X,oe,Te){return H===null||H.tag!==7?(H=Ji(X,Y.mode,oe,Te),H.return=Y,H):(H=m(H,X),H.return=Y,H)}function ue(Y,H,X){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=_h(""+H,Y.mode,X),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case y:return X=Hu(H.type,H.key,H.props,null,Y.mode,X),vl(X,H),X.return=Y,X;case _:return H=bh(H,Y.mode,X),H.return=Y,H;case T:var oe=H._init;return H=oe(H._payload),ue(Y,H,X)}if(pe(H)||$(H))return H=Ji(H,Y.mode,X,null),H.return=Y,H;if(typeof H.then=="function")return ue(Y,lc(H),X);if(H.$$typeof===D)return ue(Y,Ku(Y,H),X);uc(Y,H)}return null}function ee(Y,H,X,oe){var Te=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Te!==null?null:j(Y,H,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case y:return X.key===Te?F(Y,H,X,oe):null;case _:return X.key===Te?W(Y,H,X,oe):null;case T:return Te=X._init,X=Te(X._payload),ee(Y,H,X,oe)}if(pe(X)||$(X))return Te!==null?null:ie(Y,H,X,oe,null);if(typeof X.then=="function")return ee(Y,H,lc(X),oe);if(X.$$typeof===D)return ee(Y,H,Ku(Y,X),oe);uc(Y,X)}return null}function te(Y,H,X,oe,Te){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Y=Y.get(X)||null,j(H,Y,""+oe,Te);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return Y=Y.get(oe.key===null?X:oe.key)||null,F(H,Y,oe,Te);case _:return Y=Y.get(oe.key===null?X:oe.key)||null,W(H,Y,oe,Te);case T:var Xe=oe._init;return oe=Xe(oe._payload),te(Y,H,X,oe,Te)}if(pe(oe)||$(oe))return Y=Y.get(X)||null,ie(H,Y,oe,Te,null);if(typeof oe.then=="function")return te(Y,H,X,lc(oe),Te);if(oe.$$typeof===D)return te(Y,H,X,Ku(H,oe),Te);uc(H,oe)}return null}function $e(Y,H,X,oe){for(var Te=null,Xe=null,Ie=H,je=H=0,rn=null;Ie!==null&&je<X.length;je++){Ie.index>je?(rn=Ie,Ie=null):rn=Ie.sibling;var ct=ee(Y,Ie,X[je],oe);if(ct===null){Ie===null&&(Ie=rn);break}t&&Ie&&ct.alternate===null&&a(Y,Ie),H=w(ct,H,je),Xe===null?Te=ct:Xe.sibling=ct,Xe=ct,Ie=rn}if(je===X.length)return s(Y,Ie),ht&&ts(Y,je),Te;if(Ie===null){for(;je<X.length;je++)Ie=ue(Y,X[je],oe),Ie!==null&&(H=w(Ie,H,je),Xe===null?Te=Ie:Xe.sibling=Ie,Xe=Ie);return ht&&ts(Y,je),Te}for(Ie=u(Ie);je<X.length;je++)rn=te(Ie,Y,je,X[je],oe),rn!==null&&(t&&rn.alternate!==null&&Ie.delete(rn.key===null?je:rn.key),H=w(rn,H,je),Xe===null?Te=rn:Xe.sibling=rn,Xe=rn);return t&&Ie.forEach(function(di){return a(Y,di)}),ht&&ts(Y,je),Te}function Pe(Y,H,X,oe){if(X==null)throw Error(i(151));for(var Te=null,Xe=null,Ie=H,je=H=0,rn=null,ct=X.next();Ie!==null&&!ct.done;je++,ct=X.next()){Ie.index>je?(rn=Ie,Ie=null):rn=Ie.sibling;var di=ee(Y,Ie,ct.value,oe);if(di===null){Ie===null&&(Ie=rn);break}t&&Ie&&di.alternate===null&&a(Y,Ie),H=w(di,H,je),Xe===null?Te=di:Xe.sibling=di,Xe=di,Ie=rn}if(ct.done)return s(Y,Ie),ht&&ts(Y,je),Te;if(Ie===null){for(;!ct.done;je++,ct=X.next())ct=ue(Y,ct.value,oe),ct!==null&&(H=w(ct,H,je),Xe===null?Te=ct:Xe.sibling=ct,Xe=ct);return ht&&ts(Y,je),Te}for(Ie=u(Ie);!ct.done;je++,ct=X.next())ct=te(Ie,Y,je,ct.value,oe),ct!==null&&(t&&ct.alternate!==null&&Ie.delete(ct.key===null?je:ct.key),H=w(ct,H,je),Xe===null?Te=ct:Xe.sibling=ct,Xe=ct);return t&&Ie.forEach(function(RT){return a(Y,RT)}),ht&&ts(Y,je),Te}function At(Y,H,X,oe){if(typeof X=="object"&&X!==null&&X.type===v&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case y:e:{for(var Te=X.key;H!==null;){if(H.key===Te){if(Te=X.type,Te===v){if(H.tag===7){s(Y,H.sibling),oe=m(H,X.props.children),oe.return=Y,Y=oe;break e}}else if(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===T&&Gy(Te)===H.type){s(Y,H.sibling),oe=m(H,X.props),vl(oe,X),oe.return=Y,Y=oe;break e}s(Y,H);break}else a(Y,H);H=H.sibling}X.type===v?(oe=Ji(X.props.children,Y.mode,oe,X.key),oe.return=Y,Y=oe):(oe=Hu(X.type,X.key,X.props,null,Y.mode,oe),vl(oe,X),oe.return=Y,Y=oe)}return M(Y);case _:e:{for(Te=X.key;H!==null;){if(H.key===Te)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){s(Y,H.sibling),oe=m(H,X.children||[]),oe.return=Y,Y=oe;break e}else{s(Y,H);break}else a(Y,H);H=H.sibling}oe=bh(X,Y.mode,oe),oe.return=Y,Y=oe}return M(Y);case T:return Te=X._init,X=Te(X._payload),At(Y,H,X,oe)}if(pe(X))return $e(Y,H,X,oe);if($(X)){if(Te=$(X),typeof Te!="function")throw Error(i(150));return X=Te.call(X),Pe(Y,H,X,oe)}if(typeof X.then=="function")return At(Y,H,lc(X),oe);if(X.$$typeof===D)return At(Y,H,Ku(Y,X),oe);uc(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,H!==null&&H.tag===6?(s(Y,H.sibling),oe=m(H,X),oe.return=Y,Y=oe):(s(Y,H),oe=_h(X,Y.mode,oe),oe.return=Y,Y=oe),M(Y)):s(Y,H)}return function(Y,H,X,oe){try{yl=0;var Te=At(Y,H,X,oe);return Zs=null,Te}catch(Ie){if(Ie===ll||Ie===Zu)throw Ie;var Xe=Bn(29,Ie,null,Y.mode);return Xe.lanes=oe,Xe.return=Y,Xe}finally{}}}var Ws=Yy(!0),Qy=Yy(!1),mr=ne(null),Br=null;function Wa(t){var a=t.alternate;ce(Kt,Kt.current&1),ce(mr,t),Br===null&&(a===null||Ys.current!==null||a.memoizedState!==null)&&(Br=t)}function Ky(t){if(t.tag===22){if(ce(Kt,Kt.current),ce(mr,t),Br===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(Br=t)}}else Ja()}function Ja(){ce(Kt,Kt.current),ce(mr,mr.current)}function Aa(t){me(mr),Br===t&&(Br=null),me(Kt)}var Kt=ne(0);function cc(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Bd(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Jh(t,a,s,u){a=t.memoizedState,s=s(u,a),s=s==null?a:b({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var ed={enqueueSetState:function(t,a,s){t=t._reactInternals;var u=Gn(),m=Ka(u);m.payload=a,s!=null&&(m.callback=s),a=Xa(t,m,u),a!==null&&(Yn(a,t,u),cl(a,t,u))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var u=Gn(),m=Ka(u);m.tag=1,m.payload=a,s!=null&&(m.callback=s),a=Xa(t,m,u),a!==null&&(Yn(a,t,u),cl(a,t,u))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=Gn(),u=Ka(s);u.tag=2,a!=null&&(u.callback=a),a=Xa(t,u,s),a!==null&&(Yn(a,t,s),cl(a,t,s))}};function Xy(t,a,s,u,m,w,M){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,w,M):a.prototype&&a.prototype.isPureReactComponent?!el(s,u)||!el(m,w):!0}function Zy(t,a,s,u){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,u),a.state!==t&&ed.enqueueReplaceState(a,a.state,null)}function ls(t,a){var s=a;if("ref"in a){s={};for(var u in a)u!=="ref"&&(s[u]=a[u])}if(t=t.defaultProps){s===a&&(s=b({},s));for(var m in t)s[m]===void 0&&(s[m]=t[m])}return s}var fc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Wy(t){fc(t)}function Jy(t){console.error(t)}function ev(t){fc(t)}function hc(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function tv(t,a,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function td(t,a,s){return s=Ka(s),s.tag=3,s.payload={element:null},s.callback=function(){hc(t,a)},s}function nv(t){return t=Ka(t),t.tag=3,t}function rv(t,a,s,u){var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var w=u.value;t.payload=function(){return m(w)},t.callback=function(){tv(a,s,u)}}var M=s.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(t.callback=function(){tv(a,s,u),typeof m!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var j=u.stack;this.componentDidCatch(u.value,{componentStack:j!==null?j:""})})}function Rw(t,a,s,u,m){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=s.alternate,a!==null&&il(a,s,m,!0),s=mr.current,s!==null){switch(s.tag){case 13:return Br===null?Sd():s.alternate===null&&kt===0&&(kt=3),s.flags&=-257,s.flags|=65536,s.lanes=m,u===Oh?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([u]):a.add(u),xd(t,u,m)),!1;case 22:return s.flags|=65536,u===Oh?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([u]):s.add(u)),xd(t,u,m)),!1}throw Error(i(435,s.tag))}return xd(t,u,m),Sd(),!1}if(ht)return a=mr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==wh&&(t=Error(i(422),{cause:u}),al(cr(t,s)))):(u!==wh&&(a=Error(i(423),{cause:u}),al(cr(a,s))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,u=cr(u,s),m=td(t.stateNode,u,m),Mh(t,m),kt!==4&&(kt=2)),!1;var w=Error(i(520),{cause:u});if(w=cr(w,s),Sl===null?Sl=[w]:Sl.push(w),kt!==4&&(kt=2),a===null)return!0;u=cr(u,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=m&-m,s.lanes|=t,t=td(s.stateNode,u,t),Mh(s,t),!1;case 1:if(a=s.type,w=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ii===null||!ii.has(w))))return s.flags|=65536,m&=-m,s.lanes|=m,m=nv(m),rv(m,t,s,u),Mh(s,m),!1}s=s.return}while(s!==null);return!1}var av=Error(i(461)),tn=!1;function un(t,a,s,u){a.child=t===null?Qy(a,null,s,u):Ws(a,t.child,s,u)}function iv(t,a,s,u,m){s=s.render;var w=a.ref;if("ref"in u){var M={};for(var j in u)j!=="ref"&&(M[j]=u[j])}else M=u;return is(a),u=jh(t,a,s,M,w,m),j=Uh(),t!==null&&!tn?(zh(t,a,m),wa(t,a,m)):(ht&&j&&Eh(a),a.flags|=1,un(t,a,u,m),a.child)}function sv(t,a,s,u,m){if(t===null){var w=s.type;return typeof w=="function"&&!vh(w)&&w.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=w,ov(t,a,w,u,m)):(t=Hu(s.type,null,u,a,a.mode,m),t.ref=a.ref,t.return=a,a.child=t)}if(w=t.child,!ud(t,m)){var M=w.memoizedProps;if(s=s.compare,s=s!==null?s:el,s(M,u)&&t.ref===a.ref)return wa(t,a,m)}return a.flags|=1,t=ga(w,u),t.ref=a.ref,t.return=a,a.child=t}function ov(t,a,s,u,m){if(t!==null){var w=t.memoizedProps;if(el(w,u)&&t.ref===a.ref)if(tn=!1,a.pendingProps=u=w,ud(t,m))(t.flags&131072)!==0&&(tn=!0);else return a.lanes=t.lanes,wa(t,a,m)}return nd(t,a,s,u,m)}function lv(t,a,s){var u=a.pendingProps,m=u.children,w=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=w!==null?w.baseLanes|s:s,t!==null){for(m=a.child=t.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;a.childLanes=w&~u}else a.childLanes=0,a.child=null;return uv(t,a,u,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(a,w!==null?w.cachePool:null),w!==null?oy(a,w):Vh(),Ky(a);else return a.lanes=a.childLanes=536870912,uv(t,a,w!==null?w.baseLanes|s:s,s)}else w!==null?(Xu(a,w.cachePool),oy(a,w),Ja(),a.memoizedState=null):(t!==null&&Xu(a,null),Vh(),Ja());return un(t,a,m,s),a.child}function uv(t,a,s,u){var m=Dh();return m=m===null?null:{parent:Qt._currentValue,pool:m},a.memoizedState={baseLanes:s,cachePool:m},t!==null&&Xu(a,null),Vh(),Ky(a),t!==null&&il(t,a,u,!0),null}function dc(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function nd(t,a,s,u,m){return is(a),s=jh(t,a,s,u,void 0,m),u=Uh(),t!==null&&!tn?(zh(t,a,m),wa(t,a,m)):(ht&&u&&Eh(a),a.flags|=1,un(t,a,s,m),a.child)}function cv(t,a,s,u,m,w){return is(a),a.updateQueue=null,s=uy(a,u,s,m),ly(t),u=Uh(),t!==null&&!tn?(zh(t,a,w),wa(t,a,w)):(ht&&u&&Eh(a),a.flags|=1,un(t,a,s,w),a.child)}function fv(t,a,s,u,m){if(is(a),a.stateNode===null){var w=Bs,M=s.contextType;typeof M=="object"&&M!==null&&(w=vn(M)),w=new s(u,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ed,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=u,w.state=a.memoizedState,w.refs={},Ih(a),M=s.contextType,w.context=typeof M=="object"&&M!==null?vn(M):Bs,w.state=a.memoizedState,M=s.getDerivedStateFromProps,typeof M=="function"&&(Jh(a,s,M,u),w.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(M=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),M!==w.state&&ed.enqueueReplaceState(w,w.state,null),hl(a,u,w,m),fl(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(t===null){w=a.stateNode;var j=a.memoizedProps,F=ls(s,j);w.props=F;var W=w.context,ie=s.contextType;M=Bs,typeof ie=="object"&&ie!==null&&(M=vn(ie));var ue=s.getDerivedStateFromProps;ie=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function",j=a.pendingProps!==j,ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(j||W!==M)&&Zy(a,w,u,M),Qa=!1;var ee=a.memoizedState;w.state=ee,hl(a,u,w,m),fl(),W=a.memoizedState,j||ee!==W||Qa?(typeof ue=="function"&&(Jh(a,s,ue,u),W=a.memoizedState),(F=Qa||Xy(a,s,F,u,ee,W,M))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=W),w.props=u,w.state=W,w.context=M,u=F):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{w=a.stateNode,Nh(t,a),M=a.memoizedProps,ie=ls(s,M),w.props=ie,ue=a.pendingProps,ee=w.context,W=s.contextType,F=Bs,typeof W=="object"&&W!==null&&(F=vn(W)),j=s.getDerivedStateFromProps,(W=typeof j=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==ue||ee!==F)&&Zy(a,w,u,F),Qa=!1,ee=a.memoizedState,w.state=ee,hl(a,u,w,m),fl();var te=a.memoizedState;M!==ue||ee!==te||Qa||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof j=="function"&&(Jh(a,s,j,u),te=a.memoizedState),(ie=Qa||Xy(a,s,ie,u,ee,te,F)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(W||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(u,te,F),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(u,te,F)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||M===t.memoizedProps&&ee===t.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===t.memoizedProps&&ee===t.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=te),w.props=u,w.state=te,w.context=F,u=ie):(typeof w.componentDidUpdate!="function"||M===t.memoizedProps&&ee===t.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===t.memoizedProps&&ee===t.memoizedState||(a.flags|=1024),u=!1)}return w=u,dc(t,a),u=(a.flags&128)!==0,w||u?(w=a.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,t!==null&&u?(a.child=Ws(a,t.child,null,m),a.child=Ws(a,null,s,m)):un(t,a,s,m),a.memoizedState=w.state,t=a.child):t=wa(t,a,m),t}function hv(t,a,s,u){return rl(),a.flags|=256,un(t,a,s,u),a.child}var rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(t){return{baseLanes:t,cachePool:Jg()}}function id(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=pr),t}function dv(t,a,s){var u=a.pendingProps,m=!1,w=(a.flags&128)!==0,M;if((M=w)||(M=t!==null&&t.memoizedState===null?!1:(Kt.current&2)!==0),M&&(m=!0,a.flags&=-129),M=(a.flags&32)!==0,a.flags&=-33,t===null){if(ht){if(m?Wa(a):Ja(),ht){var j=Mt,F;if(F=j){e:{for(F=j,j=$r;F.nodeType!==8;){if(!j){j=null;break e}if(F=Tr(F.nextSibling),F===null){j=null;break e}}j=F}j!==null?(a.memoizedState={dehydrated:j,treeContext:es!==null?{id:ya,overflow:va}:null,retryLane:536870912,hydrationErrors:null},F=Bn(18,null,null,0),F.stateNode=j,F.return=a,a.child=F,On=a,Mt=null,F=!0):F=!1}F||rs(a)}if(j=a.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Bd(j)?a.lanes=32:a.lanes=536870912,null;Aa(a)}return j=u.children,u=u.fallback,m?(Ja(),m=a.mode,j=mc({mode:"hidden",children:j},m),u=Ji(u,m,s,null),j.return=a,u.return=a,j.sibling=u,a.child=j,m=a.child,m.memoizedState=ad(s),m.childLanes=id(t,M,s),a.memoizedState=rd,u):(Wa(a),sd(a,j))}if(F=t.memoizedState,F!==null&&(j=F.dehydrated,j!==null)){if(w)a.flags&256?(Wa(a),a.flags&=-257,a=od(t,a,s)):a.memoizedState!==null?(Ja(),a.child=t.child,a.flags|=128,a=null):(Ja(),m=u.fallback,j=a.mode,u=mc({mode:"visible",children:u.children},j),m=Ji(m,j,s,null),m.flags|=2,u.return=a,m.return=a,u.sibling=m,a.child=u,Ws(a,t.child,null,s),u=a.child,u.memoizedState=ad(s),u.childLanes=id(t,M,s),a.memoizedState=rd,a=m);else if(Wa(a),Bd(j)){if(M=j.nextSibling&&j.nextSibling.dataset,M)var W=M.dgst;M=W,u=Error(i(419)),u.stack="",u.digest=M,al({value:u,source:null,stack:null}),a=od(t,a,s)}else if(tn||il(t,a,s,!1),M=(s&t.childLanes)!==0,tn||M){if(M=Rt,M!==null&&(u=s&-s,u=(u&42)!==0?1:Ir(u),u=(u&(M.suspendedLanes|s))!==0?0:u,u!==0&&u!==F.retryLane))throw F.retryLane=u,$s(t,u),Yn(M,t,u),av;j.data==="$?"||Sd(),a=od(t,a,s)}else j.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=F.treeContext,Mt=Tr(j.nextSibling),On=a,ht=!0,ns=null,$r=!1,t!==null&&(hr[dr++]=ya,hr[dr++]=va,hr[dr++]=es,ya=t.id,va=t.overflow,es=a),a=sd(a,u.children),a.flags|=4096);return a}return m?(Ja(),m=u.fallback,j=a.mode,F=t.child,W=F.sibling,u=ga(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,W!==null?m=ga(W,m):(m=Ji(m,j,s,null),m.flags|=2),m.return=a,u.return=a,u.sibling=m,a.child=u,u=m,m=a.child,j=t.child.memoizedState,j===null?j=ad(s):(F=j.cachePool,F!==null?(W=Qt._currentValue,F=F.parent!==W?{parent:W,pool:W}:F):F=Jg(),j={baseLanes:j.baseLanes|s,cachePool:F}),m.memoizedState=j,m.childLanes=id(t,M,s),a.memoizedState=rd,u):(Wa(a),s=t.child,t=s.sibling,s=ga(s,{mode:"visible",children:u.children}),s.return=a,s.sibling=null,t!==null&&(M=a.deletions,M===null?(a.deletions=[t],a.flags|=16):M.push(t)),a.child=s,a.memoizedState=null,s)}function sd(t,a){return a=mc({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function mc(t,a){return t=Bn(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function od(t,a,s){return Ws(a,t.child,null,s),t=sd(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function mv(t,a,s){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a),Sh(t.return,a,s)}function ld(t,a,s,u,m){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:m}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=s,w.tailMode=m)}function pv(t,a,s){var u=a.pendingProps,m=u.revealOrder,w=u.tail;if(un(t,a,u.children,s),u=Kt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mv(t,s,a);else if(t.tag===19)mv(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(ce(Kt,u),m){case"forwards":for(s=a.child,m=null;s!==null;)t=s.alternate,t!==null&&cc(t)===null&&(m=s),s=s.sibling;s=m,s===null?(m=a.child,a.child=null):(m=s.sibling,s.sibling=null),ld(a,!1,m,s,w);break;case"backwards":for(s=null,m=a.child,a.child=null;m!==null;){if(t=m.alternate,t!==null&&cc(t)===null){a.child=m;break}t=m.sibling,m.sibling=s,s=m,m=t}ld(a,!0,s,null,w);break;case"together":ld(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function wa(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),ai|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(il(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,s=ga(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=ga(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function ud(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function xw(t,a,s){switch(a.tag){case 3:vt(a,a.stateNode.containerInfo),Ya(a,Qt,t.memoizedState.cache),rl();break;case 27:case 5:Ct(a);break;case 4:vt(a,a.stateNode.containerInfo);break;case 10:Ya(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Wa(a),a.flags|=128,null):(s&a.child.childLanes)!==0?dv(t,a,s):(Wa(a),t=wa(t,a,s),t!==null?t.sibling:null);Wa(a);break;case 19:var m=(t.flags&128)!==0;if(u=(s&a.childLanes)!==0,u||(il(t,a,s,!1),u=(s&a.childLanes)!==0),m){if(u)return pv(t,a,s);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Kt,Kt.current),u)break;return null;case 22:case 23:return a.lanes=0,lv(t,a,s);case 24:Ya(a,Qt,t.memoizedState.cache)}return wa(t,a,s)}function gv(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)tn=!0;else{if(!ud(t,s)&&(a.flags&128)===0)return tn=!1,xw(t,a,s);tn=(t.flags&131072)!==0}else tn=!1,ht&&(a.flags&1048576)!==0&&Gg(a,Yu,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var u=a.elementType,m=u._init;if(u=m(u._payload),a.type=u,typeof u=="function")vh(u)?(t=ls(u,t),a.tag=1,a=fv(null,a,u,t,s)):(a.tag=0,a=nd(null,a,u,t,s));else{if(u!=null){if(m=u.$$typeof,m===k){a.tag=11,a=iv(null,a,u,t,s);break e}else if(m===I){a.tag=14,a=sv(null,a,u,t,s);break e}}throw a=he(u)||u,Error(i(306,a,""))}}return a;case 0:return nd(t,a,a.type,a.pendingProps,s);case 1:return u=a.type,m=ls(u,a.pendingProps),fv(t,a,u,m,s);case 3:e:{if(vt(a,a.stateNode.containerInfo),t===null)throw Error(i(387));u=a.pendingProps;var w=a.memoizedState;m=w.element,Nh(t,a),hl(a,u,null,s);var M=a.memoizedState;if(u=M.cache,Ya(a,Qt,u),u!==w.cache&&Rh(a,[Qt],s,!0),fl(),u=M.element,w.isDehydrated)if(w={element:u,isDehydrated:!1,cache:M.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=hv(t,a,u,s);break e}else if(u!==m){m=cr(Error(i(424)),a),al(m),a=hv(t,a,u,s);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Mt=Tr(t.firstChild),On=a,ht=!0,ns=null,$r=!0,s=Qy(a,null,u,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(rl(),u===m){a=wa(t,a,s);break e}un(t,a,u,s)}a=a.child}return a;case 26:return dc(t,a),t===null?(s=b_(a.type,null,a.pendingProps,null))?a.memoizedState=s:ht||(s=a.type,t=a.pendingProps,u=Cc(Ce.current).createElement(s),u[le]=a,u[ge]=t,fn(u,s,t),rt(u),a.stateNode=u):a.memoizedState=b_(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Ct(a),t===null&&ht&&(u=a.stateNode=y_(a.type,a.pendingProps,Ce.current),On=a,$r=!0,m=Mt,li(a.type)?(Fd=m,Mt=Tr(u.firstChild)):Mt=m),un(t,a,a.pendingProps.children,s),dc(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&ht&&((m=u=Mt)&&(u=tT(u,a.type,a.pendingProps,$r),u!==null?(a.stateNode=u,On=a,Mt=Tr(u.firstChild),$r=!1,m=!0):m=!1),m||rs(a)),Ct(a),m=a.type,w=a.pendingProps,M=t!==null?t.memoizedProps:null,u=w.children,Ud(m,w)?u=null:M!==null&&Ud(m,M)&&(a.flags|=32),a.memoizedState!==null&&(m=jh(t,a,_w,null,null,s),kl._currentValue=m),dc(t,a),un(t,a,u,s),a.child;case 6:return t===null&&ht&&((t=s=Mt)&&(s=nT(s,a.pendingProps,$r),s!==null?(a.stateNode=s,On=a,Mt=null,t=!0):t=!1),t||rs(a)),null;case 13:return dv(t,a,s);case 4:return vt(a,a.stateNode.containerInfo),u=a.pendingProps,t===null?a.child=Ws(a,null,u,s):un(t,a,u,s),a.child;case 11:return iv(t,a,a.type,a.pendingProps,s);case 7:return un(t,a,a.pendingProps,s),a.child;case 8:return un(t,a,a.pendingProps.children,s),a.child;case 12:return un(t,a,a.pendingProps.children,s),a.child;case 10:return u=a.pendingProps,Ya(a,a.type,u.value),un(t,a,u.children,s),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,is(a),m=vn(m),u=u(m),a.flags|=1,un(t,a,u,s),a.child;case 14:return sv(t,a,a.type,a.pendingProps,s);case 15:return ov(t,a,a.type,a.pendingProps,s);case 19:return pv(t,a,s);case 31:return u=a.pendingProps,s=a.mode,u={mode:u.mode,children:u.children},t===null?(s=mc(u,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=ga(t.child,u),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return lv(t,a,s);case 24:return is(a),u=vn(Qt),t===null?(m=Dh(),m===null&&(m=Rt,w=xh(),m.pooledCache=w,w.refCount++,w!==null&&(m.pooledCacheLanes|=s),m=w),a.memoizedState={parent:u,cache:m},Ih(a),Ya(a,Qt,m)):((t.lanes&s)!==0&&(Nh(t,a),hl(a,null,null,s),fl()),m=t.memoizedState,w=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ya(a,Qt,u)):(u=w.cache,Ya(a,Qt,u),u!==m.cache&&Rh(a,[Qt],s,!0))),un(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ta(t){t.flags|=4}function yv(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!S_(a)){if(a=mr.current,a!==null&&((st&4194048)===st?Br!==null:(st&62914560)!==st&&(st&536870912)===0||a!==Br))throw ul=Oh,ey;t.flags|=8192}}function pc(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Ui():536870912,t.lanes|=a,no|=a)}function _l(t,a){if(!ht)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function It(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(a)for(var m=t.child;m!==null;)s|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)s|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=u,t.childLanes=s,a}function Cw(t,a,s){var u=a.pendingProps;switch(Ah(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(a),null;case 1:return It(a),null;case 3:return s=a.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ba(Qt),Jn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(nl(a)?Ta(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Kg())),It(a),null;case 26:return s=a.memoizedState,t===null?(Ta(a),s!==null?(It(a),yv(a,s)):(It(a),a.flags&=-16777217)):s?s!==t.memoizedState?(Ta(a),It(a),yv(a,s)):(It(a),a.flags&=-16777217):(t.memoizedProps!==u&&Ta(a),It(a),a.flags&=-16777217),null;case 27:pn(a),s=Ce.current;var m=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==u&&Ta(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return It(a),null}t=be.current,nl(a)?Yg(a):(t=y_(m,u,s),a.stateNode=t,Ta(a))}return It(a),null;case 5:if(pn(a),s=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==u&&Ta(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return It(a),null}if(t=be.current,nl(a))Yg(a);else{switch(m=Cc(Ce.current),t){case 1:t=m.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=m.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=m.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=m.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?m.createElement(s,{is:u.is}):m.createElement(s)}}t[le]=a,t[ge]=u;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)t.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=t;e:switch(fn(t,s,u),s){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ta(a)}}return It(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==u&&Ta(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(t=Ce.current,nl(a)){if(t=a.stateNode,s=a.memoizedProps,u=null,m=On,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}t[le]=a,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||c_(t.nodeValue,s)),t||rs(a)}else t=Cc(t).createTextNode(u),t[le]=a,a.stateNode=t}return It(a),null;case 13:if(u=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=nl(a),u!==null&&u.dehydrated!==null){if(t===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[le]=a}else rl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;It(a),m=!1}else m=Kg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Aa(a),a):(Aa(a),null)}if(Aa(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=u!==null,t=t!==null&&t.memoizedState!==null,s){u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var w=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(w=u.memoizedState.cachePool.pool),w!==m&&(u.flags|=2048)}return s!==t&&s&&(a.child.flags|=8192),pc(a,a.updateQueue),It(a),null;case 4:return Jn(),t===null&&kd(a.stateNode.containerInfo),It(a),null;case 10:return ba(a.type),It(a),null;case 19:if(me(Kt),m=a.memoizedState,m===null)return It(a),null;if(u=(a.flags&128)!==0,w=m.rendering,w===null)if(u)_l(m,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(w=cc(t),w!==null){for(a.flags|=128,_l(m,!1),t=w.updateQueue,a.updateQueue=t,pc(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)Hg(s,t),s=s.sibling;return ce(Kt,Kt.current&1|2),a.child}t=t.sibling}m.tail!==null&&Sn()>vc&&(a.flags|=128,u=!0,_l(m,!1),a.lanes=4194304)}else{if(!u)if(t=cc(w),t!==null){if(a.flags|=128,u=!0,t=t.updateQueue,a.updateQueue=t,pc(a,t),_l(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!ht)return It(a),null}else 2*Sn()-m.renderingStartTime>vc&&s!==536870912&&(a.flags|=128,u=!0,_l(m,!1),a.lanes=4194304);m.isBackwards?(w.sibling=a.child,a.child=w):(t=m.last,t!==null?t.sibling=w:a.child=w,m.last=w)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Sn(),a.sibling=null,t=Kt.current,ce(Kt,u?t&1|2:t&1),a):(It(a),null);case 22:case 23:return Aa(a),Ph(),u=a.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(s&536870912)!==0&&(a.flags&128)===0&&(It(a),a.subtreeFlags&6&&(a.flags|=8192)):It(a),s=a.updateQueue,s!==null&&pc(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==s&&(a.flags|=2048),t!==null&&me(ss),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),ba(Qt),It(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Dw(t,a){switch(Ah(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ba(Qt),Jn(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return pn(a),null;case 13:if(Aa(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));rl()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return me(Kt),null;case 4:return Jn(),null;case 10:return ba(a.type),null;case 22:case 23:return Aa(a),Ph(),t!==null&&me(ss),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return ba(Qt),null;case 25:return null;default:return null}}function vv(t,a){switch(Ah(a),a.tag){case 3:ba(Qt),Jn();break;case 26:case 27:case 5:pn(a);break;case 4:Jn();break;case 13:Aa(a);break;case 19:me(Kt);break;case 10:ba(a.type);break;case 22:case 23:Aa(a),Ph(),t!==null&&me(ss);break;case 24:ba(Qt)}}function bl(t,a){try{var s=a.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var m=u.next;s=m;do{if((s.tag&t)===t){u=void 0;var w=s.create,M=s.inst;u=w(),M.destroy=u}s=s.next}while(s!==m)}}catch(j){Tt(a,a.return,j)}}function ei(t,a,s){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var w=m.next;u=w;do{if((u.tag&t)===t){var M=u.inst,j=M.destroy;if(j!==void 0){M.destroy=void 0,m=a;var F=s,W=j;try{W()}catch(ie){Tt(m,F,ie)}}}u=u.next}while(u!==w)}}catch(ie){Tt(a,a.return,ie)}}function _v(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{sy(a,s)}catch(u){Tt(t,t.return,u)}}}function bv(t,a,s){s.props=ls(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){Tt(t,a,u)}}function El(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(m){Tt(t,a,m)}}function Fr(t,a){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(m){Tt(t,a,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(m){Tt(t,a,m)}else s.current=null}function Ev(t){var a=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(m){Tt(t,t.return,m)}}function cd(t,a,s){try{var u=t.stateNode;Xw(u,t.type,s,a),u[ge]=a}catch(m){Tt(t,t.return,m)}}function Av(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&li(t.type)||t.tag===4}function fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Av(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&li(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hd(t,a,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=xc));else if(u!==4&&(u===27&&li(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(hd(t,a,s),t=t.sibling;t!==null;)hd(t,a,s),t=t.sibling}function gc(t,a,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(u!==4&&(u===27&&li(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(gc(t,a,s),t=t.sibling;t!==null;)gc(t,a,s),t=t.sibling}function wv(t){var a=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);fn(a,u,s),a[le]=t,a[ge]=s}catch(w){Tt(t,t.return,w)}}var Sa=!1,Pt=!1,dd=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,nn=null;function Ow(t,a){if(t=t.containerInfo,Ld=kc,t=Vg(t),fh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var m=u.anchorOffset,w=u.focusNode;u=u.focusOffset;try{s.nodeType,w.nodeType}catch{s=null;break e}var M=0,j=-1,F=-1,W=0,ie=0,ue=t,ee=null;t:for(;;){for(var te;ue!==s||m!==0&&ue.nodeType!==3||(j=M+m),ue!==w||u!==0&&ue.nodeType!==3||(F=M+u),ue.nodeType===3&&(M+=ue.nodeValue.length),(te=ue.firstChild)!==null;)ee=ue,ue=te;for(;;){if(ue===t)break t;if(ee===s&&++W===m&&(j=M),ee===w&&++ie===u&&(F=M),(te=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=te}s=j===-1||F===-1?null:{start:j,end:F}}else s=null}s=s||{start:0,end:0}}else s=null;for(jd={focusedElem:t,selectionRange:s},kc=!1,nn=a;nn!==null;)if(a=nn,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,nn=t;else for(;nn!==null;){switch(a=nn,w=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&w!==null){t=void 0,s=a,m=w.memoizedProps,w=w.memoizedState,u=s.stateNode;try{var $e=ls(s.type,m,s.elementType===s.type);t=u.getSnapshotBeforeUpdate($e,w),u.__reactInternalSnapshotBeforeUpdate=t}catch(Pe){Tt(s,s.return,Pe)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)$d(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,nn=t;break}nn=a.return}}function Sv(t,a,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:ti(t,s),u&4&&bl(5,s);break;case 1:if(ti(t,s),u&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(M){Tt(s,s.return,M)}else{var m=ls(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(m,a,t.__reactInternalSnapshotBeforeUpdate)}catch(M){Tt(s,s.return,M)}}u&64&&_v(s),u&512&&El(s,s.return);break;case 3:if(ti(t,s),u&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{sy(t,a)}catch(M){Tt(s,s.return,M)}}break;case 27:a===null&&u&4&&wv(s);case 26:case 5:ti(t,s),a===null&&u&4&&Ev(s),u&512&&El(s,s.return);break;case 12:ti(t,s);break;case 13:ti(t,s),u&4&&Cv(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Uw.bind(null,s),rT(t,s))));break;case 22:if(u=s.memoizedState!==null||Sa,!u){a=a!==null&&a.memoizedState!==null||Pt,m=Sa;var w=Pt;Sa=u,(Pt=a)&&!w?ni(t,s,(s.subtreeFlags&8772)!==0):ti(t,s),Sa=m,Pt=w}break;case 30:break;default:ti(t,s)}}function Rv(t){var a=t.alternate;a!==null&&(t.alternate=null,Rv(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Re(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dt=null,Mn=!1;function Ra(t,a,s){for(s=s.child;s!==null;)xv(t,a,s),s=s.sibling}function xv(t,a,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ft,s)}catch{}switch(s.tag){case 26:Pt||Fr(s,a),Ra(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Pt||Fr(s,a);var u=Dt,m=Mn;li(s.type)&&(Dt=s.stateNode,Mn=!1),Ra(t,a,s),Ol(s.stateNode),Dt=u,Mn=m;break;case 5:Pt||Fr(s,a);case 6:if(u=Dt,m=Mn,Dt=null,Ra(t,a,s),Dt=u,Mn=m,Dt!==null)if(Mn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(s.stateNode)}catch(w){Tt(s,a,w)}else try{Dt.removeChild(s.stateNode)}catch(w){Tt(s,a,w)}break;case 18:Dt!==null&&(Mn?(t=Dt,p_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),jl(t)):p_(Dt,s.stateNode));break;case 4:u=Dt,m=Mn,Dt=s.stateNode.containerInfo,Mn=!0,Ra(t,a,s),Dt=u,Mn=m;break;case 0:case 11:case 14:case 15:Pt||ei(2,s,a),Pt||ei(4,s,a),Ra(t,a,s);break;case 1:Pt||(Fr(s,a),u=s.stateNode,typeof u.componentWillUnmount=="function"&&bv(s,a,u)),Ra(t,a,s);break;case 21:Ra(t,a,s);break;case 22:Pt=(u=Pt)||s.memoizedState!==null,Ra(t,a,s),Pt=u;break;default:Ra(t,a,s)}}function Cv(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(s){Tt(a,a.return,s)}}function Iw(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new Tv),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new Tv),a;default:throw Error(i(435,t.tag))}}function md(t,a){var s=Iw(t);a.forEach(function(u){var m=zw.bind(null,t,u);s.has(u)||(s.add(u),u.then(m,m))})}function Fn(t,a){var s=a.deletions;if(s!==null)for(var u=0;u<s.length;u++){var m=s[u],w=t,M=a,j=M;e:for(;j!==null;){switch(j.tag){case 27:if(li(j.type)){Dt=j.stateNode,Mn=!1;break e}break;case 5:Dt=j.stateNode,Mn=!1;break e;case 3:case 4:Dt=j.stateNode.containerInfo,Mn=!0;break e}j=j.return}if(Dt===null)throw Error(i(160));xv(w,M,m),Dt=null,Mn=!1,w=m.alternate,w!==null&&(w.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Dv(a,t),a=a.sibling}var wr=null;function Dv(t,a){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Fn(a,t),qn(t),u&4&&(ei(3,t,t.return),bl(3,t),ei(5,t,t.return));break;case 1:Fn(a,t),qn(t),u&512&&(Pt||s===null||Fr(s,s.return)),u&64&&Sa&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var m=wr;if(Fn(a,t),qn(t),u&512&&(Pt||s===null||Fr(s,s.return)),u&4){var w=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":w=m.getElementsByTagName("title")[0],(!w||w[Ve]||w[le]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=m.createElement(u),m.head.insertBefore(w,m.querySelector("head > title"))),fn(w,u,s),w[le]=t,rt(w),u=w;break e;case"link":var M=w_("link","href",m).get(u+(s.href||""));if(M){for(var j=0;j<M.length;j++)if(w=M[j],w.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&w.getAttribute("rel")===(s.rel==null?null:s.rel)&&w.getAttribute("title")===(s.title==null?null:s.title)&&w.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){M.splice(j,1);break t}}w=m.createElement(u),fn(w,u,s),m.head.appendChild(w);break;case"meta":if(M=w_("meta","content",m).get(u+(s.content||""))){for(j=0;j<M.length;j++)if(w=M[j],w.getAttribute("content")===(s.content==null?null:""+s.content)&&w.getAttribute("name")===(s.name==null?null:s.name)&&w.getAttribute("property")===(s.property==null?null:s.property)&&w.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&w.getAttribute("charset")===(s.charSet==null?null:s.charSet)){M.splice(j,1);break t}}w=m.createElement(u),fn(w,u,s),m.head.appendChild(w);break;default:throw Error(i(468,u))}w[le]=t,rt(w),u=w}t.stateNode=u}else T_(m,t.type,t.stateNode);else t.stateNode=A_(m,u,t.memoizedProps);else w!==u?(w===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):w.count--,u===null?T_(m,t.type,t.stateNode):A_(m,u,t.memoizedProps)):u===null&&t.stateNode!==null&&cd(t,t.memoizedProps,s.memoizedProps)}break;case 27:Fn(a,t),qn(t),u&512&&(Pt||s===null||Fr(s,s.return)),s!==null&&u&4&&cd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Fn(a,t),qn(t),u&512&&(Pt||s===null||Fr(s,s.return)),t.flags&32){m=t.stateNode;try{sr(m,"")}catch(te){Tt(t,t.return,te)}}u&4&&t.stateNode!=null&&(m=t.memoizedProps,cd(t,m,s!==null?s.memoizedProps:m)),u&1024&&(dd=!0);break;case 6:if(Fn(a,t),qn(t),u&4){if(t.stateNode===null)throw Error(i(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(te){Tt(t,t.return,te)}}break;case 3:if(Ic=null,m=wr,wr=Dc(a.containerInfo),Fn(a,t),wr=m,qn(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{jl(a.containerInfo)}catch(te){Tt(t,t.return,te)}dd&&(dd=!1,Ov(t));break;case 4:u=wr,wr=Dc(t.stateNode.containerInfo),Fn(a,t),qn(t),wr=u;break;case 12:Fn(a,t),qn(t);break;case 13:Fn(a,t),qn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(bd=Sn()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,md(t,u)));break;case 22:m=t.memoizedState!==null;var F=s!==null&&s.memoizedState!==null,W=Sa,ie=Pt;if(Sa=W||m,Pt=ie||F,Fn(a,t),Pt=ie,Sa=W,qn(t),u&8192)e:for(a=t.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(s===null||F||Sa||Pt||us(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){F=s=a;try{if(w=F.stateNode,m)M=w.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{j=F.stateNode;var ue=F.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;j.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){Tt(F,F.return,te)}}}else if(a.tag===6){if(s===null){F=a;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(te){Tt(F,F.return,te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,md(t,s))));break;case 19:Fn(a,t),qn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,md(t,u)));break;case 30:break;case 21:break;default:Fn(a,t),qn(t)}}function qn(t){var a=t.flags;if(a&2){try{for(var s,u=t.return;u!==null;){if(Av(u)){s=u;break}u=u.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var m=s.stateNode,w=fd(t);gc(t,w,m);break;case 5:var M=s.stateNode;s.flags&32&&(sr(M,""),s.flags&=-33);var j=fd(t);gc(t,j,M);break;case 3:case 4:var F=s.stateNode.containerInfo,W=fd(t);hd(t,W,F);break;default:throw Error(i(161))}}catch(ie){Tt(t,t.return,ie)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Ov(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Ov(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function ti(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Sv(t,a.alternate,a),a=a.sibling}function us(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:ei(4,a,a.return),us(a);break;case 1:Fr(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&bv(a,a.return,s),us(a);break;case 27:Ol(a.stateNode);case 26:case 5:Fr(a,a.return),us(a);break;case 22:a.memoizedState===null&&us(a);break;case 30:us(a);break;default:us(a)}t=t.sibling}}function ni(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=t,w=a,M=w.flags;switch(w.tag){case 0:case 11:case 15:ni(m,w,s),bl(4,w);break;case 1:if(ni(m,w,s),u=w,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(W){Tt(u,u.return,W)}if(u=w,m=u.updateQueue,m!==null){var j=u.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)iy(F[m],j)}catch(W){Tt(u,u.return,W)}}s&&M&64&&_v(w),El(w,w.return);break;case 27:wv(w);case 26:case 5:ni(m,w,s),s&&u===null&&M&4&&Ev(w),El(w,w.return);break;case 12:ni(m,w,s);break;case 13:ni(m,w,s),s&&M&4&&Cv(m,w);break;case 22:w.memoizedState===null&&ni(m,w,s),El(w,w.return);break;case 30:break;default:ni(m,w,s)}a=a.sibling}}function pd(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&sl(s))}function gd(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&sl(t))}function qr(t,a,s,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Iv(t,a,s,u),a=a.sibling}function Iv(t,a,s,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:qr(t,a,s,u),m&2048&&bl(9,a);break;case 1:qr(t,a,s,u);break;case 3:qr(t,a,s,u),m&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&sl(t)));break;case 12:if(m&2048){qr(t,a,s,u),t=a.stateNode;try{var w=a.memoizedProps,M=w.id,j=w.onPostCommit;typeof j=="function"&&j(M,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(F){Tt(a,a.return,F)}}else qr(t,a,s,u);break;case 13:qr(t,a,s,u);break;case 23:break;case 22:w=a.stateNode,M=a.alternate,a.memoizedState!==null?w._visibility&2?qr(t,a,s,u):Al(t,a):w._visibility&2?qr(t,a,s,u):(w._visibility|=2,Js(t,a,s,u,(a.subtreeFlags&10256)!==0)),m&2048&&pd(M,a);break;case 24:qr(t,a,s,u),m&2048&&gd(a.alternate,a);break;default:qr(t,a,s,u)}}function Js(t,a,s,u,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var w=t,M=a,j=s,F=u,W=M.flags;switch(M.tag){case 0:case 11:case 15:Js(w,M,j,F,m),bl(8,M);break;case 23:break;case 22:var ie=M.stateNode;M.memoizedState!==null?ie._visibility&2?Js(w,M,j,F,m):Al(w,M):(ie._visibility|=2,Js(w,M,j,F,m)),m&&W&2048&&pd(M.alternate,M);break;case 24:Js(w,M,j,F,m),m&&W&2048&&gd(M.alternate,M);break;default:Js(w,M,j,F,m)}a=a.sibling}}function Al(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,u=a,m=u.flags;switch(u.tag){case 22:Al(s,u),m&2048&&pd(u.alternate,u);break;case 24:Al(s,u),m&2048&&gd(u.alternate,u);break;default:Al(s,u)}a=a.sibling}}var wl=8192;function eo(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)Nv(t),t=t.sibling}function Nv(t){switch(t.tag){case 26:eo(t),t.flags&wl&&t.memoizedState!==null&&gT(wr,t.memoizedState,t.memoizedProps);break;case 5:eo(t);break;case 3:case 4:var a=wr;wr=Dc(t.stateNode.containerInfo),eo(t),wr=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=wl,wl=16777216,eo(t),wl=a):eo(t));break;default:eo(t)}}function Mv(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Tl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var u=a[s];nn=u,Vv(u,t)}Mv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kv(t),t=t.sibling}function kv(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&ei(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,yc(t)):Tl(t);break;default:Tl(t)}}function yc(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var u=a[s];nn=u,Vv(u,t)}Mv(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:ei(8,a,a.return),yc(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,yc(a));break;default:yc(a)}t=t.sibling}}function Vv(t,a){for(;nn!==null;){var s=nn;switch(s.tag){case 0:case 11:case 15:ei(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:sl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,nn=u;else e:for(s=t;nn!==null;){u=nn;var m=u.sibling,w=u.return;if(Rv(u),u===s){nn=null;break e}if(m!==null){m.return=w,nn=m;break e}nn=w}}}var Nw={getCacheForType:function(t){var a=vn(Qt),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s}},Mw=typeof WeakMap=="function"?WeakMap:Map,gt=0,Rt=null,We=null,st=0,yt=0,Hn=null,ri=!1,to=!1,yd=!1,xa=0,kt=0,ai=0,cs=0,vd=0,pr=0,no=0,Sl=null,kn=null,_d=!1,bd=0,vc=1/0,_c=null,ii=null,cn=0,si=null,ro=null,ao=0,Ed=0,Ad=null,Pv=null,Rl=0,wd=null;function Gn(){if((gt&2)!==0&&st!==0)return st&-st;if(G.T!==null){var t=Hs;return t!==0?t:Od()}return q()}function Lv(){pr===0&&(pr=(st&536870912)===0||ht?oa():536870912);var t=mr.current;return t!==null&&(t.flags|=32),pr}function Yn(t,a,s){(t===Rt&&(yt===2||yt===9)||t.cancelPendingCommit!==null)&&(io(t,0),oi(t,st,pr,!1)),br(t,s),((gt&2)===0||t!==Rt)&&(t===Rt&&((gt&2)===0&&(cs|=s),kt===4&&oi(t,st,pr,!1)),Hr(t))}function jv(t,a,s){if((gt&6)!==0)throw Error(i(327));var u=!s&&(a&124)===0&&(a&t.expiredLanes)===0||nr(t,a),m=u?Pw(t,a):Rd(t,a,!0),w=u;do{if(m===0){to&&!u&&oi(t,a,0,!1);break}else{if(s=t.current.alternate,w&&!kw(s)){m=Rd(t,a,!1),w=!1;continue}if(m===2){if(w=a,t.errorRecoveryDisabledLanes&w)var M=0;else M=t.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){a=M;e:{var j=t;m=Sl;var F=j.current.memoizedState.isDehydrated;if(F&&(io(j,M).flags|=256),M=Rd(j,M,!1),M!==2){if(yd&&!F){j.errorRecoveryDisabledLanes|=w,cs|=w,m=4;break e}w=kn,kn=m,w!==null&&(kn===null?kn=w:kn.push.apply(kn,w))}m=M}if(w=!1,m!==2)continue}}if(m===1){io(t,0),oi(t,a,0,!0);break}e:{switch(u=t,w=m,w){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:oi(u,a,pr,!ri);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=bd+300-Sn(),10<m)){if(oi(u,a,pr,!ri),sa(u,0,!0)!==0)break e;u.timeoutHandle=d_(Uv.bind(null,u,s,kn,_c,_d,a,pr,cs,no,ri,w,2,-0,0),m);break e}Uv(u,s,kn,_c,_d,a,pr,cs,no,ri,w,0,-0,0)}}break}while(!0);Hr(t)}function Uv(t,a,s,u,m,w,M,j,F,W,ie,ue,ee,te){if(t.timeoutHandle=-1,ue=a.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:pT},Nv(a),ue=yT(),ue!==null)){t.cancelPendingCommit=ue(Gv.bind(null,t,a,w,s,u,m,M,j,F,ie,1,ee,te)),oi(t,w,M,!W);return}Gv(t,a,w,s,u,m,M,j,F)}function kw(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var m=s[u],w=m.getSnapshot;m=m.value;try{if(!$n(w(),m))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function oi(t,a,s,u){a&=~vd,a&=~cs,t.suspendedLanes|=a,t.pingedLanes&=~a,u&&(t.warmLanes|=a),u=t.expirationTimes;for(var m=a;0<m;){var w=31-Ut(m),M=1<<w;u[w]=-1,m&=~M}s!==0&&Rn(t,s,a)}function bc(){return(gt&6)===0?(xl(0),!1):!0}function Td(){if(We!==null){if(yt===0)var t=We.return;else t=We,_a=as=null,$h(t),Zs=null,yl=0,t=We;for(;t!==null;)vv(t.alternate,t),t=t.return;We=null}}function io(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Ww(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Td(),Rt=t,We=s=ga(t.current,null),st=a,yt=0,Hn=null,ri=!1,to=nr(t,a),yd=!1,no=pr=vd=cs=ai=kt=0,kn=Sl=null,_d=!1,(a&8)!==0&&(a|=a&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=a;0<u;){var m=31-Ut(u),w=1<<m;a|=t[m],u&=~w}return xa=a,Bu(),s}function zv(t,a){Ye=null,G.H=oc,a===ll||a===Zu?(a=ry(),yt=3):a===ey?(a=ry(),yt=4):yt=a===av?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Hn=a,We===null&&(kt=1,hc(t,cr(a,t.current)))}function $v(){var t=G.H;return G.H=oc,t===null?oc:t}function Bv(){var t=G.A;return G.A=Nw,t}function Sd(){kt=4,ri||(st&4194048)!==st&&mr.current!==null||(to=!0),(ai&134217727)===0&&(cs&134217727)===0||Rt===null||oi(Rt,st,pr,!1)}function Rd(t,a,s){var u=gt;gt|=2;var m=$v(),w=Bv();(Rt!==t||st!==a)&&(_c=null,io(t,a)),a=!1;var M=kt;e:do try{if(yt!==0&&We!==null){var j=We,F=Hn;switch(yt){case 8:Td(),M=6;break e;case 3:case 2:case 9:case 6:mr.current===null&&(a=!0);var W=yt;if(yt=0,Hn=null,so(t,j,F,W),s&&to){M=0;break e}break;default:W=yt,yt=0,Hn=null,so(t,j,F,W)}}Vw(),M=kt;break}catch(ie){zv(t,ie)}while(!0);return a&&t.shellSuspendCounter++,_a=as=null,gt=u,G.H=m,G.A=w,We===null&&(Rt=null,st=0,Bu()),M}function Vw(){for(;We!==null;)Fv(We)}function Pw(t,a){var s=gt;gt|=2;var u=$v(),m=Bv();Rt!==t||st!==a?(_c=null,vc=Sn()+500,io(t,a)):to=nr(t,a);e:do try{if(yt!==0&&We!==null){a=We;var w=Hn;t:switch(yt){case 1:yt=0,Hn=null,so(t,a,w,1);break;case 2:case 9:if(ty(w)){yt=0,Hn=null,qv(a);break}a=function(){yt!==2&&yt!==9||Rt!==t||(yt=7),Hr(t)},w.then(a,a);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:ty(w)?(yt=0,Hn=null,qv(a)):(yt=0,Hn=null,so(t,a,w,7));break;case 5:var M=null;switch(We.tag){case 26:M=We.memoizedState;case 5:case 27:var j=We;if(!M||S_(M)){yt=0,Hn=null;var F=j.sibling;if(F!==null)We=F;else{var W=j.return;W!==null?(We=W,Ec(W)):We=null}break t}}yt=0,Hn=null,so(t,a,w,5);break;case 6:yt=0,Hn=null,so(t,a,w,6);break;case 8:Td(),kt=6;break e;default:throw Error(i(462))}}Lw();break}catch(ie){zv(t,ie)}while(!0);return _a=as=null,G.H=u,G.A=m,gt=s,We!==null?0:(Rt=null,st=0,Bu(),kt)}function Lw(){for(;We!==null&&!Li();)Fv(We)}function Fv(t){var a=gv(t.alternate,t,xa);t.memoizedProps=t.pendingProps,a===null?Ec(t):We=a}function qv(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=cv(s,a,a.pendingProps,a.type,void 0,st);break;case 11:a=cv(s,a,a.pendingProps,a.type.render,a.ref,st);break;case 5:$h(a);default:vv(s,a),a=We=Hg(a,xa),a=gv(s,a,xa)}t.memoizedProps=t.pendingProps,a===null?Ec(t):We=a}function so(t,a,s,u){_a=as=null,$h(a),Zs=null,yl=0;var m=a.return;try{if(Rw(t,m,a,s,st)){kt=1,hc(t,cr(s,t.current)),We=null;return}}catch(w){if(m!==null)throw We=m,w;kt=1,hc(t,cr(s,t.current)),We=null;return}a.flags&32768?(ht||u===1?t=!0:to||(st&536870912)!==0?t=!1:(ri=t=!0,(u===2||u===9||u===3||u===6)&&(u=mr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Hv(a,t)):Ec(a)}function Ec(t){var a=t;do{if((a.flags&32768)!==0){Hv(a,ri);return}t=a.return;var s=Cw(a.alternate,a,xa);if(s!==null){We=s;return}if(a=a.sibling,a!==null){We=a;return}We=a=t}while(a!==null);kt===0&&(kt=5)}function Hv(t,a){do{var s=Dw(t.alternate,t);if(s!==null){s.flags&=32767,We=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){We=t;return}We=t=s}while(t!==null);kt=6,We=null}function Gv(t,a,s,u,m,w,M,j,F){t.cancelPendingCommit=null;do Ac();while(cn!==0);if((gt&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(w=a.lanes|a.childLanes,w|=gh,Ba(t,s,w,M,j,F),t===Rt&&(We=Rt=null,st=0),ro=a,si=t,ao=s,Ed=w,Ad=m,Pv=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$w(ia,function(){return Zv(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=G.T,G.T=null,m=se.p,se.p=2,M=gt,gt|=4;try{Ow(t,a,s)}finally{gt=M,se.p=m,G.T=u}}cn=1,Yv(),Qv(),Kv()}}function Yv(){if(cn===1){cn=0;var t=si,a=ro,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var u=se.p;se.p=2;var m=gt;gt|=4;try{Dv(a,t);var w=jd,M=Vg(t.containerInfo),j=w.focusedElem,F=w.selectionRange;if(M!==j&&j&&j.ownerDocument&&kg(j.ownerDocument.documentElement,j)){if(F!==null&&fh(j)){var W=F.start,ie=F.end;if(ie===void 0&&(ie=W),"selectionStart"in j)j.selectionStart=W,j.selectionEnd=Math.min(ie,j.value.length);else{var ue=j.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),$e=j.textContent.length,Pe=Math.min(F.start,$e),At=F.end===void 0?Pe:Math.min(F.end,$e);!te.extend&&Pe>At&&(M=At,At=Pe,Pe=M);var Y=Mg(j,Pe),H=Mg(j,At);if(Y&&H&&(te.rangeCount!==1||te.anchorNode!==Y.node||te.anchorOffset!==Y.offset||te.focusNode!==H.node||te.focusOffset!==H.offset)){var X=ue.createRange();X.setStart(Y.node,Y.offset),te.removeAllRanges(),Pe>At?(te.addRange(X),te.extend(H.node,H.offset)):(X.setEnd(H.node,H.offset),te.addRange(X))}}}}for(ue=[],te=j;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ue.length;j++){var oe=ue[j];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}kc=!!Ld,jd=Ld=null}finally{gt=m,se.p=u,G.T=s}}t.current=a,cn=2}}function Qv(){if(cn===2){cn=0;var t=si,a=ro,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var u=se.p;se.p=2;var m=gt;gt|=4;try{Sv(t,a.alternate,a)}finally{gt=m,se.p=u,G.T=s}}cn=3}}function Kv(){if(cn===4||cn===3){cn=0,Rs();var t=si,a=ro,s=ao,u=Pv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?cn=5:(cn=0,ro=si=null,Xv(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(ii=null),Fa(s),a=a.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ft,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=G.T,m=se.p,se.p=2,G.T=null;try{for(var w=t.onRecoverableError,M=0;M<u.length;M++){var j=u[M];w(j.value,{componentStack:j.stack})}}finally{G.T=a,se.p=m}}(ao&3)!==0&&Ac(),Hr(t),m=t.pendingLanes,(s&4194090)!==0&&(m&42)!==0?t===wd?Rl++:(Rl=0,wd=t):Rl=0,xl(0)}}function Xv(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,sl(a)))}function Ac(t){return Yv(),Qv(),Kv(),Zv()}function Zv(){if(cn!==5)return!1;var t=si,a=Ed;Ed=0;var s=Fa(ao),u=G.T,m=se.p;try{se.p=32>s?32:s,G.T=null,s=Ad,Ad=null;var w=si,M=ao;if(cn=0,ro=si=null,ao=0,(gt&6)!==0)throw Error(i(331));var j=gt;if(gt|=4,kv(w.current),Iv(w,w.current,M,s),gt=j,xl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ft,w)}catch{}return!0}finally{se.p=m,G.T=u,Xv(t,a)}}function Wv(t,a,s){a=cr(s,a),a=td(t.stateNode,a,2),t=Xa(t,a,2),t!==null&&(br(t,2),Hr(t))}function Tt(t,a,s){if(t.tag===3)Wv(t,t,s);else for(;a!==null;){if(a.tag===3){Wv(a,t,s);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ii===null||!ii.has(u))){t=cr(s,t),s=nv(2),u=Xa(a,s,2),u!==null&&(rv(s,u,a,t),br(u,2),Hr(u));break}}a=a.return}}function xd(t,a,s){var u=t.pingCache;if(u===null){u=t.pingCache=new Mw;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(s)||(yd=!0,m.add(s),t=jw.bind(null,t,a,s),a.then(t,t))}function jw(t,a,s){var u=t.pingCache;u!==null&&u.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Rt===t&&(st&s)===s&&(kt===4||kt===3&&(st&62914560)===st&&300>Sn()-bd?(gt&2)===0&&io(t,0):vd|=s,no===st&&(no=0)),Hr(t)}function Jv(t,a){a===0&&(a=Ui()),t=$s(t,a),t!==null&&(br(t,a),Hr(t))}function Uw(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),Jv(t,s)}function zw(t,a){var s=0;switch(t.tag){case 13:var u=t.stateNode,m=t.memoizedState;m!==null&&(s=m.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Jv(t,s)}function $w(t,a){return aa(t,a)}var wc=null,oo=null,Cd=!1,Tc=!1,Dd=!1,fs=0;function Hr(t){t!==oo&&t.next===null&&(oo===null?wc=oo=t:oo=oo.next=t),Tc=!0,Cd||(Cd=!0,Fw())}function xl(t,a){if(!Dd&&Tc){Dd=!0;do for(var s=!1,u=wc;u!==null;){if(t!==0){var m=u.pendingLanes;if(m===0)var w=0;else{var M=u.suspendedLanes,j=u.pingedLanes;w=(1<<31-Ut(42|t)+1)-1,w&=m&~(M&~j),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(s=!0,r_(u,w))}else w=st,w=sa(u,u===Rt?w:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(w&3)===0||nr(u,w)||(s=!0,r_(u,w));u=u.next}while(s);Dd=!1}}function Bw(){e_()}function e_(){Tc=Cd=!1;var t=0;fs!==0&&(Zw()&&(t=fs),fs=0);for(var a=Sn(),s=null,u=wc;u!==null;){var m=u.next,w=t_(u,a);w===0?(u.next=null,s===null?wc=m:s.next=m,m===null&&(oo=s)):(s=u,(t!==0||(w&3)!==0)&&(Tc=!0)),u=m}xl(t)}function t_(t,a){for(var s=t.suspendedLanes,u=t.pingedLanes,m=t.expirationTimes,w=t.pendingLanes&-62914561;0<w;){var M=31-Ut(w),j=1<<M,F=m[M];F===-1?((j&s)===0||(j&u)!==0)&&(m[M]=$a(j,a)):F<=a&&(t.expiredLanes|=j),w&=~j}if(a=Rt,s=st,s=sa(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===a&&(yt===2||yt===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Tn(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||nr(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(u!==null&&Tn(u),Fa(s)){case 2:case 8:s=ja;break;case 32:s=ia;break;case 268435456:s=er;break;default:s=ia}return u=n_.bind(null,t),s=aa(s,u),t.callbackPriority=a,t.callbackNode=s,a}return u!==null&&u!==null&&Tn(u),t.callbackPriority=2,t.callbackNode=null,2}function n_(t,a){if(cn!==0&&cn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Ac()&&t.callbackNode!==s)return null;var u=st;return u=sa(t,t===Rt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(jv(t,u,a),t_(t,Sn()),t.callbackNode!=null&&t.callbackNode===s?n_.bind(null,t):null)}function r_(t,a){if(Ac())return null;jv(t,a,!0)}function Fw(){Jw(function(){(gt&6)!==0?aa(ji,Bw):e_()})}function Od(){return fs===0&&(fs=oa()),fs}function a_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ds(""+t)}function i_(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function qw(t,a,s,u,m){if(a==="submit"&&s&&s.stateNode===m){var w=a_((m[ge]||null).action),M=u.submitter;M&&(a=(a=M[ge]||null)?a_(a.formAction):M.getAttribute("formAction"),a!==null&&(w=a,M=null));var j=new Os("action","action",null,u,m);t.push({event:j,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fs!==0){var F=M?i_(m,M):new FormData(m);Xh(s,{pending:!0,data:F,method:m.method,action:w},null,F)}}else typeof w=="function"&&(j.preventDefault(),F=M?i_(m,M):new FormData(m),Xh(s,{pending:!0,data:F,method:m.method,action:w},w,F))},currentTarget:m}]})}}for(var Id=0;Id<ph.length;Id++){var Nd=ph[Id],Hw=Nd.toLowerCase(),Gw=Nd[0].toUpperCase()+Nd.slice(1);Ar(Hw,"on"+Gw)}Ar(jg,"onAnimationEnd"),Ar(Ug,"onAnimationIteration"),Ar(zg,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(uw,"onTransitionRun"),Ar(cw,"onTransitionStart"),Ar(fw,"onTransitionCancel"),Ar($g,"onTransitionEnd"),xn("onMouseEnter",["mouseout","mouseover"]),xn("onMouseLeave",["mouseout","mouseover"]),xn("onPointerEnter",["pointerout","pointerover"]),xn("onPointerLeave",["pointerout","pointerover"]),Ht("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ht("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ht("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ht("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function s_(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],m=u.event;u=u.listeners;e:{var w=void 0;if(a)for(var M=u.length-1;0<=M;M--){var j=u[M],F=j.instance,W=j.currentTarget;if(j=j.listener,F!==w&&m.isPropagationStopped())break e;w=j,m.currentTarget=W;try{w(m)}catch(ie){fc(ie)}m.currentTarget=null,w=F}else for(M=0;M<u.length;M++){if(j=u[M],F=j.instance,W=j.currentTarget,j=j.listener,F!==w&&m.isPropagationStopped())break e;w=j,m.currentTarget=W;try{w(m)}catch(ie){fc(ie)}m.currentTarget=null,w=F}}}}function Je(t,a){var s=a[Me];s===void 0&&(s=a[Me]=new Set);var u=t+"__bubble";s.has(u)||(o_(a,t,2,!1),s.add(u))}function Md(t,a,s){var u=0;a&&(u|=4),o_(s,t,u,a)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[Sc]){t[Sc]=!0,Ke.forEach(function(s){s!=="selectionchange"&&(Yw.has(s)||Md(s,!1,t),Md(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Sc]||(a[Sc]=!0,Md("selectionchange",!1,a))}}function o_(t,a,s,u){switch(I_(a)){case 2:var m=bT;break;case 8:m=ET;break;default:m=Qd}s=m.bind(null,a,s,t),m=void 0,!lr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?t.addEventListener(a,s,{capture:!0,passive:m}):t.addEventListener(a,s,!0):m!==void 0?t.addEventListener(a,s,{passive:m}):t.addEventListener(a,s,!1)}function Vd(t,a,s,u,m){var w=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var M=u.tag;if(M===3||M===4){var j=u.stateNode.containerInfo;if(j===m)break;if(M===4)for(M=u.return;M!==null;){var F=M.tag;if((F===3||F===4)&&M.stateNode.containerInfo===m)return;M=M.return}for(;j!==null;){if(M=Le(j),M===null)return;if(F=M.tag,F===5||F===6||F===26||F===27){u=w=M;continue e}j=j.parentNode}}u=u.return}xu(function(){var W=w,ie=or(s),ue=[];e:{var ee=Bg.get(t);if(ee!==void 0){var te=Os,$e=t;switch(t){case"keypress":if(Pr(s)===0)break e;case"keydown":case"keyup":te=Ps;break;case"focusin":$e="focus",te=Ms;break;case"focusout":$e="blur",te=Ms;break;case"beforeblur":case"afterblur":te=Ms;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=ur;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Vu;break;case jg:case Ug:case zg:te=ks;break;case $g:te=Lu;break;case"scroll":case"scrollend":te=Cu;break;case"wheel":te=Ls;break;case"copy":case"cut":case"paste":te=Vs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Wo;break;case"toggle":case"beforetoggle":te=Uu}var Pe=(a&4)!==0,At=!Pe&&(t==="scroll"||t==="scrollend"),Y=Pe?ee!==null?ee+"Capture":null:ee;Pe=[];for(var H=W,X;H!==null;){var oe=H;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||Y===null||(oe=qi(H,Y),oe!=null&&Pe.push(Dl(H,oe,X))),At)break;H=H.return}0<Pe.length&&(ee=new te(ee,$e,null,s,ie),ue.push({event:ee,listeners:Pe}))}}if((a&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",ee&&s!==ca&&($e=s.relatedTarget||s.fromElement)&&(Le($e)||$e[Ae]))break e;if((te||ee)&&(ee=ie.window===ie?ie:(ee=ie.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?($e=s.relatedTarget||s.toElement,te=W,$e=$e?Le($e):null,$e!==null&&(At=l($e),Pe=$e.tag,$e!==At||Pe!==5&&Pe!==27&&Pe!==6)&&($e=null)):(te=null,$e=W),te!==$e)){if(Pe=ur,oe="onMouseLeave",Y="onMouseEnter",H="mouse",(t==="pointerout"||t==="pointerover")&&(Pe=Wo,oe="onPointerLeave",Y="onPointerEnter",H="pointer"),At=te==null?ee:dt(te),X=$e==null?ee:dt($e),ee=new Pe(oe,H+"leave",te,s,ie),ee.target=At,ee.relatedTarget=X,oe=null,Le(ie)===W&&(Pe=new Pe(Y,H+"enter",$e,s,ie),Pe.target=X,Pe.relatedTarget=At,oe=Pe),At=oe,te&&$e)t:{for(Pe=te,Y=$e,H=0,X=Pe;X;X=lo(X))H++;for(X=0,oe=Y;oe;oe=lo(oe))X++;for(;0<H-X;)Pe=lo(Pe),H--;for(;0<X-H;)Y=lo(Y),X--;for(;H--;){if(Pe===Y||Y!==null&&Pe===Y.alternate)break t;Pe=lo(Pe),Y=lo(Y)}Pe=null}else Pe=null;te!==null&&l_(ue,ee,te,Pe,!1),$e!==null&&At!==null&&l_(ue,At,$e,Pe,!0)}}e:{if(ee=W?dt(W):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Te=xg;else if(Yt(ee))if(Cg)Te=sw;else{Te=aw;var Xe=rw}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?W&&Ho(W.elementType)&&(Te=xg):Te=iw;if(Te&&(Te=Te(t,W))){pa(ue,Te,s,ie);break e}Xe&&Xe(t,ee,W),t==="focusout"&&W&&ee.type==="number"&&W.memoizedProps.value!=null&&Ha(ee,"number",ee.value)}switch(Xe=W?dt(W):window,t){case"focusin":(Yt(Xe)||Xe.contentEditable==="true")&&(js=Xe,hh=W,tl=null);break;case"focusout":tl=hh=js=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,Pg(ue,s,ie);break;case"selectionchange":if(lw)break;case"keydown":case"keyup":Pg(ue,s,ie)}var Ie;if(Ur)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else at?ae(t,s)&&(je="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(je="onCompositionStart");je&&(N&&s.locale!=="ko"&&(at||je!=="onCompositionStart"?je==="onCompositionEnd"&&at&&(Ie=Yo()):(Vr=ie,Ga="value"in Vr?Vr.value:Vr.textContent,at=!0)),Xe=Rc(W,je),0<Xe.length&&(je=new Xo(je,t,null,s,ie),ue.push({event:je,listeners:Xe}),Ie?je.data=Ie:(Ie=_e(s),Ie!==null&&(je.data=Ie)))),(Ie=C?Gt(t,s):it(t,s))&&(je=Rc(W,"onBeforeInput"),0<je.length&&(Xe=new Xo("onBeforeInput","beforeinput",null,s,ie),ue.push({event:Xe,listeners:je}),Xe.data=Ie)),qw(ue,t,W,s,ie)}s_(ue,a)})}function Dl(t,a,s){return{instance:t,listener:a,currentTarget:s}}function Rc(t,a){for(var s=a+"Capture",u=[];t!==null;){var m=t,w=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||w===null||(m=qi(t,s),m!=null&&u.unshift(Dl(t,m,w)),m=qi(t,a),m!=null&&u.push(Dl(t,m,w))),t.tag===3)return u;t=t.return}return[]}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function l_(t,a,s,u,m){for(var w=a._reactName,M=[];s!==null&&s!==u;){var j=s,F=j.alternate,W=j.stateNode;if(j=j.tag,F!==null&&F===u)break;j!==5&&j!==26&&j!==27||W===null||(F=W,m?(W=qi(s,w),W!=null&&M.unshift(Dl(s,W,F))):m||(W=qi(s,w),W!=null&&M.push(Dl(s,W,F)))),s=s.return}M.length!==0&&t.push({event:a,listeners:M})}var Qw=/\r\n?/g,Kw=/\u0000|\uFFFD/g;function u_(t){return(typeof t=="string"?t:""+t).replace(Qw,`
`).replace(Kw,"")}function c_(t,a){return a=u_(a),u_(t)===a}function xc(){}function Et(t,a,s,u,m,w){switch(s){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||sr(t,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&sr(t,""+u);break;case"className":Cn(t,"class",u);break;case"tabIndex":Cn(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,s,u);break;case"style":qo(t,u,w);break;case"data":if(a!=="object"){Cn(t,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Ds(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(s==="formAction"?(a!=="input"&&Et(t,a,"name",m.name,m,null),Et(t,a,"formEncType",m.formEncType,m,null),Et(t,a,"formMethod",m.formMethod,m,null),Et(t,a,"formTarget",m.formTarget,m,null)):(Et(t,a,"encType",m.encType,m,null),Et(t,a,"method",m.method,m,null),Et(t,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Ds(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=xc);break;case"onScroll":u!=null&&Je("scroll",t);break;case"onScrollEnd":u!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(s=u.__html,s!=null){if(m.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=Ds(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":Je("beforetoggle",t),Je("toggle",t),yn(t,"popover",u);break;case"xlinkActuate":Be(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Be(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Be(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Be(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Be(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Be(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Be(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Be(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Be(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":yn(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ih.get(s)||s,yn(t,s,u))}}function Pd(t,a,s,u,m,w){switch(s){case"style":qo(t,u,w);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(s=u.__html,s!=null){if(m.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof u=="string"?sr(t,u):(typeof u=="number"||typeof u=="bigint")&&sr(t,""+u);break;case"onScroll":u!=null&&Je("scroll",t);break;case"onScrollEnd":u!=null&&Je("scrollend",t);break;case"onClick":u!=null&&(t.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ar.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(m=s.endsWith("Capture"),a=s.slice(2,m?s.length-7:void 0),w=t[ge]||null,w=w!=null?w[s]:null,typeof w=="function"&&t.removeEventListener(a,w,m),typeof u=="function")){typeof w!="function"&&w!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,u,m);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):yn(t,s,u)}}}function fn(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var u=!1,m=!1,w;for(w in s)if(s.hasOwnProperty(w)){var M=s[w];if(M!=null)switch(w){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Et(t,a,w,M,s,null)}}m&&Et(t,a,"srcSet",s.srcSet,s,null),u&&Et(t,a,"src",s.src,s,null);return;case"input":Je("invalid",t);var j=w=M=m=null,F=null,W=null;for(u in s)if(s.hasOwnProperty(u)){var ie=s[u];if(ie!=null)switch(u){case"name":m=ie;break;case"type":M=ie;break;case"checked":F=ie;break;case"defaultChecked":W=ie;break;case"value":w=ie;break;case"defaultValue":j=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,a));break;default:Et(t,a,u,ie,s,null)}}$i(t,w,j,F,W,M,m,!1),Cs(t);return;case"select":Je("invalid",t),u=M=w=null;for(m in s)if(s.hasOwnProperty(m)&&(j=s[m],j!=null))switch(m){case"value":w=j;break;case"defaultValue":M=j;break;case"multiple":u=j;default:Et(t,a,m,j,s,null)}a=w,s=M,t.multiple=!!u,a!=null?ua(t,!!u,a,!1):s!=null&&ua(t,!!u,s,!0);return;case"textarea":Je("invalid",t),w=m=u=null;for(M in s)if(s.hasOwnProperty(M)&&(j=s[M],j!=null))switch(M){case"value":u=j;break;case"defaultValue":m=j;break;case"children":w=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(91));break;default:Et(t,a,M,j,s,null)}Bi(t,u,m,w),Cs(t);return;case"option":for(F in s)if(s.hasOwnProperty(F)&&(u=s[F],u!=null))switch(F){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Et(t,a,F,u,s,null)}return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(u=0;u<Cl.length;u++)Je(Cl[u],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in s)if(s.hasOwnProperty(W)&&(u=s[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Et(t,a,W,u,s,null)}return;default:if(Ho(a)){for(ie in s)s.hasOwnProperty(ie)&&(u=s[ie],u!==void 0&&Pd(t,a,ie,u,s,void 0));return}}for(j in s)s.hasOwnProperty(j)&&(u=s[j],u!=null&&Et(t,a,j,u,s,null))}function Xw(t,a,s,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,w=null,M=null,j=null,F=null,W=null,ie=null;for(te in s){var ue=s[te];if(s.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":F=ue;default:u.hasOwnProperty(te)||Et(t,a,te,null,u,ue)}}for(var ee in u){var te=u[ee];if(ue=s[ee],u.hasOwnProperty(ee)&&(te!=null||ue!=null))switch(ee){case"type":w=te;break;case"name":m=te;break;case"checked":W=te;break;case"defaultChecked":ie=te;break;case"value":M=te;break;case"defaultValue":j=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:te!==ue&&Et(t,a,ee,te,u,ue)}}zn(t,M,j,F,W,ie,w,m);return;case"select":te=M=j=ee=null;for(w in s)if(F=s[w],s.hasOwnProperty(w)&&F!=null)switch(w){case"value":break;case"multiple":te=F;default:u.hasOwnProperty(w)||Et(t,a,w,null,u,F)}for(m in u)if(w=u[m],F=s[m],u.hasOwnProperty(m)&&(w!=null||F!=null))switch(m){case"value":ee=w;break;case"defaultValue":j=w;break;case"multiple":M=w;default:w!==F&&Et(t,a,m,w,u,F)}a=j,s=M,u=te,ee!=null?ua(t,!!s,ee,!1):!!u!=!!s&&(a!=null?ua(t,!!s,a,!0):ua(t,!!s,s?[]:"",!1));return;case"textarea":te=ee=null;for(j in s)if(m=s[j],s.hasOwnProperty(j)&&m!=null&&!u.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Et(t,a,j,null,u,m)}for(M in u)if(m=u[M],w=s[M],u.hasOwnProperty(M)&&(m!=null||w!=null))switch(M){case"value":ee=m;break;case"defaultValue":te=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==w&&Et(t,a,M,m,u,w)}_t(t,ee,te);return;case"option":for(var $e in s)if(ee=s[$e],s.hasOwnProperty($e)&&ee!=null&&!u.hasOwnProperty($e))switch($e){case"selected":t.selected=!1;break;default:Et(t,a,$e,null,u,ee)}for(F in u)if(ee=u[F],te=s[F],u.hasOwnProperty(F)&&ee!==te&&(ee!=null||te!=null))switch(F){case"selected":t.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Et(t,a,F,ee,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in s)ee=s[Pe],s.hasOwnProperty(Pe)&&ee!=null&&!u.hasOwnProperty(Pe)&&Et(t,a,Pe,null,u,ee);for(W in u)if(ee=u[W],te=s[W],u.hasOwnProperty(W)&&ee!==te&&(ee!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:Et(t,a,W,ee,u,te)}return;default:if(Ho(a)){for(var At in s)ee=s[At],s.hasOwnProperty(At)&&ee!==void 0&&!u.hasOwnProperty(At)&&Pd(t,a,At,void 0,u,ee);for(ie in u)ee=u[ie],te=s[ie],!u.hasOwnProperty(ie)||ee===te||ee===void 0&&te===void 0||Pd(t,a,ie,ee,u,te);return}}for(var Y in s)ee=s[Y],s.hasOwnProperty(Y)&&ee!=null&&!u.hasOwnProperty(Y)&&Et(t,a,Y,null,u,ee);for(ue in u)ee=u[ue],te=s[ue],!u.hasOwnProperty(ue)||ee===te||ee==null&&te==null||Et(t,a,ue,ee,u,te)}var Ld=null,jd=null;function Cc(t){return t.nodeType===9?t:t.ownerDocument}function f_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Ud(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zd=null;function Zw(){var t=window.event;return t&&t.type==="popstate"?t===zd?!1:(zd=t,!0):(zd=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,Ww=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,Jw=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(t){return m_.resolve(null).then(t).catch(eT)}:d_;function eT(t){setTimeout(function(){throw t})}function li(t){return t==="head"}function p_(t,a){var s=a,u=0,m=0;do{var w=s.nextSibling;if(t.removeChild(s),w&&w.nodeType===8)if(s=w.data,s==="/$"){if(0<u&&8>u){s=u;var M=t.ownerDocument;if(s&1&&Ol(M.documentElement),s&2&&Ol(M.body),s&4)for(s=M.head,Ol(s),M=s.firstChild;M;){var j=M.nextSibling,F=M.nodeName;M[Ve]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&M.rel.toLowerCase()==="stylesheet"||s.removeChild(M),M=j}}if(m===0){t.removeChild(w),jl(a);return}m--}else s==="$"||s==="$?"||s==="$!"?m++:u=s.charCodeAt(0)-48;else u=0;s=w}while(s);jl(a)}function $d(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":$d(s),Re(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function tT(t,a,s,u){for(;t.nodeType===1;){var m=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Ve])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(w=t.getAttribute("rel"),w==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(w!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(w=t.getAttribute("src"),(w!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&w&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var w=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===w)return t}else return t;if(t=Tr(t.nextSibling),t===null)break}return null}function nT(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Tr(t.nextSibling),t===null))return null;return t}function Bd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function rT(t,a){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")a();else{var u=function(){a(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Tr(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var Fd=null;function g_(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return t;a--}else s==="/$"&&a++}t=t.previousSibling}return null}function y_(t,a,s){switch(a=Cc(s),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Ol(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Re(t)}var gr=new Map,v_=new Set;function Dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ca=se.d;se.d={f:aT,r:iT,D:sT,C:oT,L:lT,m:uT,X:fT,S:cT,M:hT};function aT(){var t=Ca.f(),a=bc();return t||a}function iT(t){var a=Ze(t);a!==null&&a.tag===5&&a.type==="form"?jy(a):Ca.r(t)}var uo=typeof document>"u"?null:document;function __(t,a,s){var u=uo;if(u&&typeof a=="string"&&a){var m=$t(a);m='link[rel="'+t+'"][href="'+m+'"]',typeof s=="string"&&(m+='[crossorigin="'+s+'"]'),v_.has(m)||(v_.add(m),t={rel:t,crossOrigin:s,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),fn(a,"link",t),rt(a),u.head.appendChild(a)))}}function sT(t){Ca.D(t),__("dns-prefetch",t,null)}function oT(t,a){Ca.C(t,a),__("preconnect",t,a)}function lT(t,a,s){Ca.L(t,a,s);var u=uo;if(u&&t&&a){var m='link[rel="preload"][as="'+$t(a)+'"]';a==="image"&&s&&s.imageSrcSet?(m+='[imagesrcset="'+$t(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(m+='[imagesizes="'+$t(s.imageSizes)+'"]')):m+='[href="'+$t(t)+'"]';var w=m;switch(a){case"style":w=co(t);break;case"script":w=fo(t)}gr.has(w)||(t=b({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),gr.set(w,t),u.querySelector(m)!==null||a==="style"&&u.querySelector(Il(w))||a==="script"&&u.querySelector(Nl(w))||(a=u.createElement("link"),fn(a,"link",t),rt(a),u.head.appendChild(a)))}}function uT(t,a){Ca.m(t,a);var s=uo;if(s&&t){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+$t(u)+'"][href="'+$t(t)+'"]',w=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=fo(t)}if(!gr.has(w)&&(t=b({rel:"modulepreload",href:t},a),gr.set(w,t),s.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Nl(w)))return}u=s.createElement("link"),fn(u,"link",t),rt(u),s.head.appendChild(u)}}}function cT(t,a,s){Ca.S(t,a,s);var u=uo;if(u&&t){var m=ut(u).hoistableStyles,w=co(t);a=a||"default";var M=m.get(w);if(!M){var j={loading:0,preload:null};if(M=u.querySelector(Il(w)))j.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":a},s),(s=gr.get(w))&&qd(t,s);var F=M=u.createElement("link");rt(F),fn(F,"link",t),F._p=new Promise(function(W,ie){F.onload=W,F.onerror=ie}),F.addEventListener("load",function(){j.loading|=1}),F.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Oc(M,a,u)}M={type:"stylesheet",instance:M,count:1,state:j},m.set(w,M)}}}function fT(t,a){Ca.X(t,a);var s=uo;if(s&&t){var u=ut(s).hoistableScripts,m=fo(t),w=u.get(m);w||(w=s.querySelector(Nl(m)),w||(t=b({src:t,async:!0},a),(a=gr.get(m))&&Hd(t,a),w=s.createElement("script"),rt(w),fn(w,"link",t),s.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},u.set(m,w))}}function hT(t,a){Ca.M(t,a);var s=uo;if(s&&t){var u=ut(s).hoistableScripts,m=fo(t),w=u.get(m);w||(w=s.querySelector(Nl(m)),w||(t=b({src:t,async:!0,type:"module"},a),(a=gr.get(m))&&Hd(t,a),w=s.createElement("script"),rt(w),fn(w,"link",t),s.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},u.set(m,w))}}function b_(t,a,s,u){var m=(m=Ce.current)?Dc(m):null;if(!m)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=co(s.href),s=ut(m).hoistableStyles,u=s.get(a),u||(u={type:"style",instance:null,count:0,state:null},s.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=co(s.href);var w=ut(m).hoistableStyles,M=w.get(t);if(M||(m=m.ownerDocument||m,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(t,M),(w=m.querySelector(Il(t)))&&!w._p&&(M.instance=w,M.state.loading=5),gr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},gr.set(t,s),w||dT(m,t,s,M.state))),a&&u===null)throw Error(i(528,""));return M}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=fo(s),s=ut(m).hoistableScripts,u=s.get(a),u||(u={type:"script",instance:null,count:0,state:null},s.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function co(t){return'href="'+$t(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function E_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function dT(t,a,s,u){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=t.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),fn(a,"link",s),rt(a),t.head.appendChild(a))}function fo(t){return'[src="'+$t(t)+'"]'}function Nl(t){return"script[async]"+t}function A_(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var u=t.querySelector('style[data-href~="'+$t(s.href)+'"]');if(u)return a.instance=u,rt(u),u;var m=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),rt(u),fn(u,"style",m),Oc(u,s.precedence,t),a.instance=u;case"stylesheet":m=co(s.href);var w=t.querySelector(Il(m));if(w)return a.state.loading|=4,a.instance=w,rt(w),w;u=E_(s),(m=gr.get(m))&&qd(u,m),w=(t.ownerDocument||t).createElement("link"),rt(w);var M=w;return M._p=new Promise(function(j,F){M.onload=j,M.onerror=F}),fn(w,"link",u),a.state.loading|=4,Oc(w,s.precedence,t),a.instance=w;case"script":return w=fo(s.src),(m=t.querySelector(Nl(w)))?(a.instance=m,rt(m),m):(u=s,(m=gr.get(w))&&(u=b({},s),Hd(u,m)),t=t.ownerDocument||t,m=t.createElement("script"),rt(m),fn(m,"link",u),t.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Oc(u,s.precedence,t));return a.instance}function Oc(t,a,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,w=m,M=0;M<u.length;M++){var j=u[M];if(j.dataset.precedence===a)w=j;else if(w!==m)break}w?w.parentNode.insertBefore(t,w.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function qd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Hd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Ic=null;function w_(t,a,s){if(Ic===null){var u=new Map,m=Ic=new Map;m.set(s,u)}else m=Ic,u=m.get(s),u||(u=new Map,m.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),m=0;m<s.length;m++){var w=s[m];if(!(w[Ve]||w[le]||t==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var M=w.getAttribute(a)||"";M=t+M;var j=u.get(M);j?j.push(w):u.set(M,[w])}}return u}function T_(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function mT(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function S_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function pT(){}function gT(t,a,s){if(Ml===null)throw Error(i(475));var u=Ml;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=co(s.href),w=t.querySelector(Il(m));if(w){t=w._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Nc.bind(u),t.then(u,u)),a.state.loading|=4,a.instance=w,rt(w);return}w=t.ownerDocument||t,s=E_(s),(m=gr.get(m))&&qd(s,m),w=w.createElement("link"),rt(w);var M=w;M._p=new Promise(function(j,F){M.onload=j,M.onerror=F}),fn(w,"link",s),a.instance=w}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Nc.bind(u),t.addEventListener("load",a),t.addEventListener("error",a))}}function yT(){if(Ml===null)throw Error(i(475));var t=Ml;return t.stylesheets&&t.count===0&&Gd(t,t.stylesheets),0<t.count?function(a){var s=setTimeout(function(){if(t.stylesheets&&Gd(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Nc(){if(this.count--,this.count===0){if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Gd(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,a.forEach(vT,t),Mc=null,Nc.call(t))}function vT(t,a){if(!(a.state.loading&4)){var s=Mc.get(t);if(s)var u=s.get(null);else{s=new Map,Mc.set(t,s);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<m.length;w++){var M=m[w];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(s.set(M.dataset.precedence,M),u=M)}u&&s.set(null,u)}m=a.instance,M=m.getAttribute("data-precedence"),w=s.get(M)||u,w===u&&s.set(null,m),s.set(M,m),this.count++,u=Nc.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),w?w.parentNode.insertBefore(m,w.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),a.state.loading|=4}}var kl={$$typeof:D,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function _T(t,a,s,u,m,w,M,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rr(0),this.hiddenUpdates=rr(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=w,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function R_(t,a,s,u,m,w,M,j,F,W,ie,ue){return t=new _T(t,a,s,M,j,F,W,ue),a=1,w===!0&&(a|=24),w=Bn(3,null,null,a),t.current=w,w.stateNode=t,a=xh(),a.refCount++,t.pooledCache=a,a.refCount++,w.memoizedState={element:u,isDehydrated:s,cache:a},Ih(w),t}function x_(t){return t?(t=Bs,t):Bs}function C_(t,a,s,u,m,w){m=x_(m),u.context===null?u.context=m:u.pendingContext=m,u=Ka(a),u.payload={element:s},w=w===void 0?null:w,w!==null&&(u.callback=w),s=Xa(t,u,a),s!==null&&(Yn(s,t,a),cl(s,t,a))}function D_(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function Yd(t,a){D_(t,a),(t=t.alternate)&&D_(t,a)}function O_(t){if(t.tag===13){var a=$s(t,67108864);a!==null&&Yn(a,t,67108864),Yd(t,67108864)}}var kc=!0;function bT(t,a,s,u){var m=G.T;G.T=null;var w=se.p;try{se.p=2,Qd(t,a,s,u)}finally{se.p=w,G.T=m}}function ET(t,a,s,u){var m=G.T;G.T=null;var w=se.p;try{se.p=8,Qd(t,a,s,u)}finally{se.p=w,G.T=m}}function Qd(t,a,s,u){if(kc){var m=Kd(u);if(m===null)Vd(t,a,u,Vc,s),N_(t,u);else if(wT(m,t,a,s,u))u.stopPropagation();else if(N_(t,u),a&4&&-1<AT.indexOf(t)){for(;m!==null;){var w=Ze(m);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var M=Ln(w.pendingLanes);if(M!==0){var j=w;for(j.pendingLanes|=2,j.entangledLanes|=2;M;){var F=1<<31-Ut(M);j.entanglements[1]|=F,M&=~F}Hr(w),(gt&6)===0&&(vc=Sn()+500,xl(0))}}break;case 13:j=$s(w,2),j!==null&&Yn(j,w,2),bc(),Yd(w,2)}if(w=Kd(u),w===null&&Vd(t,a,u,Vc,s),w===m)break;m=w}m!==null&&u.stopPropagation()}else Vd(t,a,u,null,s)}}function Kd(t){return t=or(t),Xd(t)}var Vc=null;function Xd(t){if(Vc=null,t=Le(t),t!==null){var a=l(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=f(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Vc=t,null}function I_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($o()){case ji:return 2;case ja:return 8;case ia:case _r:return 32;case er:return 268435456;default:return 32}default:return 32}}var Zd=!1,ui=null,ci=null,fi=null,Vl=new Map,Pl=new Map,hi=[],AT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(t,a){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":Vl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(a.pointerId)}}function Ll(t,a,s,u,m,w){return t===null||t.nativeEvent!==w?(t={blockedOn:a,domEventName:s,eventSystemFlags:u,nativeEvent:w,targetContainers:[m]},a!==null&&(a=Ze(a),a!==null&&O_(a)),t):(t.eventSystemFlags|=u,a=t.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),t)}function wT(t,a,s,u,m){switch(a){case"focusin":return ui=Ll(ui,t,a,s,u,m),!0;case"dragenter":return ci=Ll(ci,t,a,s,u,m),!0;case"mouseover":return fi=Ll(fi,t,a,s,u,m),!0;case"pointerover":var w=m.pointerId;return Vl.set(w,Ll(Vl.get(w)||null,t,a,s,u,m)),!0;case"gotpointercapture":return w=m.pointerId,Pl.set(w,Ll(Pl.get(w)||null,t,a,s,u,m)),!0}return!1}function M_(t){var a=Le(t.target);if(a!==null){var s=l(a);if(s!==null){if(a=s.tag,a===13){if(a=f(s),a!==null){t.blockedOn=a,Q(t.priority,function(){if(s.tag===13){var u=Gn();u=Ir(u);var m=$s(s,u);m!==null&&Yn(m,s,u),Yd(s,u)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=Kd(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);ca=u,s.target.dispatchEvent(u),ca=null}else return a=Ze(s),a!==null&&O_(a),t.blockedOn=s,!1;a.shift()}return!0}function k_(t,a,s){Pc(t)&&s.delete(a)}function TT(){Zd=!1,ui!==null&&Pc(ui)&&(ui=null),ci!==null&&Pc(ci)&&(ci=null),fi!==null&&Pc(fi)&&(fi=null),Vl.forEach(k_),Pl.forEach(k_)}function Lc(t,a){t.blockedOn===a&&(t.blockedOn=null,Zd||(Zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,TT)))}var jc=null;function V_(t){jc!==t&&(jc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var a=0;a<t.length;a+=3){var s=t[a],u=t[a+1],m=t[a+2];if(typeof u!="function"){if(Xd(u||s)===null)continue;break}var w=Ze(s);w!==null&&(t.splice(a,3),a-=3,Xh(w,{pending:!0,data:m,method:s.method,action:u},u,m))}}))}function jl(t){function a(F){return Lc(F,t)}ui!==null&&Lc(ui,t),ci!==null&&Lc(ci,t),fi!==null&&Lc(fi,t),Vl.forEach(a),Pl.forEach(a);for(var s=0;s<hi.length;s++){var u=hi[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<hi.length&&(s=hi[0],s.blockedOn===null);)M_(s),s.blockedOn===null&&hi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var m=s[u],w=s[u+1],M=m[ge]||null;if(typeof w=="function")M||V_(s);else if(M){var j=null;if(w&&w.hasAttribute("formAction")){if(m=w,M=w[ge]||null)j=M.formAction;else if(Xd(m)!==null)continue}else j=M.action;typeof j=="function"?s[u+1]=j:(s.splice(u,3),u-=3),V_(s)}}}function Wd(t){this._internalRoot=t}Uc.prototype.render=Wd.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,u=Gn();C_(s,u,t,a,null,null)},Uc.prototype.unmount=Wd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;C_(t.current,2,null,t,null,null),bc(),a[Ae]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var a=q();t={blockedOn:null,target:t,priority:a};for(var s=0;s<hi.length&&a!==0&&a<hi[s].priority;s++);hi.splice(s,0,t),s===0&&M_(t)}};var P_=e.version;if(P_!=="19.1.0")throw Error(i(527,P_,"19.1.0"));se.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=p(a),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var ST={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{ft=zc.inject(ST),Ge=zc}catch{}}return zl.createRoot=function(t,a){if(!o(t))throw Error(i(299));var s=!1,u="",m=Wy,w=Jy,M=ev,j=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks)),a=R_(t,1,!1,null,null,s,u,m,w,M,j,null),t[Ae]=a.current,kd(t),new Wd(a)},zl.hydrateRoot=function(t,a,s){if(!o(t))throw Error(i(299));var u=!1,m="",w=Wy,M=Jy,j=ev,F=null,W=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(w=s.onUncaughtError),s.onCaughtError!==void 0&&(M=s.onCaughtError),s.onRecoverableError!==void 0&&(j=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(F=s.unstable_transitionCallbacks),s.formState!==void 0&&(W=s.formState)),a=R_(t,1,!0,a,s??null,u,m,w,M,j,F,W),a.context=x_(null),s=a.current,u=Gn(),u=Ir(u),m=Ka(u),m.callback=null,Xa(s,m,u),s=u,a.current.lanes=s,br(a,s),Hr(a),t[Ae]=a.current,kd(t),new Uc(a)},zl.version="19.1.0",zl}var G_;function VT(){if(G_)return tm.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tm.exports=kT(),tm.exports}var PT=VT(),$l={},Y_;function LT(){if(Y_)return $l;Y_=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.parse=f,$l.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function f(y,_){const v=new l,E=y.length;if(E<2)return v;const S=(_==null?void 0:_.decode)||b;let A=0;do{const R=y.indexOf("=",A);if(R===-1)break;const D=y.indexOf(";",A),k=D===-1?E:D;if(R>k){A=y.lastIndexOf(";",R-1)+1;continue}const V=c(y,A,R),P=p(y,R,V),I=y.slice(V,P);if(v[I]===void 0){let T=c(y,R+1,k),x=p(y,k,T);const O=S(y.slice(T,x));v[I]=O}A=k+1}while(A<E);return v}function c(y,_,v){do{const E=y.charCodeAt(_);if(E!==32&&E!==9)return _}while(++_<v);return v}function p(y,_,v){for(;_>v;){const E=y.charCodeAt(--_);if(E!==32&&E!==9)return _+1}return v}function g(y,_,v){const E=(v==null?void 0:v.encode)||encodeURIComponent;if(!r.test(y))throw new TypeError(`argument name is invalid: ${y}`);const S=E(_);if(!e.test(S))throw new TypeError(`argument val is invalid: ${_}`);let A=y+"="+S;if(!v)return A;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);A+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);A+="; Domain="+v.domain}if(v.path){if(!i.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);A+="; Path="+v.path}if(v.expires){if(!d(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);A+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(A+="; HttpOnly"),v.secure&&(A+="; Secure"),v.partitioned&&(A+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return A}function b(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function d(y){return o.call(y)==="[object Date]"}return $l}LT();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sE=r=>{throw TypeError(r)},jT=(r,e,n)=>e.has(r)||sE("Cannot "+n),im=(r,e,n)=>(jT(r,e,"read from private field"),n?n.call(r):e.get(r)),UT=(r,e,n)=>e.has(r)?sE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),Q_="popstate";function zT(r={}){function e(o,l){let{pathname:f="/",search:c="",hash:p=""}=Pa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),au("",{pathname:f,search:c,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let f=o.document.querySelector("base"),c="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");c=g===-1?p:p.slice(0,g)}return c+"#"+(typeof l=="string"?l:Ti(l))}function i(o,l){jt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return BT(e,n,i,r)}function tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function jt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $T(){return Math.random().toString(36).substring(2,10)}function K_(r,e){return{usr:r.state,key:r.key,idx:e}}function au(r,e,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Pa(e):e,state:n,key:e&&e.key||i||$T()}}function Ti({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Pa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function BT(r,e,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,f=o.history,c="POP",p=null,g=b();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function b(){return(f.state||{idx:null}).idx}function d(){c="POP";let S=b(),A=S==null?null:S-g;g=S,p&&p({action:c,location:E.location,delta:A})}function y(S,A){c="PUSH";let R=au(E.location,S,A);n&&n(R,S),g=b()+1;let D=K_(R,g),k=E.createHref(R);try{f.pushState(D,"",k)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;o.location.assign(k)}l&&p&&p({action:c,location:E.location,delta:1})}function _(S,A){c="REPLACE";let R=au(E.location,S,A);n&&n(R,S),g=b();let D=K_(R,g),k=E.createHref(R);f.replaceState(D,"",k),l&&p&&p({action:c,location:E.location,delta:0})}function v(S){let A=o.location.origin!=="null"?o.location.origin:o.location.href,R=typeof S=="string"?S:Ti(S);return R=R.replace(/ $/,"%20"),tt(A,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,A)}let E={get action(){return c},get location(){return r(o,f)},listen(S){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Q_,d),p=S,()=>{o.removeEventListener(Q_,d),p=null}},createHref(S){return e(o,S)},createURL:v,encodeLocation(S){let A=v(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:_,go(S){return f.go(S)}};return E}var Hl,X_=class{constructor(r){if(UT(this,Hl,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(im(this,Hl).has(r))return im(this,Hl).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){im(this,Hl).set(r,e)}};Hl=new WeakMap;var FT=new Set(["lazy","caseSensitive","path","id","index","children"]);function qT(r){return FT.has(r)}var HT=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function GT(r){return HT.has(r)}function YT(r){return r.index===!0}function uf(r,e,n=[],i={}){return r.map((o,l)=>{let f=[...n,String(l)],c=typeof o.id=="string"?o.id:f.join("-");if(tt(o.index!==!0||!o.children,"Cannot specify children on an index route"),tt(!i[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),YT(o)){let p={...o,...e(o),id:c};return i[c]=p,p}else{let p={...o,...e(o),id:c,children:void 0};return i[c]=p,o.children&&(p.children=uf(o.children,e,f,i)),p}})}function yi(r,e,n="/"){return Xc(r,e,n,!1)}function Xc(r,e,n,i){let o=typeof e=="string"?Pa(e):e,l=vr(o.pathname||"/",n);if(l==null)return null;let f=oE(r);KT(f);let c=null;for(let p=0;c==null&&p<f.length;++p){let g=sS(l);c=aS(f[p],g,i)}return c}function QT(r,e){let{route:n,pathname:i,params:o}=r;return{id:n.id,pathname:i,params:o,data:e[n.id],handle:n.handle}}function oE(r,e=[],n=[],i=""){let o=(l,f,c)=>{let p={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:f,route:l};p.relativePath.startsWith("/")&&(tt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=Xr([i,p.relativePath]),b=n.concat(p);l.children&&l.children.length>0&&(tt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),oE(l.children,e,b,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:nS(g,l.index),routesMeta:b})};return r.forEach((l,f)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))o(l,f);else for(let p of lE(l.path))o(l,f,p)}),e}function lE(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let f=lE(i.join("/")),c=[];return c.push(...f.map(p=>p===""?l:[l,p].join("/"))),o&&c.push(...f),c.map(p=>r.startsWith("/")&&p===""?"/":p)}function KT(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:rS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var XT=/^:[\w-]+$/,ZT=3,WT=2,JT=1,eS=10,tS=-2,Z_=r=>r==="*";function nS(r,e){let n=r.split("/"),i=n.length;return n.some(Z_)&&(i+=tS),e&&(i+=WT),n.filter(o=>!Z_(o)).reduce((o,l)=>o+(XT.test(l)?ZT:l===""?JT:eS),i)}function rS(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function aS(r,e,n=!1){let{routesMeta:i}=r,o={},l="/",f=[];for(let c=0;c<i.length;++c){let p=i[c],g=c===i.length-1,b=l==="/"?e:e.slice(l.length)||"/",d=cf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),y=p.route;if(!d&&g&&n&&!i[i.length-1].route.index&&(d=cf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!d)return null;Object.assign(o,d.params),f.push({params:o,pathname:Xr([l,d.pathname]),pathnameBase:uS(Xr([l,d.pathnameBase])),route:y}),d.pathnameBase!=="/"&&(l=Xr([l,d.pathnameBase]))}return f}function cf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=iS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let l=o[0],f=l.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((g,{paramName:b,isOptional:d},y)=>{if(b==="*"){let v=c[y]||"";f=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const _=c[y];return d&&!_?g[b]=void 0:g[b]=(_||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:f,pattern:r}}function iS(r,e=!1,n=!0){jt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,c,p)=>(i.push({paramName:c,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function sS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function vr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}function oS(r,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof r=="string"?Pa(r):r;return{pathname:n?n.startsWith("/")?n:lS(n,e):e,search:cS(i),hash:fS(o)}}function lS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function sm(r,e,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uE(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ap(r){let e=uE(r);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function wp(r,e,n,i=!1){let o;typeof r=="string"?o=Pa(r):(o={...r},tt(!o.pathname||!o.pathname.includes("?"),sm("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),sm("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),sm("#","search","hash",o)));let l=r===""||o.pathname==="",f=l?"/":o.pathname,c;if(f==null)c=n;else{let d=e.length-1;if(!i&&f.startsWith("..")){let y=f.split("/");for(;y[0]==="..";)y.shift(),d-=1;o.pathname=y.join("/")}c=d>=0?e[d]:"/"}let p=oS(o,c),g=f&&f!=="/"&&f.endsWith("/"),b=(l||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var Xr=r=>r.join("/").replace(/\/\/+/g,"/"),uS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),cS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,fS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,ff=class{constructor(r,e,n,i=!1){this.status=r,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function iu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var cE=["POST","PUT","PATCH","DELETE"],hS=new Set(cE),dS=["GET",...cE],mS=new Set(dS),pS=new Set([301,302,303,307,308]),gS=new Set([307,308]),om={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Tp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vS=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),fE="remix-router-transitions",hE=Symbol("ResetLoaderData");function _S(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";tt(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=r.hydrationRouteProperties||[],o=r.mapRouteProperties||vS,l={},f=uf(r.routes,o,void 0,l),c,p=r.basename||"/",g=r.dataStrategy||TS,b={unstable_middleware:!1,...r.future},d=null,y=new Set,_=null,v=null,E=null,S=r.hydrationData!=null,A=yi(f,r.history.location,p),R=!1,D=null;if(A==null&&!r.patchRoutesOnNavigation){let q=yr(404,{pathname:r.history.location.pathname}),{matches:Q,route:Z}=ub(f);A=Q,D={[Z.id]:q}}A&&!r.hydrationData&&Rn(A,f,r.history.location.pathname).active&&(A=null);let k;if(A)if(A.some(q=>q.route.lazy))k=!1;else if(!A.some(q=>q.route.loader))k=!0;else{let q=r.hydrationData?r.hydrationData.loaderData:null,Q=r.hydrationData?r.hydrationData.errors:null;if(Q){let Z=A.findIndex(le=>Q[le.route.id]!==void 0);k=A.slice(0,Z+1).every(le=>!Dm(le.route,q,Q))}else k=A.every(Z=>!Dm(Z.route,q,Q))}else{k=!1,A=[];let q=Rn(null,f,r.history.location.pathname);q.active&&q.matches&&(R=!0,A=q.matches)}let V,P={historyAction:r.history.action,location:r.history.location,matches:A,initialized:k,navigation:om,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||D,fetchers:new Map,blockers:new Map},I="POP",T=!1,x,O=!1,L=new Map,$=null,U=!1,he=!1,pe=new Set,G=new Map,se=0,ve=-1,xe=new Map,B=new Set,ne=new Map,me=new Map,ce=new Set,be=new Map,Ue,Ce=null;function St(){if(d=r.history.listen(({action:q,location:Q,delta:Z})=>{if(Ue){Ue(),Ue=void 0;return}jt(be.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=$a({currentLocation:P.location,nextLocation:Q,historyAction:q});if(le&&Z!=null){let ge=new Promise(Ae=>{Ue=Ae});r.history.go(Z*-1),nr(le,{state:"blocked",location:Q,proceed(){nr(le,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),ge.then(()=>r.history.go(Z))},reset(){let Ae=new Map(P.blockers);Ae.set(le,Bl),Ct({blockers:Ae})}});return}return Tn(q,Q)}),n){VS(e,L);let q=()=>PS(e,L);e.addEventListener("pagehide",q),$=()=>e.removeEventListener("pagehide",q)}return P.initialized||Tn("POP",P.location,{initialHydration:!0}),V}function vt(){d&&d(),$&&$(),y.clear(),x&&x.abort(),P.fetchers.forEach((q,Q)=>Ut(Q)),P.blockers.forEach((q,Q)=>sa(Q))}function Jn(q){return y.add(q),()=>y.delete(q)}function Ct(q,Q={}){P={...P,...q};let Z=[],le=[];P.fetchers.forEach((ge,Ae)=>{ge.state==="idle"&&(ce.has(Ae)?Z.push(Ae):le.push(Ae))}),ce.forEach(ge=>{!P.fetchers.has(ge)&&!G.has(ge)&&Z.push(ge)}),[...y].forEach(ge=>ge(P,{deletedFetchers:Z,viewTransitionOpts:Q.viewTransitionOpts,flushSync:Q.flushSync===!0})),Z.forEach(ge=>Ut(ge)),le.forEach(ge=>P.fetchers.delete(ge))}function pn(q,Q,{flushSync:Z}={}){var Oe,Ve;let le=P.actionData!=null&&P.navigation.formMethod!=null&&Kn(P.navigation.formMethod)&&P.navigation.state==="loading"&&((Oe=q.state)==null?void 0:Oe._isRedirect)!==!0,ge;Q.actionData?Object.keys(Q.actionData).length>0?ge=Q.actionData:ge=null:le?ge=P.actionData:ge=null;let Ae=Q.loaderData?ob(P.loaderData,Q.loaderData,Q.matches||[],Q.errors):P.loaderData,Me=P.blockers;Me.size>0&&(Me=new Map(Me),Me.forEach((Re,Le)=>Me.set(Le,Bl)));let we=T===!0||P.navigation.formMethod!=null&&Kn(P.navigation.formMethod)&&((Ve=q.state)==null?void 0:Ve._isRedirect)!==!0;c&&(f=c,c=void 0),U||I==="POP"||(I==="PUSH"?r.history.push(q,q.state):I==="REPLACE"&&r.history.replace(q,q.state));let Se;if(I==="POP"){let Re=L.get(P.location.pathname);Re&&Re.has(q.pathname)?Se={currentLocation:P.location,nextLocation:q}:L.has(q.pathname)&&(Se={currentLocation:q,nextLocation:P.location})}else if(O){let Re=L.get(P.location.pathname);Re?Re.add(q.pathname):(Re=new Set([q.pathname]),L.set(P.location.pathname,Re)),Se={currentLocation:P.location,nextLocation:q}}Ct({...Q,actionData:ge,loaderData:Ae,historyAction:I,location:q,initialized:!0,navigation:om,revalidation:"idle",restoreScrollPosition:Ba(q,Q.matches||P.matches),preventScrollReset:we,blockers:Me},{viewTransitionOpts:Se,flushSync:Z===!0}),I="POP",T=!1,O=!1,U=!1,he=!1,Ce==null||Ce.resolve(),Ce=null}async function Rr(q,Q){if(typeof q=="number"){r.history.go(q);return}let Z=Cm(P.location,P.matches,p,q,Q==null?void 0:Q.fromRouteId,Q==null?void 0:Q.relative),{path:le,submission:ge,error:Ae}=W_(!1,Z,Q),Me=P.location,we=au(P.location,le,Q&&Q.state);we={...we,...r.history.encodeLocation(we)};let Se=Q&&Q.replace!=null?Q.replace:void 0,Oe="PUSH";Se===!0?Oe="REPLACE":Se===!1||ge!=null&&Kn(ge.formMethod)&&ge.formAction===P.location.pathname+P.location.search&&(Oe="REPLACE");let Ve=Q&&"preventScrollReset"in Q?Q.preventScrollReset===!0:void 0,Re=(Q&&Q.flushSync)===!0,Le=$a({currentLocation:Me,nextLocation:we,historyAction:Oe});if(Le){nr(Le,{state:"blocked",location:we,proceed(){nr(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),Rr(q,Q)},reset(){let Ze=new Map(P.blockers);Ze.set(Le,Bl),Ct({blockers:Ze})}});return}await Tn(Oe,we,{submission:ge,pendingError:Ae,preventScrollReset:Ve,replace:Q&&Q.replace,enableViewTransition:Q&&Q.viewTransition,flushSync:Re})}function aa(){Ce||(Ce=LS()),za(),Ct({revalidation:"loading"});let q=Ce.promise;return P.navigation.state==="submitting"?q:P.navigation.state==="idle"?(Tn(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),q):(Tn(I||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:O===!0}),q)}async function Tn(q,Q,Z){x&&x.abort(),x=null,I=q,U=(Z&&Z.startUninterruptedRevalidation)===!0,br(P.location,P.matches),T=(Z&&Z.preventScrollReset)===!0,O=(Z&&Z.enableViewTransition)===!0;let le=c||f,ge=Z&&Z.overrideNavigation,Ae=Z!=null&&Z.initialHydration&&P.matches&&P.matches.length>0&&!R?P.matches:yi(le,Q,p),Me=(Z&&Z.flushSync)===!0;if(Ae&&P.initialized&&!he&&OS(P.location,Q)&&!(Z&&Z.submission&&Kn(Z.submission.formMethod))){pn(Q,{matches:Ae},{flushSync:Me});return}let we=Rn(Ae,le,Q.pathname);if(we.active&&we.matches&&(Ae=we.matches),!Ae){let{error:ut,notFoundMatches:rt,route:Ke}=oa(Q.pathname);pn(Q,{matches:rt,loaderData:{},errors:{[Ke.id]:ut}},{flushSync:Me});return}x=new AbortController;let Se=ho(r.history,Q,x.signal,Z&&Z.submission),Oe=new X_(r.unstable_getContext?await r.unstable_getContext():void 0),Ve;if(Z&&Z.pendingError)Ve=[ds(Ae).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&Kn(Z.submission.formMethod)){let ut=await Li(Se,Q,Z.submission,Ae,Oe,we.active,Z&&Z.initialHydration===!0,{replace:Z.replace,flushSync:Me});if(ut.shortCircuited)return;if(ut.pendingActionResult){let[rt,Ke]=ut.pendingActionResult;if(Qn(Ke)&&iu(Ke.error)&&Ke.error.status===404){x=null,pn(Q,{matches:ut.matches,loaderData:{},errors:{[rt]:Ke.error}});return}}Ae=ut.matches||Ae,Ve=ut.pendingActionResult,ge=lm(Q,Z.submission),Me=!1,we.active=!1,Se=ho(r.history,Se.url,Se.signal)}let{shortCircuited:Re,matches:Le,loaderData:Ze,errors:dt}=await Rs(Se,Q,Ae,Oe,we.active,ge,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Me,Ve);Re||(x=null,pn(Q,{matches:Le||Ae,...lb(Ve),loaderData:Ze,errors:dt}))}async function Li(q,Q,Z,le,ge,Ae,Me,we={}){za();let Se=MS(Q,Z);if(Ct({navigation:Se},{flushSync:we.flushSync===!0}),Ae){let Re=await Or(le,Q.pathname,q.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let Le=ds(Re.partialMatches).route.id;return{matches:Re.partialMatches,pendingActionResult:[Le,{type:"error",error:Re.error}]}}else if(Re.matches)le=Re.matches;else{let{notFoundMatches:Le,error:Ze,route:dt}=oa(Q.pathname);return{matches:Le,pendingActionResult:[dt.id,{type:"error",error:Ze}]}}}let Oe,Ve=Gl(le,Q);if(!Ve.route.action&&!Ve.route.lazy)Oe={type:"error",error:yr(405,{method:q.method,pathname:Q.pathname,routeId:Ve.route.id})};else{let Re=bo(o,l,q,le,Ve,Me?[]:i,ge),Le=await er(q,Re,ge,null);if(Oe=Le[Ve.route.id],!Oe){for(let Ze of le)if(Le[Ze.route.id]){Oe=Le[Ze.route.id];break}}if(q.signal.aborted)return{shortCircuited:!0}}if(ms(Oe)){let Re;return we&&we.replace!=null?Re=we.replace:Re=ab(Oe.response.headers.get("Location"),new URL(q.url),p)===P.location.pathname+P.location.search,await _r(q,Oe,!0,{submission:Z,replace:Re}),{shortCircuited:!0}}if(Qn(Oe)){let Re=ds(le,Ve.route.id);return(we&&we.replace)!==!0&&(I="PUSH"),{matches:le,pendingActionResult:[Re.route.id,Oe,Ve.route.id]}}return{matches:le,pendingActionResult:[Ve.route.id,Oe]}}async function Rs(q,Q,Z,le,ge,Ae,Me,we,Se,Oe,Ve,Re){let Le=Ae||lm(Q,Me),Ze=Me||we||fb(Le),dt=!U&&!Oe;if(ge){if(dt){let zt=Sn(Re);Ct({navigation:Le,...zt!==void 0?{actionData:zt}:{}},{flushSync:Ve})}let Be=await Or(Z,Q.pathname,q.signal);if(Be.type==="aborted")return{shortCircuited:!0};if(Be.type==="error"){let zt=ds(Be.partialMatches).route.id;return{matches:Be.partialMatches,loaderData:{},errors:{[zt]:Be.error}}}else if(Be.matches)Z=Be.matches;else{let{error:zt,notFoundMatches:Un,route:In}=oa(Q.pathname);return{matches:Un,loaderData:{},errors:{[In.id]:zt}}}}let ut=c||f,{dsMatches:rt,revalidatingFetchers:Ke}=J_(q,le,o,l,r.history,P,Z,Ze,Q,Oe?[]:i,Oe===!0,he,pe,ce,ne,B,ut,p,Re);if(ve=++se,!r.dataStrategy&&!rt.some(Be=>Be.shouldLoad)&&Ke.length===0){let Be=Cr();return pn(Q,{matches:Z,loaderData:{},errors:Re&&Qn(Re[1])?{[Re[0]]:Re[1].error}:null,...lb(Re),...Be?{fetchers:new Map(P.fetchers)}:{}},{flushSync:Ve}),{shortCircuited:!0}}if(dt){let Be={};if(!ge){Be.navigation=Le;let zt=Sn(Re);zt!==void 0&&(Be.actionData=zt)}Ke.length>0&&(Be.fetchers=$o(Ke)),Ct(Be,{flushSync:Ve})}Ke.forEach(Be=>{tr(Be.key),Be.controller&&G.set(Be.key,Be.controller)});let ar=()=>Ke.forEach(Be=>tr(Be.key));x&&x.signal.addEventListener("abort",ar);let{loaderResults:Ht,fetcherResults:xn}=await Ua(rt,Ke,q,le);if(q.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",ar),Ke.forEach(Be=>G.delete(Be.key));let sn=$c(Ht);if(sn)return await _r(q,sn.result,!0,{replace:Se}),{shortCircuited:!0};if(sn=$c(xn),sn)return B.add(sn.key),await _r(q,sn.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:Nr,errors:jn}=sb(P,Z,Ht,Re,Ke,xn);Oe&&P.errors&&(jn={...P.errors,...jn});let qa=Cr(),yn=Dr(ve),Cn=qa||yn||Ke.length>0;return{matches:Z,loaderData:Nr,errors:jn,...Cn?{fetchers:new Map(P.fetchers)}:{}}}function Sn(q){if(q&&!Qn(q[1]))return{[q[0]]:q[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function $o(q){return q.forEach(Q=>{let Z=P.fetchers.get(Q.key),le=Fl(void 0,Z?Z.data:void 0);P.fetchers.set(Q.key,le)}),new Map(P.fetchers)}async function ji(q,Q,Z,le){tr(q);let ge=(le&&le.flushSync)===!0,Ae=c||f,Me=Cm(P.location,P.matches,p,Z,Q,le==null?void 0:le.relative),we=yi(Ae,Me,p),Se=Rn(we,Ae,Me);if(Se.active&&Se.matches&&(we=Se.matches),!we){Ge(q,Q,yr(404,{pathname:Me}),{flushSync:ge});return}let{path:Oe,submission:Ve,error:Re}=W_(!0,Me,le);if(Re){Ge(q,Q,Re,{flushSync:ge});return}let Le=Gl(we,Oe),Ze=new X_(r.unstable_getContext?await r.unstable_getContext():void 0),dt=(le&&le.preventScrollReset)===!0;if(Ve&&Kn(Ve.formMethod)){await ja(q,Q,Oe,Le,we,Ze,Se.active,ge,dt,Ve);return}ne.set(q,{routeId:Q,path:Oe}),await ia(q,Q,Oe,Le,we,Ze,Se.active,ge,dt,Ve)}async function ja(q,Q,Z,le,ge,Ae,Me,we,Se,Oe){za(),ne.delete(q);function Ve(wt){if(!wt.route.action&&!wt.route.lazy){let ir=yr(405,{method:Oe.formMethod,pathname:Z,routeId:Q});return Ge(q,Q,ir,{flushSync:we}),!0}return!1}if(!Me&&Ve(le))return;let Re=P.fetchers.get(q);ft(q,kS(Oe,Re),{flushSync:we});let Le=new AbortController,Ze=ho(r.history,Z,Le.signal,Oe);if(Me){let wt=await Or(ge,Z,Ze.signal,q);if(wt.type==="aborted")return;if(wt.type==="error"){Ge(q,Q,wt.error,{flushSync:we});return}else if(wt.matches){if(ge=wt.matches,le=Gl(ge,Z),Ve(le))return}else{Ge(q,Q,yr(404,{pathname:Z}),{flushSync:we});return}}G.set(q,Le);let dt=se,ut=bo(o,l,Ze,ge,le,i,Ae),Ke=(await er(Ze,ut,Ae,q))[le.route.id];if(Ze.signal.aborted){G.get(q)===Le&&G.delete(q);return}if(ce.has(q)){if(ms(Ke)||Qn(Ke)){ft(q,gi(void 0));return}}else{if(ms(Ke))if(G.delete(q),ve>dt){ft(q,gi(void 0));return}else return B.add(q),ft(q,Fl(Oe)),_r(Ze,Ke,!1,{fetcherSubmission:Oe,preventScrollReset:Se});if(Qn(Ke)){Ge(q,Q,Ke.error);return}}let ar=P.navigation.location||P.location,Ht=ho(r.history,ar,Le.signal),xn=c||f,sn=P.navigation.state!=="idle"?yi(xn,P.navigation.location,p):P.matches;tt(sn,"Didn't find any matches after fetcher action");let Nr=++se;xe.set(q,Nr);let jn=Fl(Oe,Ke.data);P.fetchers.set(q,jn);let{dsMatches:qa,revalidatingFetchers:yn}=J_(Ht,Ae,o,l,r.history,P,sn,Oe,ar,i,!1,he,pe,ce,ne,B,xn,p,[le.route.id,Ke]);yn.filter(wt=>wt.key!==q).forEach(wt=>{let ir=wt.key,la=P.fetchers.get(ir),on=Fl(void 0,la?la.data:void 0);P.fetchers.set(ir,on),tr(ir),wt.controller&&G.set(ir,wt.controller)}),Ct({fetchers:new Map(P.fetchers)});let Cn=()=>yn.forEach(wt=>tr(wt.key));Le.signal.addEventListener("abort",Cn);let{loaderResults:Be,fetcherResults:zt}=await Ua(qa,yn,Ht,Ae);if(Le.signal.aborted)return;Le.signal.removeEventListener("abort",Cn),xe.delete(q),G.delete(q),yn.forEach(wt=>G.delete(wt.key));let Un=$c(Be);if(Un)return _r(Ht,Un.result,!1,{preventScrollReset:Se});if(Un=$c(zt),Un)return B.add(Un.key),_r(Ht,Un.result,!1,{preventScrollReset:Se});let{loaderData:In,errors:Mr}=sb(P,sn,Be,void 0,yn,zt);if(P.fetchers.has(q)){let wt=gi(Ke.data);P.fetchers.set(q,wt)}Dr(Nr),P.navigation.state==="loading"&&Nr>ve?(tt(I,"Expected pending action"),x&&x.abort(),pn(P.navigation.location,{matches:sn,loaderData:In,errors:Mr,fetchers:new Map(P.fetchers)})):(Ct({errors:Mr,loaderData:ob(P.loaderData,In,sn,Mr),fetchers:new Map(P.fetchers)}),he=!1)}async function ia(q,Q,Z,le,ge,Ae,Me,we,Se,Oe){let Ve=P.fetchers.get(q);ft(q,Fl(Oe,Ve?Ve.data:void 0),{flushSync:we});let Re=new AbortController,Le=ho(r.history,Z,Re.signal);if(Me){let Ke=await Or(ge,Z,Le.signal,q);if(Ke.type==="aborted")return;if(Ke.type==="error"){Ge(q,Q,Ke.error,{flushSync:we});return}else if(Ke.matches)ge=Ke.matches,le=Gl(ge,Z);else{Ge(q,Q,yr(404,{pathname:Z}),{flushSync:we});return}}G.set(q,Re);let Ze=se,dt=bo(o,l,Le,ge,le,i,Ae),rt=(await er(Le,dt,Ae,q))[le.route.id];if(G.get(q)===Re&&G.delete(q),!Le.signal.aborted){if(ce.has(q)){ft(q,gi(void 0));return}if(ms(rt))if(ve>Ze){ft(q,gi(void 0));return}else{B.add(q),await _r(Le,rt,!1,{preventScrollReset:Se});return}if(Qn(rt)){Ge(q,Q,rt.error);return}ft(q,gi(rt.data))}}async function _r(q,Q,Z,{submission:le,fetcherSubmission:ge,preventScrollReset:Ae,replace:Me}={}){Q.response.headers.has("X-Remix-Revalidate")&&(he=!0);let we=Q.response.headers.get("Location");tt(we,"Expected a Location header on the redirect Response"),we=ab(we,new URL(q.url),p);let Se=au(P.location,we,{_isRedirect:!0});if(n){let dt=!1;if(Q.response.headers.has("X-Remix-Reload-Document"))dt=!0;else if(Tp.test(we)){const ut=r.history.createURL(we);dt=ut.origin!==e.location.origin||vr(ut.pathname,p)==null}if(dt){Me?e.location.replace(we):e.location.assign(we);return}}x=null;let Oe=Me===!0||Q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ve,formAction:Re,formEncType:Le}=P.navigation;!le&&!ge&&Ve&&Re&&Le&&(le=fb(P.navigation));let Ze=le||ge;if(gS.has(Q.response.status)&&Ze&&Kn(Ze.formMethod))await Tn(Oe,Se,{submission:{...Ze,formAction:we},preventScrollReset:Ae||T,enableViewTransition:Z?O:void 0});else{let dt=lm(Se,le);await Tn(Oe,Se,{overrideNavigation:dt,fetcherSubmission:ge,preventScrollReset:Ae||T,enableViewTransition:Z?O:void 0})}}async function er(q,Q,Z,le){let ge,Ae={};try{ge=await SS(g,q,Q,le,Z,!1)}catch(Me){return Q.filter(we=>we.shouldLoad).forEach(we=>{Ae[we.route.id]={type:"error",error:Me}}),Ae}for(let[Me,we]of Object.entries(ge))if(IS(we)){let Se=we.result;Ae[Me]={type:"redirect",response:CS(Se,q,Me,Q,p)}}else Ae[Me]=await xS(we);return Ae}async function Ua(q,Q,Z,le){let ge=er(Z,q,le,null),Ae=Promise.all(Q.map(async Se=>{if(Se.matches&&Se.match&&Se.request&&Se.controller){let Ve=(await er(Se.request,Se.matches,le,Se.key))[Se.match.route.id];return{[Se.key]:Ve}}else return Promise.resolve({[Se.key]:{type:"error",error:yr(404,{pathname:Se.path})}})})),Me=await ge,we=(await Ae).reduce((Se,Oe)=>Object.assign(Se,Oe),{});return{loaderResults:Me,fetcherResults:we}}function za(){he=!0,ne.forEach((q,Q)=>{G.has(Q)&&pe.add(Q),tr(Q)})}function ft(q,Q,Z={}){P.fetchers.set(q,Q),Ct({fetchers:new Map(P.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function Ge(q,Q,Z,le={}){let ge=ds(P.matches,Q);Ut(q),Ct({errors:{[ge.route.id]:Z},fetchers:new Map(P.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function gn(q){return me.set(q,(me.get(q)||0)+1),ce.has(q)&&ce.delete(q),P.fetchers.get(q)||yS}function Ut(q){let Q=P.fetchers.get(q);G.has(q)&&!(Q&&Q.state==="loading"&&xe.has(q))&&tr(q),ne.delete(q),xe.delete(q),B.delete(q),ce.delete(q),pe.delete(q),P.fetchers.delete(q)}function xs(q){let Q=(me.get(q)||0)-1;Q<=0?(me.delete(q),ce.add(q)):me.set(q,Q),Ct({fetchers:new Map(P.fetchers)})}function tr(q){let Q=G.get(q);Q&&(Q.abort(),G.delete(q))}function xr(q){for(let Q of q){let Z=gn(Q),le=gi(Z.data);P.fetchers.set(Q,le)}}function Cr(){let q=[],Q=!1;for(let Z of B){let le=P.fetchers.get(Z);tt(le,`Expected fetcher: ${Z}`),le.state==="loading"&&(B.delete(Z),q.push(Z),Q=!0)}return xr(q),Q}function Dr(q){let Q=[];for(let[Z,le]of xe)if(le<q){let ge=P.fetchers.get(Z);tt(ge,`Expected fetcher: ${Z}`),ge.state==="loading"&&(tr(Z),xe.delete(Z),Q.push(Z))}return xr(Q),Q.length>0}function Ln(q,Q){let Z=P.blockers.get(q)||Bl;return be.get(q)!==Q&&be.set(q,Q),Z}function sa(q){P.blockers.delete(q),be.delete(q)}function nr(q,Q){let Z=P.blockers.get(q)||Bl;tt(Z.state==="unblocked"&&Q.state==="blocked"||Z.state==="blocked"&&Q.state==="blocked"||Z.state==="blocked"&&Q.state==="proceeding"||Z.state==="blocked"&&Q.state==="unblocked"||Z.state==="proceeding"&&Q.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${Q.state}`);let le=new Map(P.blockers);le.set(q,Q),Ct({blockers:le})}function $a({currentLocation:q,nextLocation:Q,historyAction:Z}){if(be.size===0)return;be.size>1&&jt(!1,"A router only supports one blocker at a time");let le=Array.from(be.entries()),[ge,Ae]=le[le.length-1],Me=P.blockers.get(ge);if(!(Me&&Me.state==="proceeding")&&Ae({currentLocation:q,nextLocation:Q,historyAction:Z}))return ge}function oa(q){let Q=yr(404,{pathname:q}),Z=c||f,{matches:le,route:ge}=ub(Z);return{notFoundMatches:le,route:ge,error:Q}}function Ui(q,Q,Z){if(_=q,E=Q,v=Z||null,!S&&P.navigation===om){S=!0;let le=Ba(P.location,P.matches);le!=null&&Ct({restoreScrollPosition:le})}return()=>{_=null,E=null,v=null}}function rr(q,Q){return v&&v(q,Q.map(le=>QT(le,P.loaderData)))||q.key}function br(q,Q){if(_&&E){let Z=rr(q,Q);_[Z]=E()}}function Ba(q,Q){if(_){let Z=rr(q,Q),le=_[Z];if(typeof le=="number")return le}return null}function Rn(q,Q,Z){if(r.patchRoutesOnNavigation)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:Xc(Q,Z,p,!0)}}else return{active:!0,matches:Xc(Q,Z,p,!0)||[]};return{active:!1,matches:null}}async function Or(q,Q,Z,le){if(!r.patchRoutesOnNavigation)return{type:"success",matches:q};let ge=q;for(;;){let Ae=c==null,Me=c||f,we=l;try{await r.patchRoutesOnNavigation({signal:Z,path:Q,matches:ge,fetcherKey:le,patch:(Ve,Re)=>{Z.aborted||eb(Ve,Re,Me,we,o)}})}catch(Ve){return{type:"error",error:Ve,partialMatches:ge}}finally{Ae&&!Z.aborted&&(f=[...f])}if(Z.aborted)return{type:"aborted"};let Se=yi(Me,Q,p);if(Se)return{type:"success",matches:Se};let Oe=Xc(Me,Q,p,!0);if(!Oe||ge.length===Oe.length&&ge.every((Ve,Re)=>Ve.route.id===Oe[Re].route.id))return{type:"success",matches:null};ge=Oe}}function Ir(q){l={},c=uf(q,o,void 0,l)}function Fa(q,Q){let Z=c==null;eb(q,Q,c||f,l,o),Z&&(f=[...f],Ct({}))}return V={get basename(){return p},get future(){return b},get state(){return P},get routes(){return f},get window(){return e},initialize:St,subscribe:Jn,enableScrollRestoration:Ui,navigate:Rr,fetch:ji,revalidate:aa,createHref:q=>r.history.createHref(q),encodeLocation:q=>r.history.encodeLocation(q),getFetcher:gn,deleteFetcher:xs,dispose:vt,getBlocker:Ln,deleteBlocker:sa,patchRoutes:Fa,_internalFetchControllers:G,_internalSetRoutes:Ir},V}function bS(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Cm(r,e,n,i,o,l){let f,c;if(o){f=[];for(let g of e)if(f.push(g),g.route.id===o){c=g;break}}else f=e,c=e[e.length-1];let p=wp(i||".",Ap(f),vr(r.pathname,n)||r.pathname,l==="path");if(i==null&&(p.search=r.search,p.hash=r.hash),(i==null||i===""||i===".")&&c){let g=Sp(p.search);if(c.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&g){let b=new URLSearchParams(p.search),d=b.getAll("index");b.delete("index"),d.filter(_=>_).forEach(_=>b.append("index",_));let y=b.toString();p.search=y?`?${y}`:""}}return n!=="/"&&(p.pathname=p.pathname==="/"?n:Xr([n,p.pathname])),Ti(p)}function W_(r,e,n){if(!n||!bS(n))return{path:e};if(n.formMethod&&!NS(n.formMethod))return{path:e,error:yr(405,{method:n.formMethod})};let i=()=>({path:e,error:yr(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),f=vE(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Kn(l))return i();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[_,v])=>`${y}${_}=${v}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!Kn(l))return i();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:f,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}tt(typeof FormData=="function","FormData is not available in this environment");let c,p;if(n.formData)c=Im(n.formData),p=n.formData;else if(n.body instanceof FormData)c=Im(n.body),p=n.body;else if(n.body instanceof URLSearchParams)c=n.body,p=ib(c);else if(n.body==null)c=new URLSearchParams,p=new FormData;else try{c=new URLSearchParams(n.body),p=ib(c)}catch{return i()}let g={formMethod:l,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Kn(g.formMethod))return{path:e,submission:g};let b=Pa(e);return r&&b.search&&Sp(b.search)&&c.append("index",""),b.search=`?${c}`,{path:Ti(b),submission:g}}function J_(r,e,n,i,o,l,f,c,p,g,b,d,y,_,v,E,S,A,R){var $;let D=R?Qn(R[1])?R[1].error:R[1].data:void 0,k=o.createURL(l.location),V=o.createURL(p),P;if(b&&l.errors){let U=Object.keys(l.errors)[0];P=f.findIndex(he=>he.route.id===U)}else if(R&&Qn(R[1])){let U=R[0];P=f.findIndex(he=>he.route.id===U)-1}let I=R?R[1].statusCode:void 0,T=I&&I>=400,x={currentUrl:k,currentParams:(($=l.matches[0])==null?void 0:$.params)||{},nextUrl:V,nextParams:f[0].params,...c,actionResult:D,actionStatus:I},O=f.map((U,he)=>{let{route:pe}=U,G=null;if(P!=null&&he>P?G=!1:pe.lazy?G=!0:pe.loader==null?G=!1:b?G=Dm(pe,l.loaderData,l.errors):ES(l.loaderData,l.matches[he],U)&&(G=!0),G!==null)return Om(n,i,r,U,g,e,G);let se=T?!1:d||k.pathname+k.search===V.pathname+V.search||k.search!==V.search||AS(l.matches[he],U),ve={...x,defaultShouldRevalidate:se},xe=hf(U,ve);return Om(n,i,r,U,g,e,xe,ve)}),L=[];return v.forEach((U,he)=>{if(b||!f.some(ne=>ne.route.id===U.routeId)||_.has(he))return;let pe=yi(S,U.path,A);if(!pe){L.push({key:he,routeId:U.routeId,path:U.path,matches:null,match:null,request:null,controller:null});return}if(E.has(he))return;let G=l.fetchers.get(he),se=Gl(pe,U.path),ve=new AbortController,xe=ho(o,U.path,ve.signal),B=null;if(y.has(he))y.delete(he),B=bo(n,i,xe,pe,se,g,e);else if(G&&G.state!=="idle"&&G.data===void 0)d&&(B=bo(n,i,xe,pe,se,g,e));else{let ne={...x,defaultShouldRevalidate:T?!1:d};hf(se,ne)&&(B=bo(n,i,xe,pe,se,g,e,ne))}B&&L.push({key:he,routeId:U.routeId,path:U.path,matches:B,match:se,request:xe,controller:ve})}),{dsMatches:O,revalidatingFetchers:L}}function Dm(r,e,n){if(r.lazy)return!0;if(!r.loader)return!1;let i=e!=null&&e[r.id]!==void 0,o=n!=null&&n[r.id]!==void 0;return!i&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!i&&!o}function ES(r,e,n){let i=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return i||o}function AS(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function hf(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function eb(r,e,n,i,o){let l;if(r){let p=i[r];tt(p,`No route found to patch children into: routeId = ${r}`),p.children||(p.children=[]),l=p.children}else l=n;let f=e.filter(p=>!l.some(g=>dE(p,g))),c=uf(f,o,[r||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...c)}function dE(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>dE(n,l))}):!1}var tb=new WeakMap,mE=({key:r,route:e,manifest:n,mapRouteProperties:i})=>{let o=n[e.id];if(tt(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let l=o.lazy[r];if(!l)return;let f=tb.get(o);f||(f={},tb.set(o,f));let c=f[r];if(c)return c;let p=(async()=>{let g=qT(r),d=o[r]!==void 0&&r!=="hasErrorBoundary";if(g)jt(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),f[r]=Promise.resolve();else if(d)jt(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let y=await l();y!=null&&(Object.assign(o,{[r]:y}),Object.assign(o,i(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(y=>y===void 0)&&(o.lazy=void 0))})();return f[r]=p,p},nb=new WeakMap;function wS(r,e,n,i,o){let l=n[r.id];if(tt(l,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let b=nb.get(l);if(b)return{lazyRoutePromise:b,lazyHandlerPromise:b};let d=(async()=>{tt(typeof r.lazy=="function","No lazy route function found");let y=await r.lazy(),_={};for(let v in y){let E=y[v];if(E===void 0)continue;let S=GT(v),R=l[v]!==void 0&&v!=="hasErrorBoundary";S?jt(!S,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?jt(!R,`Route "${l.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):_[v]=E}Object.assign(l,_),Object.assign(l,{...i(l),lazy:void 0})})();return nb.set(l,d),d.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:d}}let f=Object.keys(r.lazy),c=[],p;for(let b of f){if(o&&o.includes(b))continue;let d=mE({key:b,route:r,manifest:n,mapRouteProperties:i});d&&(c.push(d),b===e&&(p=d))}let g=c.length>0?Promise.all(c).then(()=>{}):void 0;return g==null||g.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function rb(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,l)=>{n[e[l].route.id]=o}),n}async function TS(r){return r.matches.some(e=>e.route.unstable_middleware)?pE(r,!1,()=>rb(r),(e,n)=>({[n]:{type:"error",result:e}})):rb(r)}async function pE(r,e,n,i){let{matches:o,request:l,params:f,context:c}=r,p={handlerResult:void 0};try{let g=o.flatMap(d=>d.route.unstable_middleware?d.route.unstable_middleware.map(y=>[d.route.id,y]):[]),b=await gE({request:l,params:f,context:c},g,e,p,n);return e?b:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let b=await i(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,b):b}}async function gE(r,e,n,i,o,l=0){let{request:f}=r;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let c=e[l];if(!c)return i.handlerResult=await o(),i.handlerResult;let[p,g]=c,b=!1,d,y=async()=>{if(b)throw new Error("You may only call `next()` once per middleware");b=!0,await gE(r,e,n,i,o,l+1)};try{let _=await g({request:r.request,params:r.params,context:r.context},y);return b?_===void 0?d:_:y()}catch(_){throw i.middlewareError?i.middlewareError.error!==_&&(i.middlewareError={routeId:p,error:_}):i.middlewareError={routeId:p,error:_},_}}function yE(r,e,n,i,o){let l=mE({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:r}),f=wS(i.route,Kn(n.method)?"action":"loader",e,r,o);return{middleware:l,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function Om(r,e,n,i,o,l,f,c=null){let p=!1,g=yE(r,e,n,i,o);return{...i,_lazyPromises:g,shouldLoad:f,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(b){return p=!0,c?typeof b=="boolean"?hf(i,{...c,defaultShouldRevalidate:b}):hf(i,c):f},resolve(b){return p||f||b&&n.method==="GET"&&(i.route.lazy||i.route.loader)?RS({request:n,match:i,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:b,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function bo(r,e,n,i,o,l,f,c=null){return i.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:yE(r,e,n,p,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Om(r,e,n,p,l,f,!0,c))}async function SS(r,e,n,i,o,l){n.some(g=>{var b;return(b=g._lazyPromises)==null?void 0:b.middleware})&&await Promise.all(n.map(g=>{var b;return(b=g._lazyPromises)==null?void 0:b.middleware}));let f={request:e,params:n[0].params,context:o,matches:n},p=await r({...f,fetcherKey:i,unstable_runClientMiddleware:g=>{let b=f;return pE(b,!1,()=>g({...b,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(d,y)=>({[y]:{type:"error",result:d}}))}});try{await Promise.all(n.flatMap(g=>{var b,d;return[(b=g._lazyPromises)==null?void 0:b.handler,(d=g._lazyPromises)==null?void 0:d.route]}))}catch{}return p}async function RS({request:r,match:e,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:o,scopedContext:l}){let f,c,p=Kn(r.method),g=p?"action":"loader",b=d=>{let y,_=new Promise((S,A)=>y=A);c=()=>y(),r.signal.addEventListener("abort",c);let v=S=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):d({request:r,params:e.params,context:l},...S!==void 0?[S]:[]),E=(async()=>{try{return{type:"data",result:await(o?o(A=>v(A)):v())}}catch(S){return{type:"error",result:S}}})();return Promise.race([E,_])};try{let d=p?e.route.action:e.route.loader;if(n||i)if(d){let y,[_]=await Promise.all([b(d).catch(v=>{y=v}),n,i]);if(y!==void 0)throw y;f=_}else{await n;let y=p?e.route.action:e.route.loader;if(y)[f]=await Promise.all([b(y),i]);else if(g==="action"){let _=new URL(r.url),v=_.pathname+_.search;throw yr(405,{method:r.method,pathname:v,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(d)f=await b(d);else{let y=new URL(r.url),_=y.pathname+y.search;throw yr(404,{pathname:_})}}catch(d){return{type:"error",result:d}}finally{c&&r.signal.removeEventListener("abort",c)}return f}async function xS(r){var i,o,l,f,c,p;let{result:e,type:n}=r;if(_E(e)){let g;try{let b=e.headers.get("Content-Type");b&&/\bapplication\/json\b/.test(b)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(b){return{type:"error",error:b}}return n==="error"?{type:"error",error:new ff(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return n==="error"?cb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new ff(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:iu(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:iu(e)?e.status:void 0}:cb(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function CS(r,e,n,i,o){let l=r.headers.get("Location");if(tt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Tp.test(l)){let f=i.slice(0,i.findIndex(c=>c.route.id===n)+1);l=Cm(new URL(e.url),f,o,l),r.headers.set("Location",l)}return r}function ab(r,e,n){if(Tp.test(r)){let i=r,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=vr(o.pathname,n)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return r}function ho(r,e,n,i){let o=r.createURL(vE(e)).toString(),l={signal:n};if(i&&Kn(i.formMethod)){let{formMethod:f,formEncType:c}=i;l.method=f.toUpperCase(),c==="application/json"?(l.headers=new Headers({"Content-Type":c}),l.body=JSON.stringify(i.json)):c==="text/plain"?l.body=i.text:c==="application/x-www-form-urlencoded"&&i.formData?l.body=Im(i.formData):l.body=i.formData}return new Request(o,l)}function Im(r){let e=new URLSearchParams;for(let[n,i]of r.entries())e.append(n,typeof i=="string"?i:i.name);return e}function ib(r){let e=new FormData;for(let[n,i]of r.entries())e.append(n,i);return e}function DS(r,e,n,i=!1,o=!1){let l={},f=null,c,p=!1,g={},b=n&&Qn(n[1])?n[1].error:void 0;return r.forEach(d=>{if(!(d.route.id in e))return;let y=d.route.id,_=e[y];if(tt(!ms(_),"Cannot handle redirect results in processLoaderData"),Qn(_)){let v=_.error;if(b!==void 0&&(v=b,b=void 0),f=f||{},o)f[y]=v;else{let E=ds(r,y);f[E.route.id]==null&&(f[E.route.id]=v)}i||(l[y]=hE),p||(p=!0,c=iu(_.error)?_.error.status:500),_.headers&&(g[y]=_.headers)}else l[y]=_.data,_.statusCode&&_.statusCode!==200&&!p&&(c=_.statusCode),_.headers&&(g[y]=_.headers)}),b!==void 0&&n&&(f={[n[0]]:b},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:f,statusCode:c||200,loaderHeaders:g}}function sb(r,e,n,i,o,l){let{loaderData:f,errors:c}=DS(e,n,i);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:b,controller:d}=p,y=l[g];if(tt(y,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Qn(y)){let _=ds(r.matches,b==null?void 0:b.route.id);c&&c[_.route.id]||(c={...c,[_.route.id]:y.error}),r.fetchers.delete(g)}else if(ms(y))tt(!1,"Unhandled fetcher revalidation redirect");else{let _=gi(y.data);r.fetchers.set(g,_)}}),{loaderData:f,errors:c}}function ob(r,e,n,i){let o=Object.entries(e).filter(([,l])=>l!==hE).reduce((l,[f,c])=>(l[f]=c,l),{});for(let l of n){let f=l.route.id;if(!e.hasOwnProperty(f)&&r.hasOwnProperty(f)&&l.route.loader&&(o[f]=r[f]),i&&i.hasOwnProperty(f))break}return o}function lb(r){return r?Qn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function ds(r,e){return(e?r.slice(0,r.findIndex(i=>i.route.id===e)+1):[...r]).reverse().find(i=>i.route.hasErrorBoundary===!0)||r[0]}function ub(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function yr(r,{pathname:e,routeId:n,method:i,type:o,message:l}={}){let f="Unknown Server Error",c="Unknown @remix-run/router error";return r===400?(f="Bad Request",i&&e&&n?c=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(c="Unable to encode submission body")):r===403?(f="Forbidden",c=`Route "${n}" does not match URL "${e}"`):r===404?(f="Not Found",c=`No route matches URL "${e}"`):r===405&&(f="Method Not Allowed",i&&e&&n?c=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(c=`Invalid request method "${i.toUpperCase()}"`)),new ff(r||500,f,new Error(c),!0)}function $c(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[i,o]=e[n];if(ms(o))return{key:i,result:o}}}function vE(r){let e=typeof r=="string"?Pa(r):r;return Ti({...e,hash:""})}function OS(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function IS(r){return _E(r.result)&&pS.has(r.result.status)}function Qn(r){return r.type==="error"}function ms(r){return(r&&r.type)==="redirect"}function cb(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function _E(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function NS(r){return mS.has(r.toUpperCase())}function Kn(r){return hS.has(r.toUpperCase())}function Sp(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Gl(r,e){let n=typeof e=="string"?Pa(e).search:e.search;if(r[r.length-1].route.index&&Sp(n||""))return r[r.length-1];let i=uE(r);return i[i.length-1]}function fb(r){let{formMethod:e,formAction:n,formEncType:i,text:o,formData:l,json:f}=r;if(!(!e||!n||!i)){if(o!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:n,formEncType:i,formData:l,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:f,text:void 0}}}function lm(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function MS(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fl(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kS(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function gi(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function VS(r,e){try{let n=r.sessionStorage.getItem(fE);if(n){let i=JSON.parse(n);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function PS(r,e){if(e.size>0){let n={};for(let[i,o]of e)n[i]=[...o];try{r.sessionStorage.setItem(fE,JSON.stringify(n))}catch(i){jt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function LS(){let r,e,n=new Promise((i,o)=>{r=async l=>{i(l);try{await n}catch{}},e=async l=>{o(l);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var As=re.createContext(null);As.displayName="DataRouter";var gu=re.createContext(null);gu.displayName="DataRouterState";var Rp=re.createContext({isTransitioning:!1});Rp.displayName="ViewTransition";var bE=re.createContext(new Map);bE.displayName="Fetchers";var jS=re.createContext(null);jS.displayName="Await";var na=re.createContext(null);na.displayName="Navigation";var Mf=re.createContext(null);Mf.displayName="Location";var ra=re.createContext({outlet:null,matches:[],isDataRoute:!1});ra.displayName="Route";var xp=re.createContext(null);xp.displayName="RouteError";function US(r,{relative:e}={}){tt(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=re.useContext(na),{hash:o,pathname:l,search:f}=vu(r,{relative:e}),c=l;return n!=="/"&&(c=l==="/"?n:Xr([n,l])),i.createHref({pathname:c,search:f,hash:o})}function yu(){return re.useContext(Mf)!=null}function ws(){return tt(yu(),"useLocation() may be used only in the context of a <Router> component."),re.useContext(Mf).location}var EE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AE(r){re.useContext(na).static||re.useLayoutEffect(r)}function kf(){let{isDataRoute:r}=re.useContext(ra);return r?eR():zS()}function zS(){tt(yu(),"useNavigate() may be used only in the context of a <Router> component.");let r=re.useContext(As),{basename:e,navigator:n}=re.useContext(na),{matches:i}=re.useContext(ra),{pathname:o}=ws(),l=JSON.stringify(Ap(i)),f=re.useRef(!1);return AE(()=>{f.current=!0}),re.useCallback((p,g={})=>{if(jt(f.current,EE),!f.current)return;if(typeof p=="number"){n.go(p);return}let b=wp(p,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Xr([e,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[e,n,l,o,r])}var $S=re.createContext(null);function BS(r){let e=re.useContext(ra).outlet;return e&&re.createElement($S.Provider,{value:r},e)}function vu(r,{relative:e}={}){let{matches:n}=re.useContext(ra),{pathname:i}=ws(),o=JSON.stringify(Ap(n));return re.useMemo(()=>wp(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function FS(r,e,n,i){tt(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=re.useContext(na),{matches:f}=re.useContext(ra),c=f[f.length-1],p=c?c.params:{},g=c?c.pathname:"/",b=c?c.pathnameBase:"/",d=c&&c.route;{let R=d&&d.path||"";wE(g,!d||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let y=ws(),_;_=y;let v=_.pathname||"/",E=v;if(b!=="/"){let R=b.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=!l&&n&&n.matches&&n.matches.length>0?n.matches:yi(r,{pathname:E});return jt(d||S!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),jt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),QS(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},p,R.params),pathname:Xr([b,o.encodeLocation?o.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?b:Xr([b,o.encodeLocation?o.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),f,n,i)}function qS(){let r=JS(),e=iu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=re.createElement(re.Fragment,null,re.createElement("p",null," Hey developer "),re.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",re.createElement("code",{style:l},"ErrorBoundary")," or"," ",re.createElement("code",{style:l},"errorElement")," prop on your route.")),re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),n?re.createElement("pre",{style:o},n):null,f)}var HS=re.createElement(qS,null),GS=class extends re.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?re.createElement(ra.Provider,{value:this.props.routeContext},re.createElement(xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YS({routeContext:r,match:e,children:n}){let i=re.useContext(As);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),re.createElement(ra.Provider,{value:r},n)}function QS(r,e=[],n=null,i=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,l=n==null?void 0:n.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,c=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=p),g.route.id){let{loaderData:b,errors:d}=n,y=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!d||d[g.route.id]===void 0);if(g.route.lazy||y){f=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((p,g,b)=>{let d,y=!1,_=null,v=null;n&&(d=l&&g.route.id?l[g.route.id]:void 0,_=g.route.errorElement||HS,f&&(c<0&&b===0?(wE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,v=null):c===b&&(y=!0,v=g.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,b+1)),S=()=>{let A;return d?A=_:y?A=v:g.route.Component?A=re.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=p,re.createElement(YS,{match:g,routeContext:{outlet:p,matches:E,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?re.createElement(GS,{location:n.location,revalidation:n.revalidation,component:_,error:d,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):S()},null)}function Cp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KS(r){let e=re.useContext(As);return tt(e,Cp(r)),e}function XS(r){let e=re.useContext(gu);return tt(e,Cp(r)),e}function ZS(r){let e=re.useContext(ra);return tt(e,Cp(r)),e}function Dp(r){let e=ZS(r),n=e.matches[e.matches.length-1];return tt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function WS(){return Dp("useRouteId")}function JS(){var i;let r=re.useContext(xp),e=XS("useRouteError"),n=Dp("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[n]}function eR(){let{router:r}=KS("useNavigate"),e=Dp("useNavigate"),n=re.useRef(!1);return AE(()=>{n.current=!0}),re.useCallback(async(o,l={})=>{jt(n.current,EE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var hb={};function wE(r,e,n){!e&&!hb[r]&&(hb[r]=!0,jt(!1,n))}var db={};function mb(r,e){!r&&!db[e]&&(db[e]=!0,console.warn(e))}function tR(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&jt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:re.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&jt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:re.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&jt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:re.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var nR=["HydrateFallback","hydrateFallbackElement"],rR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function aR({router:r,flushSync:e}){let[n,i]=re.useState(r.state),[o,l]=re.useState(),[f,c]=re.useState({isTransitioning:!1}),[p,g]=re.useState(),[b,d]=re.useState(),[y,_]=re.useState(),v=re.useRef(new Map),E=re.useCallback((D,{deletedFetchers:k,flushSync:V,viewTransitionOpts:P})=>{D.fetchers.forEach((T,x)=>{T.data!==void 0&&v.current.set(x,T.data)}),k.forEach(T=>v.current.delete(T)),mb(V===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(mb(P==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!I){e&&V?e(()=>i(D)):re.startTransition(()=>i(D));return}if(e&&V){e(()=>{b&&(p&&p.resolve(),b.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let T=r.window.document.startViewTransition(()=>{e(()=>i(D))});T.finished.finally(()=>{e(()=>{g(void 0),d(void 0),l(void 0),c({isTransitioning:!1})})}),e(()=>d(T));return}b?(p&&p.resolve(),b.skipTransition(),_({state:D,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(l(D),c({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[r.window,e,b,p]);re.useLayoutEffect(()=>r.subscribe(E),[r,E]),re.useEffect(()=>{f.isTransitioning&&!f.flushSync&&g(new rR)},[f]),re.useEffect(()=>{if(p&&o&&r.window){let D=o,k=p.promise,V=r.window.document.startViewTransition(async()=>{re.startTransition(()=>i(D)),await k});V.finished.finally(()=>{g(void 0),d(void 0),l(void 0),c({isTransitioning:!1})}),d(V)}},[o,p,r.window]),re.useEffect(()=>{p&&o&&n.location.key===o.location.key&&p.resolve()},[p,b,n.location,o]),re.useEffect(()=>{!f.isTransitioning&&y&&(l(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),_(void 0))},[f.isTransitioning,y]);let S=re.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:D=>r.navigate(D),push:(D,k,V)=>r.navigate(D,{state:k,preventScrollReset:V==null?void 0:V.preventScrollReset}),replace:(D,k,V)=>r.navigate(D,{replace:!0,state:k,preventScrollReset:V==null?void 0:V.preventScrollReset})}),[r]),A=r.basename||"/",R=re.useMemo(()=>({router:r,navigator:S,static:!1,basename:A}),[r,S,A]);return re.createElement(re.Fragment,null,re.createElement(As.Provider,{value:R},re.createElement(gu.Provider,{value:n},re.createElement(bE.Provider,{value:v.current},re.createElement(Rp.Provider,{value:f},re.createElement(lR,{basename:A,location:n.location,navigationType:n.historyAction,navigator:S},re.createElement(iR,{routes:r.routes,future:r.future,state:n})))))),null)}var iR=re.memo(sR);function sR({routes:r,future:e,state:n}){return FS(r,void 0,n,e)}function oR(r){return BS(r.context)}function lR({basename:r="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:l=!1}){tt(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),c=re.useMemo(()=>({basename:f,navigator:o,static:l,future:{}}),[f,o,l]);typeof n=="string"&&(n=Pa(n));let{pathname:p="/",search:g="",hash:b="",state:d=null,key:y="default"}=n,_=re.useMemo(()=>{let v=vr(p,f);return v==null?null:{location:{pathname:v,search:g,hash:b,state:d,key:y},navigationType:i}},[f,p,g,b,d,y,i]);return jt(_!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:re.createElement(na.Provider,{value:c},re.createElement(Mf.Provider,{children:e,value:_}))}var Zc="get",Wc="application/x-www-form-urlencoded";function Vf(r){return r!=null&&typeof r.tagName=="string"}function uR(r){return Vf(r)&&r.tagName.toLowerCase()==="button"}function cR(r){return Vf(r)&&r.tagName.toLowerCase()==="form"}function fR(r){return Vf(r)&&r.tagName.toLowerCase()==="input"}function hR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function dR(r,e){return r.button===0&&(!e||e==="_self")&&!hR(r)}var Bc=null;function mR(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var pR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(r){return r!=null&&!pR.has(r)?(jt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):r}function gR(r,e){let n,i,o,l,f;if(cR(r)){let c=r.getAttribute("action");i=c?vr(c,e):null,n=r.getAttribute("method")||Zc,o=um(r.getAttribute("enctype"))||Wc,l=new FormData(r)}else if(uR(r)||fR(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||c.getAttribute("action");if(i=p?vr(p,e):null,n=r.getAttribute("formmethod")||c.getAttribute("method")||Zc,o=um(r.getAttribute("formenctype"))||um(c.getAttribute("enctype"))||Wc,l=new FormData(c,r),!mR()){let{name:g,type:b,value:d}=r;if(b==="image"){let y=g?`${g}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else g&&l.append(g,d)}}else{if(Vf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zc,i=null,o=Wc,f=r}return l&&o==="text/plain"&&(f=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:f}}function Op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function yR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _R(r,e,n){let i=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let f=await yR(l,n);return f.links?f.links():[]}return[]}));return wR(i.flat(1).filter(vR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function pb(r,e,n,i,o,l){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,c=(p,g)=>{var b;return n[g].pathname!==p.pathname||((b=n[g].route.path)==null?void 0:b.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>f(p,g)||c(p,g)):l==="data"?e.filter((p,g)=>{var d;let b=i.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,g)||c(p,g))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function bR(r,e,{includeHydrateFallback:n}={}){return ER(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function ER(r){return[...new Set(r)]}function AR(r){let e={},n=Object.keys(r).sort();for(let i of n)e[i]=r[i];return e}function wR(r,e){let n=new Set;return new Set(e),r.reduce((i,o)=>{let l=JSON.stringify(AR(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}var TR=new Set([100,101,204,205]);function SR(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&vr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function TE(){let r=re.useContext(As);return Op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function RR(){let r=re.useContext(gu);return Op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ip=re.createContext(void 0);Ip.displayName="FrameworkContext";function SE(){let r=re.useContext(Ip);return Op(r,"You must render this element inside a <HydratedRouter> element"),r}function xR(r,e){let n=re.useContext(Ip),[i,o]=re.useState(!1),[l,f]=re.useState(!1),{onFocus:c,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:d}=e,y=re.useRef(null);re.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let E=A=>{A.forEach(R=>{f(R.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[r]),re.useEffect(()=>{if(i){let E=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(E)}}},[i]);let _=()=>{o(!0)},v=()=>{o(!1),f(!1)};return n?r!=="intent"?[l,y,{}]:[l,y,{onFocus:ql(c,_),onBlur:ql(p,v),onMouseEnter:ql(g,_),onMouseLeave:ql(b,v),onTouchStart:ql(d,_)}]:[!1,y,{}]}function ql(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function CR({page:r,...e}){let{router:n}=TE(),i=re.useMemo(()=>yi(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?re.createElement(OR,{page:r,matches:i,...e}):null}function DR(r){let{manifest:e,routeModules:n}=SE(),[i,o]=re.useState([]);return re.useEffect(()=>{let l=!1;return _R(r,e,n).then(f=>{l||o(f)}),()=>{l=!0}},[r,e,n]),i}function OR({page:r,matches:e,...n}){let i=ws(),{manifest:o,routeModules:l}=SE(),{basename:f}=TE(),{loaderData:c,matches:p}=RR(),g=re.useMemo(()=>pb(r,e,p,o,i,"data"),[r,e,p,o,i]),b=re.useMemo(()=>pb(r,e,p,o,i,"assets"),[r,e,p,o,i]),d=re.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let v=new Set,E=!1;if(e.forEach(A=>{var D;let R=o.routes[A.route.id];!R||!R.hasLoader||(!g.some(k=>k.route.id===A.route.id)&&A.route.id in c&&((D=l[A.route.id])!=null&&D.shouldRevalidate)||R.hasClientLoader?E=!0:v.add(A.route.id))}),v.size===0)return[];let S=SR(r,f);return E&&v.size>0&&S.searchParams.set("_routes",e.filter(A=>v.has(A.route.id)).map(A=>A.route.id).join(",")),[S.pathname+S.search]},[f,c,i,o,g,e,r,l]),y=re.useMemo(()=>bR(b,o),[b,o]),_=DR(b);return re.createElement(re.Fragment,null,d.map(v=>re.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),y.map(v=>re.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),_.map(({key:v,link:E})=>re.createElement("link",{key:v,...E})))}function IR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RE&&(window.__reactRouterVersion="7.5.3")}catch{}function NR(r,e){return _S({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:zT({window:e==null?void 0:e.window}),hydrationData:MR(),routes:r,mapRouteProperties:tR,hydrationRouteProperties:nR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function MR(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:kR(r.errors)}),r}function kR(r){if(!r)return null;let e=Object.entries(r),n={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")n[i]=new ff(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let f=new l(o.message);f.stack="",n[i]=f}catch{}}if(n[i]==null){let l=new Error(o.message);l.stack="",n[i]=l}}else n[i]=o;return n}var xE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CE=re.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:f,state:c,target:p,to:g,preventScrollReset:b,viewTransition:d,...y},_){let{basename:v}=re.useContext(na),E=typeof g=="string"&&xE.test(g),S,A=!1;if(typeof g=="string"&&E&&(S=g,RE))try{let x=new URL(window.location.href),O=g.startsWith("//")?new URL(x.protocol+g):new URL(g),L=vr(O.pathname,v);O.origin===x.origin&&L!=null?g=L+O.search+O.hash:A=!0}catch{jt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=US(g,{relative:o}),[D,k,V]=xR(i,y),P=LR(g,{replace:f,state:c,target:p,preventScrollReset:b,relative:o,viewTransition:d});function I(x){e&&e(x),x.defaultPrevented||P(x)}let T=re.createElement("a",{...y,...V,href:S||R,onClick:A||l?e:I,ref:IR(_,k),target:p,"data-discover":!E&&n==="render"?"true":void 0});return D&&!E?re.createElement(re.Fragment,null,T,re.createElement(CR,{page:R})):T});CE.displayName="Link";var Da=re.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:f,viewTransition:c,children:p,...g},b){let d=vu(f,{relative:g.relative}),y=ws(),_=re.useContext(gu),{navigator:v,basename:E}=re.useContext(na),S=_!=null&&BR(d)&&c===!0,A=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,R=y.pathname,D=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(R=R.toLowerCase(),D=D?D.toLowerCase():null,A=A.toLowerCase()),D&&E&&(D=vr(D,E)||D);const k=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let V=R===A||!o&&R.startsWith(A)&&R.charAt(k)==="/",P=D!=null&&(D===A||!o&&D.startsWith(A)&&D.charAt(A.length)==="/"),I={isActive:V,isPending:P,isTransitioning:S},T=V?e:void 0,x;typeof i=="function"?x=i(I):x=[i,V?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(I):l;return re.createElement(CE,{...g,"aria-current":T,className:x,ref:b,style:O,to:f,viewTransition:c},typeof p=="function"?p(I):p)});Da.displayName="NavLink";var VR=re.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:l,method:f=Zc,action:c,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:d,...y},_)=>{let v=zR(),E=$R(c,{relative:g}),S=f.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&xE.test(c),R=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let k=D.nativeEvent.submitter,V=(k==null?void 0:k.getAttribute("formmethod"))||f;v(k||D.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:o,state:l,relative:g,preventScrollReset:b,viewTransition:d})};return re.createElement("form",{ref:_,method:S,action:E,onSubmit:i?p:R,...y,"data-discover":!A&&r==="render"?"true":void 0})});VR.displayName="Form";function PR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DE(r){let e=re.useContext(As);return tt(e,PR(r)),e}function LR(r,{target:e,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:f}={}){let c=kf(),p=ws(),g=vu(r,{relative:l});return re.useCallback(b=>{if(dR(b,e)){b.preventDefault();let d=n!==void 0?n:Ti(p)===Ti(g);c(r,{replace:d,state:i,preventScrollReset:o,relative:l,viewTransition:f})}},[p,c,g,n,i,e,r,o,l,f])}var jR=0,UR=()=>`__${String(++jR)}__`;function zR(){let{router:r}=DE("useSubmit"),{basename:e}=re.useContext(na),n=WS();return re.useCallback(async(i,o={})=>{let{action:l,method:f,encType:c,formData:p,body:g}=gR(i,e);if(o.navigate===!1){let b=o.fetcherKey||UR();await r.fetch(b,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||c,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function $R(r,{relative:e}={}){let{basename:n}=re.useContext(na),i=re.useContext(ra);tt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...vu(r||".",{relative:e})},f=ws();if(r==null){l.search=f.search;let c=new URLSearchParams(l.search),p=c.getAll("index");if(p.some(b=>b==="")){c.delete("index"),p.filter(d=>d).forEach(d=>c.append("index",d));let b=c.toString();l.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Xr([n,l.pathname])),Ti(l)}function BR(r,e={}){let n=re.useContext(Rp);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=DE("useViewTransitionState"),o=vu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let l=vr(n.currentLocation.pathname,i)||n.currentLocation.pathname,f=vr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return cf(o.pathname,f)!=null||cf(o.pathname,l)!=null}new TextEncoder;[...TR];/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const FR={prefix:"fas",iconName:"circle-minus",icon:[512,512,["minus-circle"],"f056","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM184 232l144 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-144 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},qR={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},HR={prefix:"fas",iconName:"cart-shopping",icon:[576,512,[128722,"shopping-cart"],"f07a","M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},GR={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function YR(r,e,n){return(e=KR(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function gb(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,i)}return n}function ye(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gb(Object(n),!0).forEach(function(i){YR(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):gb(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function QR(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function KR(r){var e=QR(r,"string");return typeof e=="symbol"?e:e+""}const yb=()=>{};let Np={},OE={},IE=null,NE={mark:yb,measure:yb};try{typeof window<"u"&&(Np=window),typeof document<"u"&&(OE=document),typeof MutationObserver<"u"&&(IE=MutationObserver),typeof performance<"u"&&(NE=performance)}catch{}const{userAgent:vb=""}=Np.navigator||{},Si=Np,xt=OE,_b=IE,Fc=NE;Si.document;const La=!!xt.documentElement&&!!xt.head&&typeof xt.addEventListener=="function"&&typeof xt.createElement=="function",ME=~vb.indexOf("MSIE")||~vb.indexOf("Trident/");var XR=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,ZR=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,kE={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},WR={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},VE=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],wn="classic",Pf="duotone",JR="sharp",e2="sharp-duotone",PE=[wn,Pf,JR,e2],t2={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},n2={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},r2=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),a2={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},i2=["fak","fa-kit","fakd","fa-kit-duotone"],bb={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},s2=["kit"],o2={kit:{"fa-kit":"fak"}},l2=["fak","fakd"],u2={kit:{fak:"fa-kit"}},Eb={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},qc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},c2=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],f2=["fak","fa-kit","fakd","fa-kit-duotone"],h2={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},d2={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},m2={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Nm={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},p2=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Mm=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...c2,...p2],g2=["solid","regular","light","thin","duotone","brands"],LE=[1,2,3,4,5,6,7,8,9,10],y2=LE.concat([11,12,13,14,15,16,17,18,19,20]),v2=[...Object.keys(m2),...g2,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",qc.GROUP,qc.SWAP_OPACITY,qc.PRIMARY,qc.SECONDARY].concat(LE.map(r=>"".concat(r,"x"))).concat(y2.map(r=>"w-".concat(r))),_2={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Oa="___FONT_AWESOME___",km=16,jE="fa",UE="svg-inline--fa",ys="data-fa-i2svg",Vm="data-fa-pseudo-element",b2="data-fa-pseudo-element-pending",Mp="data-prefix",kp="data-icon",Ab="fontawesome-i2svg",E2="async",A2=["HTML","HEAD","STYLE","SCRIPT"],zE=(()=>{try{return!0}catch{return!1}})();function _u(r){return new Proxy(r,{get(e,n){return n in e?e[n]:e[wn]}})}const $E=ye({},kE);$E[wn]=ye(ye(ye(ye({},{"fa-duotone":"duotone"}),kE[wn]),bb.kit),bb["kit-duotone"]);const w2=_u($E),Pm=ye({},a2);Pm[wn]=ye(ye(ye(ye({},{duotone:"fad"}),Pm[wn]),Eb.kit),Eb["kit-duotone"]);const wb=_u(Pm),Lm=ye({},Nm);Lm[wn]=ye(ye({},Lm[wn]),u2.kit);const Vp=_u(Lm),jm=ye({},d2);jm[wn]=ye(ye({},jm[wn]),o2.kit);_u(jm);const T2=XR,BE="fa-layers-text",S2=ZR,R2=ye({},t2);_u(R2);const x2=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],cm=WR,C2=[...s2,...v2],Wl=Si.FontAwesomeConfig||{};function D2(r){var e=xt.querySelector("script["+r+"]");if(e)return e.getAttribute(r)}function O2(r){return r===""?!0:r==="false"?!1:r==="true"?!0:r}xt&&typeof xt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,i]=e;const o=O2(D2(n));o!=null&&(Wl[i]=o)});const FE={styleDefault:"solid",familyDefault:wn,cssPrefix:jE,replacementClass:UE,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Wl.familyPrefix&&(Wl.cssPrefix=Wl.familyPrefix);const So=ye(ye({},FE),Wl);So.autoReplaceSvg||(So.observeMutations=!1);const De={};Object.keys(FE).forEach(r=>{Object.defineProperty(De,r,{enumerable:!0,set:function(e){So[r]=e,Jl.forEach(n=>n(De))},get:function(){return So[r]}})});Object.defineProperty(De,"familyPrefix",{enumerable:!0,set:function(r){So.cssPrefix=r,Jl.forEach(e=>e(De))},get:function(){return So.cssPrefix}});Si.FontAwesomeConfig=De;const Jl=[];function I2(r){return Jl.push(r),()=>{Jl.splice(Jl.indexOf(r),1)}}const mi=km,Qr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function N2(r){if(!r||!La)return;const e=xt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=r;const n=xt.head.childNodes;let i=null;for(let o=n.length-1;o>-1;o--){const l=n[o],f=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(f)>-1&&(i=l)}return xt.head.insertBefore(e,i),r}const M2="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function su(){let r=12,e="";for(;r-- >0;)e+=M2[Math.random()*62|0];return e}function Vo(r){const e=[];for(let n=(r||[]).length>>>0;n--;)e[n]=r[n];return e}function Pp(r){return r.classList?Vo(r.classList):(r.getAttribute("class")||"").split(" ").filter(e=>e)}function qE(r){return"".concat(r).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function k2(r){return Object.keys(r||{}).reduce((e,n)=>e+"".concat(n,'="').concat(qE(r[n]),'" '),"").trim()}function Lf(r){return Object.keys(r||{}).reduce((e,n)=>e+"".concat(n,": ").concat(r[n].trim(),";"),"")}function Lp(r){return r.size!==Qr.size||r.x!==Qr.x||r.y!==Qr.y||r.rotate!==Qr.rotate||r.flipX||r.flipY}function V2(r){let{transform:e,containerWidth:n,iconWidth:i}=r;const o={transform:"translate(".concat(n/2," 256)")},l="translate(".concat(e.x*32,", ").concat(e.y*32,") "),f="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),p={transform:"".concat(l," ").concat(f," ").concat(c)},g={transform:"translate(".concat(i/2*-1," -256)")};return{outer:o,inner:p,path:g}}function P2(r){let{transform:e,width:n=km,height:i=km,startCentered:o=!1}=r,l="";return o&&ME?l+="translate(".concat(e.x/mi-n/2,"em, ").concat(e.y/mi-i/2,"em) "):o?l+="translate(calc(-50% + ".concat(e.x/mi,"em), calc(-50% + ").concat(e.y/mi,"em)) "):l+="translate(".concat(e.x/mi,"em, ").concat(e.y/mi,"em) "),l+="scale(".concat(e.size/mi*(e.flipX?-1:1),", ").concat(e.size/mi*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var L2=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function HE(){const r=jE,e=UE,n=De.cssPrefix,i=De.replacementClass;let o=L2;if(n!==r||i!==e){const l=new RegExp("\\.".concat(r,"\\-"),"g"),f=new RegExp("\\--".concat(r,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");o=o.replace(l,".".concat(n,"-")).replace(f,"--".concat(n,"-")).replace(c,".".concat(i))}return o}let Tb=!1;function fm(){De.autoAddCss&&!Tb&&(N2(HE()),Tb=!0)}var j2={mixout(){return{dom:{css:HE,insertCss:fm}}},hooks(){return{beforeDOMElementCreation(){fm()},beforeI2svg(){fm()}}}};const Ia=Si||{};Ia[Oa]||(Ia[Oa]={});Ia[Oa].styles||(Ia[Oa].styles={});Ia[Oa].hooks||(Ia[Oa].hooks={});Ia[Oa].shims||(Ia[Oa].shims=[]);var Kr=Ia[Oa];const GE=[],YE=function(){xt.removeEventListener("DOMContentLoaded",YE),df=1,GE.map(r=>r())};let df=!1;La&&(df=(xt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(xt.readyState),df||xt.addEventListener("DOMContentLoaded",YE));function U2(r){La&&(df?setTimeout(r,0):GE.push(r))}function bu(r){const{tag:e,attributes:n={},children:i=[]}=r;return typeof r=="string"?qE(r):"<".concat(e," ").concat(k2(n),">").concat(i.map(bu).join(""),"</").concat(e,">")}function Sb(r,e,n){if(r&&r[e]&&r[e][n])return{prefix:e,iconName:n,icon:r[e][n]}}var hm=function(e,n,i,o){var l=Object.keys(e),f=l.length,c=n,p,g,b;for(i===void 0?(p=1,b=e[l[0]]):(p=0,b=i);p<f;p++)g=l[p],b=c(b,e[g],g,e);return b};function z2(r){const e=[];let n=0;const i=r.length;for(;n<i;){const o=r.charCodeAt(n++);if(o>=55296&&o<=56319&&n<i){const l=r.charCodeAt(n++);(l&64512)==56320?e.push(((o&1023)<<10)+(l&1023)+65536):(e.push(o),n--)}else e.push(o)}return e}function Um(r){const e=z2(r);return e.length===1?e[0].toString(16):null}function $2(r,e){const n=r.length;let i=r.charCodeAt(e),o;return i>=55296&&i<=56319&&n>e+1&&(o=r.charCodeAt(e+1),o>=56320&&o<=57343)?(i-55296)*1024+o-56320+65536:i}function Rb(r){return Object.keys(r).reduce((e,n)=>{const i=r[n];return!!i.icon?e[i.iconName]=i.icon:e[n]=i,e},{})}function zm(r,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:i=!1}=n,o=Rb(e);typeof Kr.hooks.addPack=="function"&&!i?Kr.hooks.addPack(r,Rb(e)):Kr.styles[r]=ye(ye({},Kr.styles[r]||{}),o),r==="fas"&&zm("fa",e)}const{styles:ou,shims:B2}=Kr,QE=Object.keys(Vp),F2=QE.reduce((r,e)=>(r[e]=Object.keys(Vp[e]),r),{});let jp=null,KE={},XE={},ZE={},WE={},JE={};function q2(r){return~C2.indexOf(r)}function H2(r,e){const n=e.split("-"),i=n[0],o=n.slice(1).join("-");return i===r&&o!==""&&!q2(o)?o:null}const eA=()=>{const r=i=>hm(ou,(o,l,f)=>(o[f]=hm(l,i,{}),o),{});KE=r((i,o,l)=>(o[3]&&(i[o[3]]=l),o[2]&&o[2].filter(c=>typeof c=="number").forEach(c=>{i[c.toString(16)]=l}),i)),XE=r((i,o,l)=>(i[l]=l,o[2]&&o[2].filter(c=>typeof c=="string").forEach(c=>{i[c]=l}),i)),JE=r((i,o,l)=>{const f=o[2];return i[l]=l,f.forEach(c=>{i[c]=l}),i});const e="far"in ou||De.autoFetchSvg,n=hm(B2,(i,o)=>{const l=o[0];let f=o[1];const c=o[2];return f==="far"&&!e&&(f="fas"),typeof l=="string"&&(i.names[l]={prefix:f,iconName:c}),typeof l=="number"&&(i.unicodes[l.toString(16)]={prefix:f,iconName:c}),i},{names:{},unicodes:{}});ZE=n.names,WE=n.unicodes,jp=jf(De.styleDefault,{family:De.familyDefault})};I2(r=>{jp=jf(r.styleDefault,{family:De.familyDefault})});eA();function Up(r,e){return(KE[r]||{})[e]}function G2(r,e){return(XE[r]||{})[e]}function ps(r,e){return(JE[r]||{})[e]}function tA(r){return ZE[r]||{prefix:null,iconName:null}}function Y2(r){const e=WE[r],n=Up("fas",r);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Ri(){return jp}const nA=()=>({prefix:null,iconName:null,rest:[]});function Q2(r){let e=wn;const n=QE.reduce((i,o)=>(i[o]="".concat(De.cssPrefix,"-").concat(o),i),{});return PE.forEach(i=>{(r.includes(n[i])||r.some(o=>F2[i].includes(o)))&&(e=i)}),e}function jf(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=wn}=e,i=w2[n][r];if(n===Pf&&!r)return"fad";const o=wb[n][r]||wb[n][i],l=r in Kr.styles?r:null;return o||l||null}function K2(r){let e=[],n=null;return r.forEach(i=>{const o=H2(De.cssPrefix,i);o?n=o:i&&e.push(i)}),{iconName:n,rest:e}}function xb(r){return r.sort().filter((e,n,i)=>i.indexOf(e)===n)}function Uf(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let i=null;const o=Mm.concat(f2),l=xb(r.filter(d=>o.includes(d))),f=xb(r.filter(d=>!Mm.includes(d))),c=l.filter(d=>(i=d,!VE.includes(d))),[p=null]=c,g=Q2(l),b=ye(ye({},K2(f)),{},{prefix:jf(p,{family:g})});return ye(ye(ye({},b),J2({values:r,family:g,styles:ou,config:De,canonical:b,givenPrefix:i})),X2(n,i,b))}function X2(r,e,n){let{prefix:i,iconName:o}=n;if(r||!i||!o)return{prefix:i,iconName:o};const l=e==="fa"?tA(o):{},f=ps(i,o);return o=l.iconName||f||o,i=l.prefix||i,i==="far"&&!ou.far&&ou.fas&&!De.autoFetchSvg&&(i="fas"),{prefix:i,iconName:o}}const Z2=PE.filter(r=>r!==wn||r!==Pf),W2=Object.keys(Nm).filter(r=>r!==wn).map(r=>Object.keys(Nm[r])).flat();function J2(r){const{values:e,family:n,canonical:i,givenPrefix:o="",styles:l={},config:f={}}=r,c=n===Pf,p=e.includes("fa-duotone")||e.includes("fad"),g=f.familyDefault==="duotone",b=i.prefix==="fad"||i.prefix==="fa-duotone";if(!c&&(p||g||b)&&(i.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(i.prefix="fab"),!i.prefix&&Z2.includes(n)&&(Object.keys(l).find(y=>W2.includes(y))||f.autoFetchSvg)){const y=r2.get(n).defaultShortPrefixId;i.prefix=y,i.iconName=ps(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||o==="fa")&&(i.prefix=Ri()||"fas"),i}class ex{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];const o=n.reduce(this._pullDefinitions,{});Object.keys(o).forEach(l=>{this.definitions[l]=ye(ye({},this.definitions[l]||{}),o[l]),zm(l,o[l]);const f=Vp[wn][l];f&&zm(f,o[l]),eA()})}reset(){this.definitions={}}_pullDefinitions(e,n){const i=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(i).map(o=>{const{prefix:l,iconName:f,icon:c}=i[o],p=c[2];e[l]||(e[l]={}),p.length>0&&p.forEach(g=>{typeof g=="string"&&(e[l][g]=c)}),e[l][f]=c}),e}}let Cb=[],vo={};const Eo={},tx=Object.keys(Eo);function nx(r,e){let{mixoutsTo:n}=e;return Cb=r,vo={},Object.keys(Eo).forEach(i=>{tx.indexOf(i)===-1&&delete Eo[i]}),Cb.forEach(i=>{const o=i.mixout?i.mixout():{};if(Object.keys(o).forEach(l=>{typeof o[l]=="function"&&(n[l]=o[l]),typeof o[l]=="object"&&Object.keys(o[l]).forEach(f=>{n[l]||(n[l]={}),n[l][f]=o[l][f]})}),i.hooks){const l=i.hooks();Object.keys(l).forEach(f=>{vo[f]||(vo[f]=[]),vo[f].push(l[f])})}i.provides&&i.provides(Eo)}),n}function $m(r,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return(vo[r]||[]).forEach(f=>{e=f.apply(null,[e,...i])}),e}function vs(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(vo[r]||[]).forEach(l=>{l.apply(null,n)})}function xi(){const r=arguments[0],e=Array.prototype.slice.call(arguments,1);return Eo[r]?Eo[r].apply(null,e):void 0}function Bm(r){r.prefix==="fa"&&(r.prefix="fas");let{iconName:e}=r;const n=r.prefix||Ri();if(e)return e=ps(n,e)||e,Sb(rA.definitions,n,e)||Sb(Kr.styles,n,e)}const rA=new ex,rx=()=>{De.autoReplaceSvg=!1,De.observeMutations=!1,vs("noAuto")},ax={i2svg:function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return La?(vs("beforeI2svg",r),xi("pseudoElements2svg",r),xi("i2svg",r)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=r;De.autoReplaceSvg===!1&&(De.autoReplaceSvg=!0),De.observeMutations=!0,U2(()=>{sx({autoReplaceSvgRoot:e}),vs("watch",r)})}},ix={icon:r=>{if(r===null)return null;if(typeof r=="object"&&r.prefix&&r.iconName)return{prefix:r.prefix,iconName:ps(r.prefix,r.iconName)||r.iconName};if(Array.isArray(r)&&r.length===2){const e=r[1].indexOf("fa-")===0?r[1].slice(3):r[1],n=jf(r[0]);return{prefix:n,iconName:ps(n,e)||e}}if(typeof r=="string"&&(r.indexOf("".concat(De.cssPrefix,"-"))>-1||r.match(T2))){const e=Uf(r.split(" "),{skipLookups:!0});return{prefix:e.prefix||Ri(),iconName:ps(e.prefix,e.iconName)||e.iconName}}if(typeof r=="string"){const e=Ri();return{prefix:e,iconName:ps(e,r)||r}}}},Wn={noAuto:rx,config:De,dom:ax,parse:ix,library:rA,findIconDefinition:Bm,toHtml:bu},sx=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=xt}=r;(Object.keys(Kr.styles).length>0||De.autoFetchSvg)&&La&&De.autoReplaceSvg&&Wn.dom.i2svg({node:e})};function zf(r,e){return Object.defineProperty(r,"abstract",{get:e}),Object.defineProperty(r,"html",{get:function(){return r.abstract.map(n=>bu(n))}}),Object.defineProperty(r,"node",{get:function(){if(!La)return;const n=xt.createElement("div");return n.innerHTML=r.html,n.children}}),r}function ox(r){let{children:e,main:n,mask:i,attributes:o,styles:l,transform:f}=r;if(Lp(f)&&n.found&&!i.found){const{width:c,height:p}=n,g={x:c/p/2,y:.5};o.style=Lf(ye(ye({},l),{},{"transform-origin":"".concat(g.x+f.x/16,"em ").concat(g.y+f.y/16,"em")}))}return[{tag:"svg",attributes:o,children:e}]}function lx(r){let{prefix:e,iconName:n,children:i,attributes:o,symbol:l}=r;const f=l===!0?"".concat(e,"-").concat(De.cssPrefix,"-").concat(n):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ye(ye({},o),{},{id:f}),children:i}]}]}function zp(r){const{icons:{main:e,mask:n},prefix:i,iconName:o,transform:l,symbol:f,title:c,maskId:p,titleId:g,extra:b,watchable:d=!1}=r,{width:y,height:_}=n.found?n:e,v=l2.includes(i),E=[De.replacementClass,o?"".concat(De.cssPrefix,"-").concat(o):""].filter(V=>b.classes.indexOf(V)===-1).filter(V=>V!==""||!!V).concat(b.classes).join(" ");let S={children:[],attributes:ye(ye({},b.attributes),{},{"data-prefix":i,"data-icon":o,class:E,role:b.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y," ").concat(_)})};const A=v&&!~b.classes.indexOf("fa-fw")?{width:"".concat(y/_*16*.0625,"em")}:{};d&&(S.attributes[ys]=""),c&&(S.children.push({tag:"title",attributes:{id:S.attributes["aria-labelledby"]||"title-".concat(g||su())},children:[c]}),delete S.attributes.title);const R=ye(ye({},S),{},{prefix:i,iconName:o,main:e,mask:n,maskId:p,transform:l,symbol:f,styles:ye(ye({},A),b.styles)}),{children:D,attributes:k}=n.found&&e.found?xi("generateAbstractMask",R)||{children:[],attributes:{}}:xi("generateAbstractIcon",R)||{children:[],attributes:{}};return R.children=D,R.attributes=k,f?lx(R):ox(R)}function Db(r){const{content:e,width:n,height:i,transform:o,title:l,extra:f,watchable:c=!1}=r,p=ye(ye(ye({},f.attributes),l?{title:l}:{}),{},{class:f.classes.join(" ")});c&&(p[ys]="");const g=ye({},f.styles);Lp(o)&&(g.transform=P2({transform:o,startCentered:!0,width:n,height:i}),g["-webkit-transform"]=g.transform);const b=Lf(g);b.length>0&&(p.style=b);const d=[];return d.push({tag:"span",attributes:p,children:[e]}),l&&d.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),d}function ux(r){const{content:e,title:n,extra:i}=r,o=ye(ye(ye({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),l=Lf(i.styles);l.length>0&&(o.style=l);const f=[];return f.push({tag:"span",attributes:o,children:[e]}),n&&f.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),f}const{styles:dm}=Kr;function Fm(r){const e=r[0],n=r[1],[i]=r.slice(4);let o=null;return Array.isArray(i)?o={tag:"g",attributes:{class:"".concat(De.cssPrefix,"-").concat(cm.GROUP)},children:[{tag:"path",attributes:{class:"".concat(De.cssPrefix,"-").concat(cm.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(De.cssPrefix,"-").concat(cm.PRIMARY),fill:"currentColor",d:i[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:n,icon:o}}const cx={found:!1,width:512,height:512};function fx(r,e){!zE&&!De.showMissingIcons&&r&&console.error('Icon with name "'.concat(r,'" and prefix "').concat(e,'" is missing.'))}function qm(r,e){let n=e;return e==="fa"&&De.styleDefault!==null&&(e=Ri()),new Promise((i,o)=>{if(n==="fa"){const l=tA(r)||{};r=l.iconName||r,e=l.prefix||e}if(r&&e&&dm[e]&&dm[e][r]){const l=dm[e][r];return i(Fm(l))}fx(r,e),i(ye(ye({},cx),{},{icon:De.showMissingIcons&&r?xi("missingIconAbstract")||{}:{}}))})}const Ob=()=>{},Hm=De.measurePerformance&&Fc&&Fc.mark&&Fc.measure?Fc:{mark:Ob,measure:Ob},Yl='FA "6.7.2"',hx=r=>(Hm.mark("".concat(Yl," ").concat(r," begins")),()=>aA(r)),aA=r=>{Hm.mark("".concat(Yl," ").concat(r," ends")),Hm.measure("".concat(Yl," ").concat(r),"".concat(Yl," ").concat(r," begins"),"".concat(Yl," ").concat(r," ends"))};var $p={begin:hx,end:aA};const Jc=()=>{};function Ib(r){return typeof(r.getAttribute?r.getAttribute(ys):null)=="string"}function dx(r){const e=r.getAttribute?r.getAttribute(Mp):null,n=r.getAttribute?r.getAttribute(kp):null;return e&&n}function mx(r){return r&&r.classList&&r.classList.contains&&r.classList.contains(De.replacementClass)}function px(){return De.autoReplaceSvg===!0?ef.replace:ef[De.autoReplaceSvg]||ef.replace}function gx(r){return xt.createElementNS("http://www.w3.org/2000/svg",r)}function yx(r){return xt.createElement(r)}function iA(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=r.tag==="svg"?gx:yx}=e;if(typeof r=="string")return xt.createTextNode(r);const i=n(r.tag);return Object.keys(r.attributes||[]).forEach(function(l){i.setAttribute(l,r.attributes[l])}),(r.children||[]).forEach(function(l){i.appendChild(iA(l,{ceFn:n}))}),i}function vx(r){let e=" ".concat(r.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const ef={replace:function(r){const e=r[0];if(e.parentNode)if(r[1].forEach(n=>{e.parentNode.insertBefore(iA(n),e)}),e.getAttribute(ys)===null&&De.keepOriginalSource){let n=xt.createComment(vx(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(r){const e=r[0],n=r[1];if(~Pp(e).indexOf(De.replacementClass))return ef.replace(r);const i=new RegExp("".concat(De.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const l=n[0].attributes.class.split(" ").reduce((f,c)=>(c===De.replacementClass||c.match(i)?f.toSvg.push(c):f.toNode.push(c),f),{toNode:[],toSvg:[]});n[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",l.toNode.join(" "))}const o=n.map(l=>bu(l)).join(`
`);e.setAttribute(ys,""),e.innerHTML=o}};function Nb(r){r()}function sA(r,e){const n=typeof e=="function"?e:Jc;if(r.length===0)n();else{let i=Nb;De.mutateApproach===E2&&(i=Si.requestAnimationFrame||Nb),i(()=>{const o=px(),l=$p.begin("mutate");r.map(o),l(),n()})}}let Bp=!1;function oA(){Bp=!0}function Gm(){Bp=!1}let mf=null;function Mb(r){if(!_b||!De.observeMutations)return;const{treeCallback:e=Jc,nodeCallback:n=Jc,pseudoElementsCallback:i=Jc,observeMutationsRoot:o=xt}=r;mf=new _b(l=>{if(Bp)return;const f=Ri();Vo(l).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!Ib(c.addedNodes[0])&&(De.searchPseudoElements&&i(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&De.searchPseudoElements&&i(c.target.parentNode),c.type==="attributes"&&Ib(c.target)&&~x2.indexOf(c.attributeName))if(c.attributeName==="class"&&dx(c.target)){const{prefix:p,iconName:g}=Uf(Pp(c.target));c.target.setAttribute(Mp,p||f),g&&c.target.setAttribute(kp,g)}else mx(c.target)&&n(c.target)})}),La&&mf.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function _x(){mf&&mf.disconnect()}function bx(r){const e=r.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((i,o)=>{const l=o.split(":"),f=l[0],c=l.slice(1);return f&&c.length>0&&(i[f]=c.join(":").trim()),i},{})),n}function Ex(r){const e=r.getAttribute("data-prefix"),n=r.getAttribute("data-icon"),i=r.innerText!==void 0?r.innerText.trim():"";let o=Uf(Pp(r));return o.prefix||(o.prefix=Ri()),e&&n&&(o.prefix=e,o.iconName=n),o.iconName&&o.prefix||(o.prefix&&i.length>0&&(o.iconName=G2(o.prefix,r.innerText)||Up(o.prefix,Um(r.innerText))),!o.iconName&&De.autoFetchSvg&&r.firstChild&&r.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=r.firstChild.data)),o}function Ax(r){const e=Vo(r.attributes).reduce((o,l)=>(o.name!=="class"&&o.name!=="style"&&(o[l.name]=l.value),o),{}),n=r.getAttribute("title"),i=r.getAttribute("data-fa-title-id");return De.autoA11y&&(n?e["aria-labelledby"]="".concat(De.replacementClass,"-title-").concat(i||su()):(e["aria-hidden"]="true",e.focusable="false")),e}function wx(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Qr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function kb(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:i,rest:o}=Ex(r),l=Ax(r),f=$m("parseNodeAttributes",{},r);let c=e.styleParser?bx(r):[];return ye({iconName:n,title:r.getAttribute("title"),titleId:r.getAttribute("data-fa-title-id"),prefix:i,transform:Qr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:c,attributes:l}},f)}const{styles:Tx}=Kr;function lA(r){const e=De.autoReplaceSvg==="nest"?kb(r,{styleParser:!1}):kb(r);return~e.extra.classes.indexOf(BE)?xi("generateLayersText",r,e):xi("generateSvgReplacementMutation",r,e)}function Sx(){return[...i2,...Mm]}function Vb(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!La)return Promise.resolve();const n=xt.documentElement.classList,i=b=>n.add("".concat(Ab,"-").concat(b)),o=b=>n.remove("".concat(Ab,"-").concat(b)),l=De.autoFetchSvg?Sx():VE.concat(Object.keys(Tx));l.includes("fa")||l.push("fa");const f=[".".concat(BE,":not([").concat(ys,"])")].concat(l.map(b=>".".concat(b,":not([").concat(ys,"])"))).join(", ");if(f.length===0)return Promise.resolve();let c=[];try{c=Vo(r.querySelectorAll(f))}catch{}if(c.length>0)i("pending"),o("complete");else return Promise.resolve();const p=$p.begin("onTree"),g=c.reduce((b,d)=>{try{const y=lA(d);y&&b.push(y)}catch(y){zE||y.name==="MissingIcon"&&console.error(y)}return b},[]);return new Promise((b,d)=>{Promise.all(g).then(y=>{sA(y,()=>{i("active"),i("complete"),o("pending"),typeof e=="function"&&e(),p(),b()})}).catch(y=>{p(),d(y)})})}function Rx(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;lA(r).then(n=>{n&&sA([n],e)})}function xx(r){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=(e||{}).icon?e:Bm(e||{});let{mask:o}=n;return o&&(o=(o||{}).icon?o:Bm(o||{})),r(i,ye(ye({},n),{},{mask:o}))}}const Cx=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Qr,symbol:i=!1,mask:o=null,maskId:l=null,title:f=null,titleId:c=null,classes:p=[],attributes:g={},styles:b={}}=e;if(!r)return;const{prefix:d,iconName:y,icon:_}=r;return zf(ye({type:"icon"},r),()=>(vs("beforeDOMElementCreation",{iconDefinition:r,params:e}),De.autoA11y&&(f?g["aria-labelledby"]="".concat(De.replacementClass,"-title-").concat(c||su()):(g["aria-hidden"]="true",g.focusable="false")),zp({icons:{main:Fm(_),mask:o?Fm(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:y,transform:ye(ye({},Qr),n),symbol:i,title:f,maskId:l,titleId:c,extra:{attributes:g,styles:b,classes:p}})))};var Dx={mixout(){return{icon:xx(Cx)}},hooks(){return{mutationObserverCallbacks(r){return r.treeCallback=Vb,r.nodeCallback=Rx,r}}},provides(r){r.i2svg=function(e){const{node:n=xt,callback:i=()=>{}}=e;return Vb(n,i)},r.generateSvgReplacementMutation=function(e,n){const{iconName:i,title:o,titleId:l,prefix:f,transform:c,symbol:p,mask:g,maskId:b,extra:d}=n;return new Promise((y,_)=>{Promise.all([qm(i,f),g.iconName?qm(g.iconName,g.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(v=>{let[E,S]=v;y([e,zp({icons:{main:E,mask:S},prefix:f,iconName:i,transform:c,symbol:p,maskId:b,title:o,titleId:l,extra:d,watchable:!0})])}).catch(_)})},r.generateAbstractIcon=function(e){let{children:n,attributes:i,main:o,transform:l,styles:f}=e;const c=Lf(f);c.length>0&&(i.style=c);let p;return Lp(l)&&(p=xi("generateAbstractTransformGrouping",{main:o,transform:l,containerWidth:o.width,iconWidth:o.width})),n.push(p||o.icon),{children:n,attributes:i}}}},Ox={mixout(){return{layer(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return zf({type:"layer"},()=>{vs("beforeDOMElementCreation",{assembler:r,params:e});let i=[];return r(o=>{Array.isArray(o)?o.map(l=>{i=i.concat(l.abstract)}):i=i.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(De.cssPrefix,"-layers"),...n].join(" ")},children:i}]})}}}},Ix={mixout(){return{counter(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:i=[],attributes:o={},styles:l={}}=e;return zf({type:"counter",content:r},()=>(vs("beforeDOMElementCreation",{content:r,params:e}),ux({content:r.toString(),title:n,extra:{attributes:o,styles:l,classes:["".concat(De.cssPrefix,"-layers-counter"),...i]}})))}}}},Nx={mixout(){return{text(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Qr,title:i=null,classes:o=[],attributes:l={},styles:f={}}=e;return zf({type:"text",content:r},()=>(vs("beforeDOMElementCreation",{content:r,params:e}),Db({content:r,transform:ye(ye({},Qr),n),title:i,extra:{attributes:l,styles:f,classes:["".concat(De.cssPrefix,"-layers-text"),...o]}})))}}},provides(r){r.generateLayersText=function(e,n){const{title:i,transform:o,extra:l}=n;let f=null,c=null;if(ME){const p=parseInt(getComputedStyle(e).fontSize,10),g=e.getBoundingClientRect();f=g.width/p,c=g.height/p}return De.autoA11y&&!i&&(l.attributes["aria-hidden"]="true"),Promise.resolve([e,Db({content:e.innerHTML,width:f,height:c,transform:o,title:i,extra:l,watchable:!0})])}}};const Mx=new RegExp('"',"ug"),Pb=[1105920,1112319],Lb=ye(ye(ye(ye({},{FontAwesome:{normal:"fas",400:"fas"}}),n2),_2),h2),Ym=Object.keys(Lb).reduce((r,e)=>(r[e.toLowerCase()]=Lb[e],r),{}),kx=Object.keys(Ym).reduce((r,e)=>{const n=Ym[e];return r[e]=n[900]||[...Object.entries(n)][0][1],r},{});function Vx(r){const e=r.replace(Mx,""),n=$2(e,0),i=n>=Pb[0]&&n<=Pb[1],o=e.length===2?e[0]===e[1]:!1;return{value:Um(o?e[0]:e),isSecondary:i||o}}function Px(r,e){const n=r.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),o=isNaN(i)?"normal":i;return(Ym[n]||{})[o]||kx[n]}function jb(r,e){const n="".concat(b2).concat(e.replace(":","-"));return new Promise((i,o)=>{if(r.getAttribute(n)!==null)return i();const f=Vo(r.children).filter(y=>y.getAttribute(Vm)===e)[0],c=Si.getComputedStyle(r,e),p=c.getPropertyValue("font-family"),g=p.match(S2),b=c.getPropertyValue("font-weight"),d=c.getPropertyValue("content");if(f&&!g)return r.removeChild(f),i();if(g&&d!=="none"&&d!==""){const y=c.getPropertyValue("content");let _=Px(p,b);const{value:v,isSecondary:E}=Vx(y),S=g[0].startsWith("FontAwesome");let A=Up(_,v),R=A;if(S){const D=Y2(v);D.iconName&&D.prefix&&(A=D.iconName,_=D.prefix)}if(A&&!E&&(!f||f.getAttribute(Mp)!==_||f.getAttribute(kp)!==R)){r.setAttribute(n,R),f&&r.removeChild(f);const D=wx(),{extra:k}=D;k.attributes[Vm]=e,qm(A,_).then(V=>{const P=zp(ye(ye({},D),{},{icons:{main:V,mask:nA()},prefix:_,iconName:R,extra:k,watchable:!0})),I=xt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?r.insertBefore(I,r.firstChild):r.appendChild(I),I.outerHTML=P.map(T=>bu(T)).join(`
`),r.removeAttribute(n),i()}).catch(o)}else i()}else i()})}function Lx(r){return Promise.all([jb(r,"::before"),jb(r,"::after")])}function jx(r){return r.parentNode!==document.head&&!~A2.indexOf(r.tagName.toUpperCase())&&!r.getAttribute(Vm)&&(!r.parentNode||r.parentNode.tagName!=="svg")}function Ub(r){if(La)return new Promise((e,n)=>{const i=Vo(r.querySelectorAll("*")).filter(jx).map(Lx),o=$p.begin("searchPseudoElements");oA(),Promise.all(i).then(()=>{o(),Gm(),e()}).catch(()=>{o(),Gm(),n()})})}var Ux={hooks(){return{mutationObserverCallbacks(r){return r.pseudoElementsCallback=Ub,r}}},provides(r){r.pseudoElements2svg=function(e){const{node:n=xt}=e;De.searchPseudoElements&&Ub(n)}}};let zb=!1;var zx={mixout(){return{dom:{unwatch(){oA(),zb=!0}}}},hooks(){return{bootstrap(){Mb($m("mutationObserverCallbacks",{}))},noAuto(){_x()},watch(r){const{observeMutationsRoot:e}=r;zb?Gm():Mb($m("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const $b=r=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return r.toLowerCase().split(" ").reduce((n,i)=>{const o=i.toLowerCase().split("-"),l=o[0];let f=o.slice(1).join("-");if(l&&f==="h")return n.flipX=!0,n;if(l&&f==="v")return n.flipY=!0,n;if(f=parseFloat(f),isNaN(f))return n;switch(l){case"grow":n.size=n.size+f;break;case"shrink":n.size=n.size-f;break;case"left":n.x=n.x-f;break;case"right":n.x=n.x+f;break;case"up":n.y=n.y-f;break;case"down":n.y=n.y+f;break;case"rotate":n.rotate=n.rotate+f;break}return n},e)};var $x={mixout(){return{parse:{transform:r=>$b(r)}}},hooks(){return{parseNodeAttributes(r,e){const n=e.getAttribute("data-fa-transform");return n&&(r.transform=$b(n)),r}}},provides(r){r.generateAbstractTransformGrouping=function(e){let{main:n,transform:i,containerWidth:o,iconWidth:l}=e;const f={transform:"translate(".concat(o/2," 256)")},c="translate(".concat(i.x*32,", ").concat(i.y*32,") "),p="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),g="rotate(".concat(i.rotate," 0 0)"),b={transform:"".concat(c," ").concat(p," ").concat(g)},d={transform:"translate(".concat(l/2*-1," -256)")},y={outer:f,inner:b,path:d};return{tag:"g",attributes:ye({},y.outer),children:[{tag:"g",attributes:ye({},y.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:ye(ye({},n.icon.attributes),y.path)}]}]}}}};const mm={x:0,y:0,width:"100%",height:"100%"};function Bb(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r.attributes&&(r.attributes.fill||e)&&(r.attributes.fill="black"),r}function Bx(r){return r.tag==="g"?r.children:[r]}var Fx={hooks(){return{parseNodeAttributes(r,e){const n=e.getAttribute("data-fa-mask"),i=n?Uf(n.split(" ").map(o=>o.trim())):nA();return i.prefix||(i.prefix=Ri()),r.mask=i,r.maskId=e.getAttribute("data-fa-mask-id"),r}}},provides(r){r.generateAbstractMask=function(e){let{children:n,attributes:i,main:o,mask:l,maskId:f,transform:c}=e;const{width:p,icon:g}=o,{width:b,icon:d}=l,y=V2({transform:c,containerWidth:b,iconWidth:p}),_={tag:"rect",attributes:ye(ye({},mm),{},{fill:"white"})},v=g.children?{children:g.children.map(Bb)}:{},E={tag:"g",attributes:ye({},y.inner),children:[Bb(ye({tag:g.tag,attributes:ye(ye({},g.attributes),y.path)},v))]},S={tag:"g",attributes:ye({},y.outer),children:[E]},A="mask-".concat(f||su()),R="clip-".concat(f||su()),D={tag:"mask",attributes:ye(ye({},mm),{},{id:A,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[_,S]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:R},children:Bx(d)},D]};return n.push(k,{tag:"rect",attributes:ye({fill:"currentColor","clip-path":"url(#".concat(R,")"),mask:"url(#".concat(A,")")},mm)}),{children:n,attributes:i}}}},qx={provides(r){let e=!1;Si.matchMedia&&(e=Si.matchMedia("(prefers-reduced-motion: reduce)").matches),r.missingIconAbstract=function(){const n=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:ye(ye({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const l=ye(ye({},o),{},{attributeName:"opacity"}),f={tag:"circle",attributes:ye(ye({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||f.children.push({tag:"animate",attributes:ye(ye({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ye(ye({},l),{},{values:"1;0;1;1;0;1;"})}),n.push(f),n.push({tag:"path",attributes:ye(ye({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ye(ye({},l),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:ye(ye({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ye(ye({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},Hx={hooks(){return{parseNodeAttributes(r,e){const n=e.getAttribute("data-fa-symbol"),i=n===null?!1:n===""?!0:n;return r.symbol=i,r}}}},Gx=[j2,Dx,Ox,Ix,Nx,Ux,zx,$x,Fx,qx,Hx];nx(Gx,{mixoutsTo:Wn});Wn.noAuto;Wn.config;Wn.library;Wn.dom;const Qm=Wn.parse;Wn.findIconDefinition;Wn.toHtml;const Yx=Wn.icon;Wn.layer;Wn.text;Wn.counter;var pm={exports:{}},gm,Fb;function Qx(){if(Fb)return gm;Fb=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gm=r,gm}var ym,qb;function Kx(){if(qb)return ym;qb=1;var r=Qx();function e(){}function n(){}return n.resetWarningCache=e,ym=function(){function i(f,c,p,g,b,d){if(d!==r){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}i.isRequired=i;function o(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},ym}var Hb;function Xx(){return Hb||(Hb=1,pm.exports=Kx()()),pm.exports}var Zx=Xx();const et=bp(Zx);function Gb(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,i)}return n}function Yr(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gb(Object(n),!0).forEach(function(i){_o(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Gb(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function pf(r){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(r)}function _o(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Wx(r,e){if(r==null)return{};var n={},i=Object.keys(r),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}function Jx(r,e){if(r==null)return{};var n=Wx(r,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function Km(r){return eC(r)||tC(r)||nC(r)||rC()}function eC(r){if(Array.isArray(r))return Xm(r)}function tC(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function nC(r,e){if(r){if(typeof r=="string")return Xm(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xm(r,e)}}function Xm(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function rC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aC(r){var e,n=r.beat,i=r.fade,o=r.beatFade,l=r.bounce,f=r.shake,c=r.flash,p=r.spin,g=r.spinPulse,b=r.spinReverse,d=r.pulse,y=r.fixedWidth,_=r.inverse,v=r.border,E=r.listItem,S=r.flip,A=r.size,R=r.rotation,D=r.pull,k=(e={"fa-beat":n,"fa-fade":i,"fa-beat-fade":o,"fa-bounce":l,"fa-shake":f,"fa-flash":c,"fa-spin":p,"fa-spin-reverse":b,"fa-spin-pulse":g,"fa-pulse":d,"fa-fw":y,"fa-inverse":_,"fa-border":v,"fa-li":E,"fa-flip":S===!0,"fa-flip-horizontal":S==="horizontal"||S==="both","fa-flip-vertical":S==="vertical"||S==="both"},_o(e,"fa-".concat(A),typeof A<"u"&&A!==null),_o(e,"fa-rotate-".concat(R),typeof R<"u"&&R!==null&&R!==0),_o(e,"fa-pull-".concat(D),typeof D<"u"&&D!==null),_o(e,"fa-swap-opacity",r.swapOpacity),e);return Object.keys(k).map(function(V){return k[V]?V:null}).filter(function(V){return V})}function iC(r){return r=r-0,r===r}function uA(r){return iC(r)?r:(r=r.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),r.substr(0,1).toLowerCase()+r.substr(1))}var sC=["style"];function oC(r){return r.charAt(0).toUpperCase()+r.slice(1)}function lC(r){return r.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var i=n.indexOf(":"),o=uA(n.slice(0,i)),l=n.slice(i+1).trim();return o.startsWith("webkit")?e[oC(o)]=l:e[o]=l,e},{})}function cA(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(p){return cA(r,p)}),o=Object.keys(e.attributes||{}).reduce(function(p,g){var b=e.attributes[g];switch(g){case"class":p.attrs.className=b,delete e.attributes.class;break;case"style":p.attrs.style=lC(b);break;default:g.indexOf("aria-")===0||g.indexOf("data-")===0?p.attrs[g.toLowerCase()]=b:p.attrs[uA(g)]=b}return p},{attrs:{}}),l=n.style,f=l===void 0?{}:l,c=Jx(n,sC);return o.attrs.style=Yr(Yr({},o.attrs.style),f),r.apply(void 0,[e.tag,Yr(Yr({},o.attrs),c)].concat(Km(i)))}var fA=!1;try{fA=!0}catch{}function uC(){if(!fA&&console&&typeof console.error=="function"){var r;(r=console).error.apply(r,arguments)}}function Yb(r){if(r&&pf(r)==="object"&&r.prefix&&r.iconName&&r.icon)return r;if(Qm.icon)return Qm.icon(r);if(r===null)return null;if(r&&pf(r)==="object"&&r.prefix&&r.iconName)return r;if(Array.isArray(r)&&r.length===2)return{prefix:r[0],iconName:r[1]};if(typeof r=="string")return{prefix:"fas",iconName:r}}function vm(r,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?_o({},r,e):{}}var Qb={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Ro=lf.forwardRef(function(r,e){var n=Yr(Yr({},Qb),r),i=n.icon,o=n.mask,l=n.symbol,f=n.className,c=n.title,p=n.titleId,g=n.maskId,b=Yb(i),d=vm("classes",[].concat(Km(aC(n)),Km((f||"").split(" ")))),y=vm("transform",typeof n.transform=="string"?Qm.transform(n.transform):n.transform),_=vm("mask",Yb(o)),v=Yx(b,Yr(Yr(Yr(Yr({},d),y),_),{},{symbol:l,title:c,titleId:p,maskId:g}));if(!v)return uC("Could not find icon",b),null;var E=v.abstract,S={ref:e};return Object.keys(n).forEach(function(A){Qb.hasOwnProperty(A)||(S[A]=n[A])}),cC(E[0],S)});Ro.displayName="FontAwesomeIcon";Ro.propTypes={beat:et.bool,border:et.bool,beatFade:et.bool,bounce:et.bool,className:et.string,fade:et.bool,flash:et.bool,mask:et.oneOfType([et.object,et.array,et.string]),maskId:et.string,fixedWidth:et.bool,inverse:et.bool,flip:et.oneOf([!0,!1,"horizontal","vertical","both"]),icon:et.oneOfType([et.object,et.array,et.string]),listItem:et.bool,pull:et.oneOf(["right","left"]),pulse:et.bool,rotation:et.oneOf([0,90,180,270]),shake:et.bool,size:et.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:et.bool,spinPulse:et.bool,spinReverse:et.bool,symbol:et.oneOfType([et.bool,et.string]),title:et.string,titleId:et.string,transform:et.oneOfType([et.string,et.object]),swapOpacity:et.bool};var cC=cA.bind(null,lf.createElement);const fC="/Webbshop/assets/Logo-BTzSzWjw.png",Kb=r=>{let e;const n=new Set,i=(g,b)=>{const d=typeof g=="function"?g(e):g;if(!Object.is(d,e)){const y=e;e=b??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(_=>_(e,y))}},o=()=>e,c={setState:i,getState:o,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=e=r(i,o,c);return c},hC=r=>r?Kb(r):Kb,dC=r=>r;function mC(r,e=dC){const n=lf.useSyncExternalStore(r.subscribe,()=>e(r.getState()),()=>e(r.getInitialState()));return lf.useDebugValue(n),n}const Xb=r=>{const e=hC(r),n=i=>mC(e,i);return Object.assign(n,e),n},hA=r=>r?Xb(r):Xb,pC=()=>{};var Zb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},gC=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[n++],f=r[n++],c=r[n++],p=((o&7)<<18|(l&63)<<12|(f&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=r[n++],f=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|f&63)}}return e.join("")},mA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],f=o+1<r.length,c=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,b=l>>2,d=(l&3)<<4|c>>4;let y=(c&15)<<2|g>>6,_=g&63;p||(_=64,f||(y=64)),i.push(n[b],n[d],n[y],n[_])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(dA(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):gC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=n[r.charAt(o++)],c=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const d=o<r.length?n[r.charAt(o)]:64;if(++o,l==null||c==null||g==null||d==null)throw new yC;const y=l<<2|c>>4;if(i.push(y),g!==64){const _=c<<4&240|g>>2;if(i.push(_),d!==64){const v=g<<6&192|d;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vC=function(r){const e=dA(r);return mA.encodeByteArray(e,!0)},gf=function(r){return vC(r).replace(/\./g,"")},_C=function(r){try{return mA.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=()=>bC().__FIREBASE_DEFAULTS__,AC=()=>{if(typeof process>"u"||typeof Zb>"u")return;const r=Zb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_C(r[1]);return e&&JSON.parse(e)},Fp=()=>{try{return pC()||EC()||AC()||wC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},TC=r=>{var e,n;return(n=(e=Fp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},SC=r=>{const e=TC(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},pA=()=>{var r;return(r=Fp())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[gf(JSON.stringify(n)),gf(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DC(){var r;const e=(r=Fp())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OC(){return!DC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IC(){try{return typeof indexedDB=="object"}catch{return!1}}function NC(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="FirebaseError";class Po extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=MC,Object.setPrototypeOf(this,Po.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gA.prototype.create)}}class gA{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],f=l?kC(l,i):"Error",c=`${this.serviceName}: ${f} (${o}).`;return new Po(o,c,i)}}function kC(r,e){return r.replace(VC,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const VC=/\{\$([^}]+)}/g;function yf(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=r[o],f=e[o];if(Wb(l)&&Wb(f)){if(!yf(l,f))return!1}else if(l!==f)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Wb(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(r){return r&&r._delegate?r._delegate:r}class lu{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new RC;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jC(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,f]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(l);i===c&&f.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const f=this.instances.get(o);return f&&e(f,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:LC(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LC(r){return r===hs?void 0:r}function jC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(lt||(lt={}));const zC={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},$C=lt.INFO,BC={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},FC=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=BC[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yA{constructor(e){this.name=e,this._logLevel=$C,this._logHandler=FC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const qC=(r,e)=>e.some(n=>r instanceof n);let Jb,e0;function HC(){return Jb||(Jb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GC(){return e0||(e0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vA=new WeakMap,Zm=new WeakMap,_A=new WeakMap,_m=new WeakMap,qp=new WeakMap;function YC(r){const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",f)},l=()=>{n(_i(r.result)),o()},f=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&vA.set(n,r)}).catch(()=>{}),qp.set(e,r),e}function QC(r){if(Zm.has(r))return;const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",f),r.removeEventListener("abort",f)},l=()=>{n(),o()},f=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",f),r.addEventListener("abort",f)});Zm.set(r,e)}let Wm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Zm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||_A.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function KC(r){Wm=r(Wm)}function XC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(bm(this),e,...n);return _A.set(i,e.sort?e.sort():[e]),_i(i)}:GC().includes(r)?function(...e){return r.apply(bm(this),e),_i(vA.get(this))}:function(...e){return _i(r.apply(bm(this),e))}}function ZC(r){return typeof r=="function"?XC(r):(r instanceof IDBTransaction&&QC(r),qC(r,HC())?new Proxy(r,Wm):r)}function _i(r){if(r instanceof IDBRequest)return YC(r);if(_m.has(r))return _m.get(r);const e=ZC(r);return e!==r&&(_m.set(r,e),qp.set(e,r)),e}const bm=r=>qp.get(r);function WC(r,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const f=indexedDB.open(r,e),c=_i(f);return i&&f.addEventListener("upgradeneeded",p=>{i(_i(f.result),p.oldVersion,p.newVersion,_i(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),c.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),c}const JC=["get","getKey","getAll","getAllKeys","count"],eD=["put","add","delete","clear"],Em=new Map;function t0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=eD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||JC.includes(n)))return;const l=async function(f,...c){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(c.shift())),(await Promise.all([g[n](...c),o&&p.done]))[0]};return Em.set(e,l),l}KC(r=>({...r,get:(e,n,i)=>t0(e,n)||r.get(e,n,i),has:(e,n)=>!!t0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function nD(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jm="@firebase/app",n0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new yA("@firebase/app"),rD="@firebase/app-compat",aD="@firebase/analytics-compat",iD="@firebase/analytics",sD="@firebase/app-check-compat",oD="@firebase/app-check",lD="@firebase/auth",uD="@firebase/auth-compat",cD="@firebase/database",fD="@firebase/data-connect",hD="@firebase/database-compat",dD="@firebase/functions",mD="@firebase/functions-compat",pD="@firebase/installations",gD="@firebase/installations-compat",yD="@firebase/messaging",vD="@firebase/messaging-compat",_D="@firebase/performance",bD="@firebase/performance-compat",ED="@firebase/remote-config",AD="@firebase/remote-config-compat",wD="@firebase/storage",TD="@firebase/storage-compat",SD="@firebase/firestore",RD="@firebase/vertexai",xD="@firebase/firestore-compat",CD="firebase",DD="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="[DEFAULT]",OD={[Jm]:"fire-core",[rD]:"fire-core-compat",[iD]:"fire-analytics",[aD]:"fire-analytics-compat",[oD]:"fire-app-check",[sD]:"fire-app-check-compat",[lD]:"fire-auth",[uD]:"fire-auth-compat",[cD]:"fire-rtdb",[fD]:"fire-data-connect",[hD]:"fire-rtdb-compat",[dD]:"fire-fn",[mD]:"fire-fn-compat",[pD]:"fire-iid",[gD]:"fire-iid-compat",[yD]:"fire-fcm",[vD]:"fire-fcm-compat",[_D]:"fire-perf",[bD]:"fire-perf-compat",[ED]:"fire-rc",[AD]:"fire-rc-compat",[wD]:"fire-gcs",[TD]:"fire-gcs-compat",[SD]:"fire-fst",[xD]:"fire-fst-compat",[RD]:"fire-vertex","fire-js":"fire-js",[CD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new Map,ID=new Map,tp=new Map;function r0(r,e){try{r.container.addComponent(e)}catch(n){Ma.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function _f(r){const e=r.name;if(tp.has(e))return Ma.debug(`There were multiple attempts to register component ${e}.`),!1;tp.set(e,r);for(const n of vf.values())r0(n,r);for(const n of ID.values())r0(n,r);return!0}function ND(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function MD(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new gA("app","Firebase",kD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new lu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=DD;function bA(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ep,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw bi.create("bad-app-name",{appName:String(o)});if(n||(n=pA()),!n)throw bi.create("no-options");const l=vf.get(o);if(l){if(yf(n,l.options)&&yf(i,l.config))return l;throw bi.create("duplicate-app",{appName:o})}const f=new UC(o);for(const p of tp.values())f.addComponent(p);const c=new VD(n,i,f);return vf.set(o,c),c}function LD(r=ep){const e=vf.get(r);if(!e&&r===ep&&pA())return bA();if(!e)throw bi.create("no-app",{appName:r});return e}function Ao(r,e,n){var i;let o=(i=OD[r])!==null&&i!==void 0?i:r;n&&(o+=`-${n}`);const l=o.match(/\s|\//),f=e.match(/\s|\//);if(l||f){const c=[`Unable to register library "${o}" with version "${e}":`];l&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&f&&c.push("and"),f&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ma.warn(c.join(" "));return}_f(new lu(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="firebase-heartbeat-database",UD=1,uu="firebase-heartbeat-store";let Am=null;function EA(){return Am||(Am=WC(jD,UD,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(r=>{throw bi.create("idb-open",{originalErrorMessage:r.message})})),Am}async function zD(r){try{const n=(await EA()).transaction(uu),i=await n.objectStore(uu).get(AA(r));return await n.done,i}catch(e){if(e instanceof Po)Ma.warn(e.message);else{const n=bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ma.warn(n.message)}}}async function a0(r,e){try{const i=(await EA()).transaction(uu,"readwrite");await i.objectStore(uu).put(e,AA(r)),await i.done}catch(n){if(n instanceof Po)Ma.warn(n.message);else{const i=bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ma.warn(i.message)}}}function AA(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=1024,BD=30;class FD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=i0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(f=>f.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>BD){const f=GD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ma.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i0(),{heartbeatsToSend:i,unsentEntries:o}=qD(this._heartbeatsCache.heartbeats),l=gf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ma.warn(n),""}}}function i0(){return new Date().toISOString().substring(0,10)}function qD(r,e=$D){const n=[];let i=r.slice();for(const o of r){const l=n.find(f=>f.agent===o.agent);if(l){if(l.dates.push(o.date),s0(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),s0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class HD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IC()?NC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return a0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return a0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function s0(r){return gf(JSON.stringify({version:2,heartbeats:r})).length}function GD(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(r){_f(new lu("platform-logger",e=>new tD(e),"PRIVATE")),_f(new lu("heartbeat",e=>new FD(e),"PRIVATE")),Ao(Jm,n0,r),Ao(Jm,n0,"esm2017"),Ao("fire-js","")}YD("");var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,wA;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function x(){}x.prototype=T.prototype,I.D=T.prototype,I.prototype=new x,I.prototype.constructor=I,I.C=function(O,L,$){for(var U=Array(arguments.length-2),he=2;he<arguments.length;he++)U[he-2]=arguments[he];return T.prototype[L].apply(O,U)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,T,x){x||(x=0);var O=Array(16);if(typeof T=="string")for(var L=0;16>L;++L)O[L]=T.charCodeAt(x++)|T.charCodeAt(x++)<<8|T.charCodeAt(x++)<<16|T.charCodeAt(x++)<<24;else for(L=0;16>L;++L)O[L]=T[x++]|T[x++]<<8|T[x++]<<16|T[x++]<<24;T=I.g[0],x=I.g[1],L=I.g[2];var $=I.g[3],U=T+($^x&(L^$))+O[0]+3614090360&4294967295;T=x+(U<<7&4294967295|U>>>25),U=$+(L^T&(x^L))+O[1]+3905402710&4294967295,$=T+(U<<12&4294967295|U>>>20),U=L+(x^$&(T^x))+O[2]+606105819&4294967295,L=$+(U<<17&4294967295|U>>>15),U=x+(T^L&($^T))+O[3]+3250441966&4294967295,x=L+(U<<22&4294967295|U>>>10),U=T+($^x&(L^$))+O[4]+4118548399&4294967295,T=x+(U<<7&4294967295|U>>>25),U=$+(L^T&(x^L))+O[5]+1200080426&4294967295,$=T+(U<<12&4294967295|U>>>20),U=L+(x^$&(T^x))+O[6]+2821735955&4294967295,L=$+(U<<17&4294967295|U>>>15),U=x+(T^L&($^T))+O[7]+4249261313&4294967295,x=L+(U<<22&4294967295|U>>>10),U=T+($^x&(L^$))+O[8]+1770035416&4294967295,T=x+(U<<7&4294967295|U>>>25),U=$+(L^T&(x^L))+O[9]+2336552879&4294967295,$=T+(U<<12&4294967295|U>>>20),U=L+(x^$&(T^x))+O[10]+4294925233&4294967295,L=$+(U<<17&4294967295|U>>>15),U=x+(T^L&($^T))+O[11]+2304563134&4294967295,x=L+(U<<22&4294967295|U>>>10),U=T+($^x&(L^$))+O[12]+1804603682&4294967295,T=x+(U<<7&4294967295|U>>>25),U=$+(L^T&(x^L))+O[13]+4254626195&4294967295,$=T+(U<<12&4294967295|U>>>20),U=L+(x^$&(T^x))+O[14]+2792965006&4294967295,L=$+(U<<17&4294967295|U>>>15),U=x+(T^L&($^T))+O[15]+1236535329&4294967295,x=L+(U<<22&4294967295|U>>>10),U=T+(L^$&(x^L))+O[1]+4129170786&4294967295,T=x+(U<<5&4294967295|U>>>27),U=$+(x^L&(T^x))+O[6]+3225465664&4294967295,$=T+(U<<9&4294967295|U>>>23),U=L+(T^x&($^T))+O[11]+643717713&4294967295,L=$+(U<<14&4294967295|U>>>18),U=x+($^T&(L^$))+O[0]+3921069994&4294967295,x=L+(U<<20&4294967295|U>>>12),U=T+(L^$&(x^L))+O[5]+3593408605&4294967295,T=x+(U<<5&4294967295|U>>>27),U=$+(x^L&(T^x))+O[10]+38016083&4294967295,$=T+(U<<9&4294967295|U>>>23),U=L+(T^x&($^T))+O[15]+3634488961&4294967295,L=$+(U<<14&4294967295|U>>>18),U=x+($^T&(L^$))+O[4]+3889429448&4294967295,x=L+(U<<20&4294967295|U>>>12),U=T+(L^$&(x^L))+O[9]+568446438&4294967295,T=x+(U<<5&4294967295|U>>>27),U=$+(x^L&(T^x))+O[14]+3275163606&4294967295,$=T+(U<<9&4294967295|U>>>23),U=L+(T^x&($^T))+O[3]+4107603335&4294967295,L=$+(U<<14&4294967295|U>>>18),U=x+($^T&(L^$))+O[8]+1163531501&4294967295,x=L+(U<<20&4294967295|U>>>12),U=T+(L^$&(x^L))+O[13]+2850285829&4294967295,T=x+(U<<5&4294967295|U>>>27),U=$+(x^L&(T^x))+O[2]+4243563512&4294967295,$=T+(U<<9&4294967295|U>>>23),U=L+(T^x&($^T))+O[7]+1735328473&4294967295,L=$+(U<<14&4294967295|U>>>18),U=x+($^T&(L^$))+O[12]+2368359562&4294967295,x=L+(U<<20&4294967295|U>>>12),U=T+(x^L^$)+O[5]+4294588738&4294967295,T=x+(U<<4&4294967295|U>>>28),U=$+(T^x^L)+O[8]+2272392833&4294967295,$=T+(U<<11&4294967295|U>>>21),U=L+($^T^x)+O[11]+1839030562&4294967295,L=$+(U<<16&4294967295|U>>>16),U=x+(L^$^T)+O[14]+4259657740&4294967295,x=L+(U<<23&4294967295|U>>>9),U=T+(x^L^$)+O[1]+2763975236&4294967295,T=x+(U<<4&4294967295|U>>>28),U=$+(T^x^L)+O[4]+1272893353&4294967295,$=T+(U<<11&4294967295|U>>>21),U=L+($^T^x)+O[7]+4139469664&4294967295,L=$+(U<<16&4294967295|U>>>16),U=x+(L^$^T)+O[10]+3200236656&4294967295,x=L+(U<<23&4294967295|U>>>9),U=T+(x^L^$)+O[13]+681279174&4294967295,T=x+(U<<4&4294967295|U>>>28),U=$+(T^x^L)+O[0]+3936430074&4294967295,$=T+(U<<11&4294967295|U>>>21),U=L+($^T^x)+O[3]+3572445317&4294967295,L=$+(U<<16&4294967295|U>>>16),U=x+(L^$^T)+O[6]+76029189&4294967295,x=L+(U<<23&4294967295|U>>>9),U=T+(x^L^$)+O[9]+3654602809&4294967295,T=x+(U<<4&4294967295|U>>>28),U=$+(T^x^L)+O[12]+3873151461&4294967295,$=T+(U<<11&4294967295|U>>>21),U=L+($^T^x)+O[15]+530742520&4294967295,L=$+(U<<16&4294967295|U>>>16),U=x+(L^$^T)+O[2]+3299628645&4294967295,x=L+(U<<23&4294967295|U>>>9),U=T+(L^(x|~$))+O[0]+4096336452&4294967295,T=x+(U<<6&4294967295|U>>>26),U=$+(x^(T|~L))+O[7]+1126891415&4294967295,$=T+(U<<10&4294967295|U>>>22),U=L+(T^($|~x))+O[14]+2878612391&4294967295,L=$+(U<<15&4294967295|U>>>17),U=x+($^(L|~T))+O[5]+4237533241&4294967295,x=L+(U<<21&4294967295|U>>>11),U=T+(L^(x|~$))+O[12]+1700485571&4294967295,T=x+(U<<6&4294967295|U>>>26),U=$+(x^(T|~L))+O[3]+2399980690&4294967295,$=T+(U<<10&4294967295|U>>>22),U=L+(T^($|~x))+O[10]+4293915773&4294967295,L=$+(U<<15&4294967295|U>>>17),U=x+($^(L|~T))+O[1]+2240044497&4294967295,x=L+(U<<21&4294967295|U>>>11),U=T+(L^(x|~$))+O[8]+1873313359&4294967295,T=x+(U<<6&4294967295|U>>>26),U=$+(x^(T|~L))+O[15]+4264355552&4294967295,$=T+(U<<10&4294967295|U>>>22),U=L+(T^($|~x))+O[6]+2734768916&4294967295,L=$+(U<<15&4294967295|U>>>17),U=x+($^(L|~T))+O[13]+1309151649&4294967295,x=L+(U<<21&4294967295|U>>>11),U=T+(L^(x|~$))+O[4]+4149444226&4294967295,T=x+(U<<6&4294967295|U>>>26),U=$+(x^(T|~L))+O[11]+3174756917&4294967295,$=T+(U<<10&4294967295|U>>>22),U=L+(T^($|~x))+O[2]+718787259&4294967295,L=$+(U<<15&4294967295|U>>>17),U=x+($^(L|~T))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(L+(U<<21&4294967295|U>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+$&4294967295}i.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var x=T-this.blockSize,O=this.B,L=this.h,$=0;$<T;){if(L==0)for(;$<=x;)o(this,I,$),$+=this.blockSize;if(typeof I=="string"){for(;$<T;)if(O[L++]=I.charCodeAt($++),L==this.blockSize){o(this,O),L=0;break}}else for(;$<T;)if(O[L++]=I[$++],L==this.blockSize){o(this,O),L=0;break}}this.h=L,this.o+=T},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var x=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=x&255,x/=256;for(this.u(I),I=Array(16),T=x=0;4>T;++T)for(var O=0;32>O;O+=8)I[x++]=this.g[T]>>>O&255;return I};function l(I,T){var x=c;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=T(I)}function f(I,T){this.h=T;for(var x=[],O=!0,L=I.length-1;0<=L;L--){var $=I[L]|0;O&&$==T||(x[L]=$,O=!1)}this.g=x}var c={};function p(I){return-128<=I&&128>I?l(I,function(T){return new f([T|0],0>T?-1:0)}):new f([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return S(g(-I));for(var T=[],x=1,O=0;I>=x;O++)T[O]=I/x|0,x*=4294967296;return new f(T,0)}function b(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return S(b(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(T,8)),O=d,L=0;L<I.length;L+=8){var $=Math.min(8,I.length-L),U=parseInt(I.substring(L,L+$),T);8>$?($=g(Math.pow(T,$)),O=O.j($).add(g(U))):(O=O.j(x),O=O.add(g(U)))}return O}var d=p(0),y=p(1),_=p(16777216);r=f.prototype,r.m=function(){if(E(this))return-S(this).m();for(var I=0,T=1,x=0;x<this.g.length;x++){var O=this.i(x);I+=(0<=O?O:4294967296+O)*T,T*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(E(this))return"-"+S(this).toString(I);for(var T=g(Math.pow(I,6)),x=this,O="";;){var L=k(x,T).g;x=A(x,L.j(T));var $=((0<x.g.length?x.g[0]:x.h)>>>0).toString(I);if(x=L,v(x))return $+O;for(;6>$.length;)$="0"+$;O=$+O}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function E(I){return I.h==-1}r.l=function(I){return I=A(this,I),E(I)?-1:v(I)?0:1};function S(I){for(var T=I.g.length,x=[],O=0;O<T;O++)x[O]=~I.g[O];return new f(x,~I.h).add(y)}r.abs=function(){return E(this)?S(this):this},r.add=function(I){for(var T=Math.max(this.g.length,I.g.length),x=[],O=0,L=0;L<=T;L++){var $=O+(this.i(L)&65535)+(I.i(L)&65535),U=($>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);O=U>>>16,$&=65535,U&=65535,x[L]=U<<16|$}return new f(x,x[x.length-1]&-2147483648?-1:0)};function A(I,T){return I.add(S(T))}r.j=function(I){if(v(this)||v(I))return d;if(E(this))return E(I)?S(this).j(S(I)):S(S(this).j(I));if(E(I))return S(this.j(S(I)));if(0>this.l(_)&&0>I.l(_))return g(this.m()*I.m());for(var T=this.g.length+I.g.length,x=[],O=0;O<2*T;O++)x[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<I.g.length;L++){var $=this.i(O)>>>16,U=this.i(O)&65535,he=I.i(L)>>>16,pe=I.i(L)&65535;x[2*O+2*L]+=U*pe,R(x,2*O+2*L),x[2*O+2*L+1]+=$*pe,R(x,2*O+2*L+1),x[2*O+2*L+1]+=U*he,R(x,2*O+2*L+1),x[2*O+2*L+2]+=$*he,R(x,2*O+2*L+2)}for(O=0;O<T;O++)x[O]=x[2*O+1]<<16|x[2*O];for(O=T;O<2*T;O++)x[O]=0;return new f(x,0)};function R(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function D(I,T){this.g=I,this.h=T}function k(I,T){if(v(T))throw Error("division by zero");if(v(I))return new D(d,d);if(E(I))return T=k(S(I),T),new D(S(T.g),S(T.h));if(E(T))return T=k(I,S(T)),new D(S(T.g),T.h);if(30<I.g.length){if(E(I)||E(T))throw Error("slowDivide_ only works with positive integers.");for(var x=y,O=T;0>=O.l(I);)x=V(x),O=V(O);var L=P(x,1),$=P(O,1);for(O=P(O,2),x=P(x,2);!v(O);){var U=$.add(O);0>=U.l(I)&&(L=L.add(x),$=U),O=P(O,1),x=P(x,1)}return T=A(I,L.j(T)),new D(L,T)}for(L=d;0<=I.l(T);){for(x=Math.max(1,Math.floor(I.m()/T.m())),O=Math.ceil(Math.log(x)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),$=g(x),U=$.j(T);E(U)||0<U.l(I);)x-=O,$=g(x),U=$.j(T);v($)&&($=y),L=L.add($),I=A(I,U)}return new D(L,I)}r.A=function(I){return k(this,I).h},r.and=function(I){for(var T=Math.max(this.g.length,I.g.length),x=[],O=0;O<T;O++)x[O]=this.i(O)&I.i(O);return new f(x,this.h&I.h)},r.or=function(I){for(var T=Math.max(this.g.length,I.g.length),x=[],O=0;O<T;O++)x[O]=this.i(O)|I.i(O);return new f(x,this.h|I.h)},r.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),x=[],O=0;O<T;O++)x[O]=this.i(O)^I.i(O);return new f(x,this.h^I.h)};function V(I){for(var T=I.g.length+1,x=[],O=0;O<T;O++)x[O]=I.i(O)<<1|I.i(O-1)>>>31;return new f(x,I.h)}function P(I,T){var x=T>>5;T%=32;for(var O=I.g.length-x,L=[],$=0;$<O;$++)L[$]=0<T?I.i($+x)>>>T|I.i($+x+1)<<32-T:I.i($+x);return new f(L,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,wA=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=b,Ei=f}).apply(typeof o0<"u"?o0:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TA,Ql,SA,tf,np,RA,xA,CA;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,C,N){return h==Array.prototype||h==Object.prototype||(h[C]=N.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var C=0;C<h.length;++C){var N=h[C];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var i=n(this);function o(h,C){if(C)e:{var N=i;h=h.split(".");for(var z=0;z<h.length-1;z++){var K=h[z];if(!(K in N))break e;N=N[K]}h=h[h.length-1],z=N[h],C=C(z),C!=z&&C!=null&&e(N,h,{configurable:!0,writable:!0,value:C})}}function l(h,C){h instanceof String&&(h+="");var N=0,z=!1,K={next:function(){if(!z&&N<h.length){var ae=N++;return{value:C(ae,h[ae]),done:!1}}return z=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}o("Array.prototype.values",function(h){return h||function(){return l(this,function(C,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},c=this||self;function p(h){var C=typeof h;return C=C!="object"?C:h?Array.isArray(h)?"array":C:"null",C=="array"||C=="object"&&typeof h.length=="number"}function g(h){var C=typeof h;return C=="object"&&h!=null||C=="function"}function b(h,C,N){return h.call.apply(h.bind,arguments)}function d(h,C,N){if(!h)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,z),h.apply(C,K)}}return function(){return h.apply(C,arguments)}}function y(h,C,N){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:d,y.apply(null,arguments)}function _(h,C){var N=Array.prototype.slice.call(arguments,1);return function(){var z=N.slice();return z.push.apply(z,arguments),h.apply(this,z)}}function v(h,C){function N(){}N.prototype=C.prototype,h.aa=C.prototype,h.prototype=new N,h.prototype.constructor=h,h.Qb=function(z,K,ae){for(var _e=Array(arguments.length-2),at=2;at<arguments.length;at++)_e[at-2]=arguments[at];return C.prototype[K].apply(z,_e)}}function E(h){const C=h.length;if(0<C){const N=Array(C);for(let z=0;z<C;z++)N[z]=h[z];return N}return[]}function S(h,C){for(let N=1;N<arguments.length;N++){const z=arguments[N];if(p(z)){const K=h.length||0,ae=z.length||0;h.length=K+ae;for(let _e=0;_e<ae;_e++)h[K+_e]=z[_e]}else h.push(z)}}class A{constructor(C,N){this.i=C,this.j=N,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function R(h){return/^[\s\xa0]*$/.test(h)}function D(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function k(h){return k[" "](h),h}k[" "]=function(){};var V=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function P(h,C,N){for(const z in h)C.call(N,h[z],z,h)}function I(h,C){for(const N in h)C.call(void 0,h[N],N,h)}function T(h){const C={};for(const N in h)C[N]=h[N];return C}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,C){let N,z;for(let K=1;K<arguments.length;K++){z=arguments[K];for(N in z)h[N]=z[N];for(let ae=0;ae<x.length;ae++)N=x[ae],Object.prototype.hasOwnProperty.call(z,N)&&(h[N]=z[N])}}function L(h){var C=1;h=h.split(":");const N=[];for(;0<C&&h.length;)N.push(h.shift()),C--;return h.length&&N.push(h.join(":")),N}function $(h){c.setTimeout(()=>{throw h},0)}function U(){var h=xe;let C=null;return h.g&&(C=h.g,h.g=h.g.next,h.g||(h.h=null),C.next=null),C}class he{constructor(){this.h=this.g=null}add(C,N){const z=pe.get();z.set(C,N),this.h?this.h.next=z:this.g=z,this.h=z}}var pe=new A(()=>new G,h=>h.reset());class G{constructor(){this.next=this.g=this.h=null}set(C,N){this.h=C,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ve=!1,xe=new he,B=()=>{const h=c.Promise.resolve(void 0);se=()=>{h.then(ne)}};var ne=()=>{for(var h;h=U();){try{h.h.call(h.g)}catch(N){$(N)}var C=pe;C.j(h),100>C.h&&(C.h++,h.next=C.g,C.g=h)}ve=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,C){this.type=h,this.g=this.target=C,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,C=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const N=()=>{};c.addEventListener("test",N,C),c.removeEventListener("test",N,C)}catch{}return h}();function Ue(h,C){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var N=this.type=h.type,z=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=C,C=h.relatedTarget){if(V){e:{try{k(C.nodeName);var K=!0;break e}catch{}K=!1}K||(C=null)}}else N=="mouseover"?C=h.fromElement:N=="mouseout"&&(C=h.toElement);this.relatedTarget=C,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ce[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ue.aa.h.call(this)}}v(Ue,ce);var Ce={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),vt=0;function Jn(h,C,N,z,K){this.listener=h,this.proxy=null,this.src=C,this.type=N,this.capture=!!z,this.ha=K,this.key=++vt,this.da=this.fa=!1}function Ct(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pn(h){this.src=h,this.g={},this.h=0}pn.prototype.add=function(h,C,N,z,K){var ae=h.toString();h=this.g[ae],h||(h=this.g[ae]=[],this.h++);var _e=aa(h,C,z,K);return-1<_e?(C=h[_e],N||(C.fa=!1)):(C=new Jn(C,this.src,ae,!!z,K),C.fa=N,h.push(C)),C};function Rr(h,C){var N=C.type;if(N in h.g){var z=h.g[N],K=Array.prototype.indexOf.call(z,C,void 0),ae;(ae=0<=K)&&Array.prototype.splice.call(z,K,1),ae&&(Ct(C),h.g[N].length==0&&(delete h.g[N],h.h--))}}function aa(h,C,N,z){for(var K=0;K<h.length;++K){var ae=h[K];if(!ae.da&&ae.listener==C&&ae.capture==!!N&&ae.ha==z)return K}return-1}var Tn="closure_lm_"+(1e6*Math.random()|0),Li={};function Rs(h,C,N,z,K){if(Array.isArray(C)){for(var ae=0;ae<C.length;ae++)Rs(h,C[ae],N,z,K);return null}return N=za(N),h&&h[St]?h.K(C,N,g(z)?!!z.capture:!1,K):Sn(h,C,N,!1,z,K)}function Sn(h,C,N,z,K,ae){if(!C)throw Error("Invalid event type");var _e=g(K)?!!K.capture:!!K,at=er(h);if(at||(h[Tn]=at=new pn(h)),N=at.add(C,N,z,_e,ae),N.proxy)return N;if(z=$o(),N.proxy=z,z.src=h,z.listener=N,h.addEventListener)be||(K=_e),K===void 0&&(K=!1),h.addEventListener(C.toString(),z,K);else if(h.attachEvent)h.attachEvent(ia(C.toString()),z);else if(h.addListener&&h.removeListener)h.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return N}function $o(){function h(N){return C.call(h.src,h.listener,N)}const C=_r;return h}function ji(h,C,N,z,K){if(Array.isArray(C))for(var ae=0;ae<C.length;ae++)ji(h,C[ae],N,z,K);else z=g(z)?!!z.capture:!!z,N=za(N),h&&h[St]?(h=h.i,C=String(C).toString(),C in h.g&&(ae=h.g[C],N=aa(ae,N,z,K),-1<N&&(Ct(ae[N]),Array.prototype.splice.call(ae,N,1),ae.length==0&&(delete h.g[C],h.h--)))):h&&(h=er(h))&&(C=h.g[C.toString()],h=-1,C&&(h=aa(C,N,z,K)),(N=-1<h?C[h]:null)&&ja(N))}function ja(h){if(typeof h!="number"&&h&&!h.da){var C=h.src;if(C&&C[St])Rr(C.i,h);else{var N=h.type,z=h.proxy;C.removeEventListener?C.removeEventListener(N,z,h.capture):C.detachEvent?C.detachEvent(ia(N),z):C.addListener&&C.removeListener&&C.removeListener(z),(N=er(C))?(Rr(N,h),N.h==0&&(N.src=null,C[Tn]=null)):Ct(h)}}}function ia(h){return h in Li?Li[h]:Li[h]="on"+h}function _r(h,C){if(h.da)h=!0;else{C=new Ue(C,this);var N=h.listener,z=h.ha||h.src;h.fa&&ja(h),h=N.call(z,C)}return h}function er(h){return h=h[Tn],h instanceof pn?h:null}var Ua="__closure_events_fn_"+(1e9*Math.random()>>>0);function za(h){return typeof h=="function"?h:(h[Ua]||(h[Ua]=function(C){return h.handleEvent(C)}),h[Ua])}function ft(){me.call(this),this.i=new pn(this),this.M=this,this.F=null}v(ft,me),ft.prototype[St]=!0,ft.prototype.removeEventListener=function(h,C,N,z){ji(this,h,C,N,z)};function Ge(h,C){var N,z=h.F;if(z)for(N=[];z;z=z.F)N.push(z);if(h=h.M,z=C.type||C,typeof C=="string")C=new ce(C,h);else if(C instanceof ce)C.target=C.target||h;else{var K=C;C=new ce(z,h),O(C,K)}if(K=!0,N)for(var ae=N.length-1;0<=ae;ae--){var _e=C.g=N[ae];K=gn(_e,z,!0,C)&&K}if(_e=C.g=h,K=gn(_e,z,!0,C)&&K,K=gn(_e,z,!1,C)&&K,N)for(ae=0;ae<N.length;ae++)_e=C.g=N[ae],K=gn(_e,z,!1,C)&&K}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var h=this.i,C;for(C in h.g){for(var N=h.g[C],z=0;z<N.length;z++)Ct(N[z]);delete h.g[C],h.h--}}this.F=null},ft.prototype.K=function(h,C,N,z){return this.i.add(String(h),C,!1,N,z)},ft.prototype.L=function(h,C,N,z){return this.i.add(String(h),C,!0,N,z)};function gn(h,C,N,z){if(C=h.i.g[String(C)],!C)return!0;C=C.concat();for(var K=!0,ae=0;ae<C.length;++ae){var _e=C[ae];if(_e&&!_e.da&&_e.capture==N){var at=_e.listener,Gt=_e.ha||_e.src;_e.fa&&Rr(h.i,_e),K=at.call(Gt,z)!==!1&&K}}return K&&!z.defaultPrevented}function Ut(h,C,N){if(typeof h=="function")N&&(h=y(h,N));else if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:c.setTimeout(h,C||0)}function xs(h){h.g=Ut(()=>{h.g=null,h.i&&(h.i=!1,xs(h))},h.l);const C=h.h;h.h=null,h.m.apply(null,C)}class tr extends me{constructor(C,N){super(),this.m=C,this.l=N,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:xs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(h){me.call(this),this.h=h,this.g={}}v(xr,me);var Cr=[];function Dr(h){P(h.g,function(C,N){this.g.hasOwnProperty(N)&&ja(C)},h),h.g={}}xr.prototype.N=function(){xr.aa.N.call(this),Dr(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=c.JSON.stringify,sa=c.JSON.parse,nr=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function $a(){}$a.prototype.h=null;function oa(h){return h.h||(h.h=h.i())}function Ui(){}var rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){ce.call(this,"d")}v(br,ce);function Ba(){ce.call(this,"c")}v(Ba,ce);var Rn={},Or=null;function Ir(){return Or=Or||new ft}Rn.La="serverreachability";function Fa(h){ce.call(this,Rn.La,h)}v(Fa,ce);function q(h){const C=Ir();Ge(C,new Fa(C))}Rn.STAT_EVENT="statevent";function Q(h,C){ce.call(this,Rn.STAT_EVENT,h),this.stat=C}v(Q,ce);function Z(h){const C=Ir();Ge(C,new Q(C,h))}Rn.Ma="timingevent";function le(h,C){ce.call(this,Rn.Ma,h),this.size=C}v(le,ce);function ge(h,C){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},C)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function Me(h,C,N,z,K,ae){h.info(function(){if(h.g)if(ae)for(var _e="",at=ae.split("&"),Gt=0;Gt<at.length;Gt++){var it=at[Gt].split("=");if(1<it.length){var en=it[0];it=it[1];var Yt=en.split("_");_e=2<=Yt.length&&Yt[1]=="type"?_e+(en+"="+it+"&"):_e+(en+"=redacted&")}}else _e=null;else _e=ae;return"XMLHTTP REQ ("+z+") [attempt "+K+"]: "+C+`
`+N+`
`+_e})}function we(h,C,N,z,K,ae,_e){h.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+K+"]: "+C+`
`+N+`
`+ae+" "+_e})}function Se(h,C,N,z){h.info(function(){return"XMLHTTP TEXT ("+C+"): "+Ve(h,N)+(z?" "+z:"")})}function Oe(h,C){h.info(function(){return"TIMEOUT: "+C})}Ae.prototype.info=function(){};function Ve(h,C){if(!h.g)return C;if(!C)return null;try{var N=JSON.parse(C);if(N){for(h=0;h<N.length;h++)if(Array.isArray(N[h])){var z=N[h];if(!(2>z.length)){var K=z[1];if(Array.isArray(K)&&!(1>K.length)){var ae=K[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var _e=1;_e<K.length;_e++)K[_e]=""}}}}return Ln(N)}catch{return C}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ze;function dt(){}v(dt,$a),dt.prototype.g=function(){return new XMLHttpRequest},dt.prototype.i=function(){return{}},Ze=new dt;function ut(h,C,N,z){this.j=h,this.i=C,this.l=N,this.R=z||1,this.U=new xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rt}function rt(){this.i=null,this.g="",this.h=!1}var Ke={},ar={};function Ht(h,C,N){h.L=1,h.v=Bi(zn(C)),h.m=N,h.P=!0,xn(h,null)}function xn(h,C){h.F=Date.now(),jn(h),h.A=zn(h.v);var N=h.A,z=h.R;Array.isArray(z)||(z=[String(z)]),Go(N.i,"t",z),h.C=0,N=h.j.J,h.h=new rt,h.g=Lu(h.j,N?C:null,!h.m),0<h.O&&(h.M=new tr(y(h.Y,h,h.g),h.O)),C=h.U,N=h.g,z=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(Cr[0]=K.toString()),K=Cr);for(var ae=0;ae<K.length;ae++){var _e=Rs(N,K[ae],z||C.handleEvent,!1,C.h||C);if(!_e)break;C.g[_e.key]=_e}C=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,C)):(h.u="GET",h.g.ea(h.A,h.u,null,C)),q(),Me(h.i,h.u,h.A,h.l,h.R,h.m)}ut.prototype.ca=function(h){h=h.target;const C=this.M;C&&ur(h)==3?C.j():this.Y(h)},ut.prototype.Y=function(h){try{if(h==this.g)e:{const Yt=ur(this.g);var C=this.g.Ba();const pa=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||Du(this.g)))){this.J||Yt!=4||C==7||(C==8||0>=pa?q(3):q(2)),yn(this);var N=this.g.Z();this.X=N;t:if(sn(this)){var z=Du(this.g);h="";var K=z.length,ae=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Be(this),Cn(this);var _e="";break t}this.h.i=new c.TextDecoder}for(C=0;C<K;C++)this.h.h=!0,h+=this.h.i.decode(z[C],{stream:!(ae&&C==K-1)});z.length=0,this.h.g+=h,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=N==200,we(this.i,this.u,this.A,this.l,this.R,Yt,N),this.o){if(this.T&&!this.K){t:{if(this.g){var at,Gt=this.g;if((at=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(at)){var it=at;break t}}it=null}if(N=it)Se(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zt(this,N);else{this.o=!1,this.s=3,Z(12),Be(this),Cn(this);break e}}if(this.P){N=!0;let ln;for(;!this.J&&this.C<_e.length;)if(ln=Nr(this,_e),ln==ar){Yt==4&&(this.s=4,Z(14),N=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Ke){this.s=4,Z(15),Se(this.i,this.l,_e,"[Invalid Chunk]"),N=!1;break}else Se(this.i,this.l,ln,null),zt(this,ln);if(sn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||_e.length!=0||this.h.h||(this.s=1,Z(16),N=!1),this.o=this.o&&N,!N)Se(this.i,this.l,_e,"[Invalid Chunked Response]"),Be(this),Cn(this);else if(0<_e.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),Xi(en),en.M=!0,Z(11))}}else Se(this.i,this.l,_e,null),zt(this,_e);Yt==4&&Be(this),this.o&&!this.J&&(Yt==4?ku(this.j,this):(this.o=!1,jn(this)))}else oh(this.g),N==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Z(12)):(this.s=0,Z(13)),Be(this),Cn(this)}}}catch{}finally{}};function sn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Nr(h,C){var N=h.C,z=C.indexOf(`
`,N);return z==-1?ar:(N=Number(C.substring(N,z)),isNaN(N)?Ke:(z+=1,z+N>C.length?ar:(C=C.slice(z,z+N),h.C=z+N,C)))}ut.prototype.cancel=function(){this.J=!0,Be(this)};function jn(h){h.S=Date.now()+h.I,qa(h,h.I)}function qa(h,C){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ge(y(h.ba,h),C)}function yn(h){h.B&&(c.clearTimeout(h.B),h.B=null)}ut.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Oe(this.i,this.A),this.L!=2&&(q(),Z(17)),Be(this),this.s=2,Cn(this)):qa(this,this.S-h)};function Cn(h){h.j.G==0||h.J||ku(h.j,h)}function Be(h){yn(h);var C=h.M;C&&typeof C.ma=="function"&&C.ma(),h.M=null,Dr(h.U),h.g&&(C=h.g,h.g=null,C.abort(),C.ma())}function zt(h,C){try{var N=h.j;if(N.G!=0&&(N.g==h||ir(N.h,h))){if(!h.K&&ir(N.h,h)&&N.G==3){try{var z=N.Da.g.parse(C)}catch{z=null}if(Array.isArray(z)&&z.length==3){var K=z;if(K[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<h.F)Ps(N),ks(N);else break e;Zo(N),Z(18)}}else N.za=K[1],0<N.za-N.T&&37500>K[2]&&N.F&&N.v==0&&!N.C&&(N.C=ge(y(N.Za,N),6e3));if(1>=wt(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else ma(N,11)}else if((h.K||N.g==h)&&Ps(N),!R(C))for(K=N.Da.g.parse(C),C=0;C<K.length;C++){let it=K[C];if(N.T=it[0],it=it[1],N.G==2)if(it[0]=="c"){N.K=it[1],N.ia=it[2];const en=it[3];en!=null&&(N.la=en,N.j.info("VER="+N.la));const Yt=it[4];Yt!=null&&(N.Aa=Yt,N.j.info("SVER="+N.Aa));const pa=it[5];pa!=null&&typeof pa=="number"&&0<pa&&(z=1.5*pa,N.L=z,N.j.info("backChannelRequestTimeoutMs_="+z)),z=N;const ln=h.g;if(ln){const zr=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var ae=z.h;ae.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(la(ae,ae.h),ae.h=null))}if(z.D){const Jo=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(z.ya=Jo,_t(z.I,z.D,Jo))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-h.F,N.j.info("Handshake RTT: "+N.R+"ms")),z=N;var _e=h;if(z.qa=Pu(z,z.J?z.ia:null,z.W),_e.K){on(z.h,_e);var at=_e,Gt=z.L;Gt&&(at.I=Gt),at.B&&(yn(at),jn(at)),z.g=_e}else Nu(z);0<N.i.length&&Vs(N)}else it[0]!="stop"&&it[0]!="close"||ma(N,7);else N.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?ma(N,7):Ko(N):it[0]!="noop"&&N.l&&N.l.ta(it),N.v=0)}}q(4)}catch{}}var Un=class{constructor(h,C){this.g=h,this.map=C}};function In(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function wt(h){return h.h?1:h.g?h.g.size:0}function ir(h,C){return h.h?h.h==C:h.g?h.g.has(C):!1}function la(h,C){h.g?h.g.add(C):h.h=C}function on(h,C){h.h&&h.h==C?h.h=null:h.g&&h.g.has(C)&&h.g.delete(C)}In.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Bo(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let C=h.i;for(const N of h.g.values())C=C.concat(N.D);return C}return E(h.i)}function rh(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var C=[],N=h.length,z=0;z<N;z++)C.push(h[z]);return C}C=[],N=0;for(z in h)C[N++]=h[z];return C}function Cs(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var C=[];h=h.length;for(var N=0;N<h;N++)C.push(N);return C}C=[],N=0;for(const z in h)C[N++]=z;return C}}}function Fo(h,C){if(h.forEach&&typeof h.forEach=="function")h.forEach(C,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,C,void 0);else for(var N=Cs(h),z=rh(h),K=z.length,ae=0;ae<K;ae++)C.call(void 0,z[ae],N&&N[ae],h)}var zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ah(h,C){if(h){h=h.split("&");for(var N=0;N<h.length;N++){var z=h[N].indexOf("="),K=null;if(0<=z){var ae=h[N].substring(0,z);K=h[N].substring(z+1)}else ae=h[N];C(ae,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function $t(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof $t){this.h=h.h,$i(this,h.j),this.o=h.o,this.g=h.g,Ha(this,h.s),this.l=h.l;var C=h.i,N=new ca;N.i=C.i,C.g&&(N.g=new Map(C.g),N.h=C.h),ua(this,N),this.m=h.m}else h&&(C=String(h).match(zi))?(this.h=!1,$i(this,C[1]||"",!0),this.o=sr(C[2]||""),this.g=sr(C[3]||"",!0),Ha(this,C[4]),this.l=sr(C[5]||"",!0),ua(this,C[6]||"",!0),this.m=sr(C[7]||"")):(this.h=!1,this.i=new ca(null,this.h))}$t.prototype.toString=function(){var h=[],C=this.j;C&&h.push(Fi(C,qo,!0),":");var N=this.g;return(N||C=="file")&&(h.push("//"),(C=this.o)&&h.push(Fi(C,qo,!0),"@"),h.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&h.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&h.push("/"),h.push(Fi(N,N.charAt(0)=="/"?ih:Ho,!0))),(N=this.i.toString())&&h.push("?",N),(N=this.m)&&h.push("#",Fi(N,Ds)),h.join("")};function zn(h){return new $t(h)}function $i(h,C,N){h.j=N?sr(C,!0):C,h.j&&(h.j=h.j.replace(/:$/,""))}function Ha(h,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);h.s=C}else h.s=null}function ua(h,C,N){C instanceof ca?(h.i=C,xu(h.i,h.h)):(N||(C=Fi(C,sh)),h.i=new ca(C,h.h))}function _t(h,C,N){h.i.set(C,N)}function Bi(h){return _t(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function sr(h,C){return h?C?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Fi(h,C,N){return typeof h=="string"?(h=encodeURI(h).replace(C,Ru),N&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ru(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var qo=/[#\/\?@]/g,Ho=/[#\?:]/g,ih=/[#\?]/g,sh=/[#\?@]/g,Ds=/#/g;function ca(h,C){this.h=this.g=null,this.i=h||null,this.j=!!C}function or(h){h.g||(h.g=new Map,h.h=0,h.i&&ah(h.i,function(C,N){h.add(decodeURIComponent(C.replace(/\+/g," ")),N)}))}r=ca.prototype,r.add=function(h,C){or(this),this.i=null,h=kr(this,h);var N=this.g.get(h);return N||this.g.set(h,N=[]),N.push(C),this.h+=1,this};function fa(h,C){or(h),C=kr(h,C),h.g.has(C)&&(h.i=null,h.h-=h.g.get(C).length,h.g.delete(C))}function ha(h,C){return or(h),C=kr(h,C),h.g.has(C)}r.forEach=function(h,C){or(this),this.g.forEach(function(N,z){N.forEach(function(K){h.call(C,K,z,this)},this)},this)},r.na=function(){or(this);const h=Array.from(this.g.values()),C=Array.from(this.g.keys()),N=[];for(let z=0;z<C.length;z++){const K=h[z];for(let ae=0;ae<K.length;ae++)N.push(C[z])}return N},r.V=function(h){or(this);let C=[];if(typeof h=="string")ha(this,h)&&(C=C.concat(this.g.get(kr(this,h))));else{h=Array.from(this.g.values());for(let N=0;N<h.length;N++)C=C.concat(h[N])}return C},r.set=function(h,C){return or(this),this.i=null,h=kr(this,h),ha(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[C]),this.h+=1,this},r.get=function(h,C){return h?(h=this.V(h),0<h.length?String(h[0]):C):C};function Go(h,C,N){fa(h,C),0<N.length&&(h.i=null,h.g.set(kr(h,C),E(N)),h.h+=N.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],C=Array.from(this.g.keys());for(var N=0;N<C.length;N++){var z=C[N];const ae=encodeURIComponent(String(z)),_e=this.V(z);for(z=0;z<_e.length;z++){var K=ae;_e[z]!==""&&(K+="="+encodeURIComponent(String(_e[z]))),h.push(K)}}return this.i=h.join("&")};function kr(h,C){return C=String(C),h.j&&(C=C.toLowerCase()),C}function xu(h,C){C&&!h.j&&(or(h),h.i=null,h.g.forEach(function(N,z){var K=z.toLowerCase();z!=K&&(fa(this,z),Go(this,K,N))},h)),h.j=C}function qi(h,C){const N=new Ae;if(c.Image){const z=new Image;z.onload=_(lr,N,"TestLoadImage: loaded",!0,C,z),z.onerror=_(lr,N,"TestLoadImage: error",!1,C,z),z.onabort=_(lr,N,"TestLoadImage: abort",!1,C,z),z.ontimeout=_(lr,N,"TestLoadImage: timeout",!1,C,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=h}else C(!1)}function Er(h,C){const N=new Ae,z=new AbortController,K=setTimeout(()=>{z.abort(),lr(N,"TestPingServer: timeout",!1,C)},1e4);fetch(h,{signal:z.signal}).then(ae=>{clearTimeout(K),ae.ok?lr(N,"TestPingServer: ok",!0,C):lr(N,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(K),lr(N,"TestPingServer: error",!1,C)})}function lr(h,C,N,z,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),z(N)}catch{}}function Hi(){this.g=new nr}function Vr(h,C,N){const z=N||"";try{Fo(h,function(K,ae){let _e=K;g(K)&&(_e=Ln(K)),C.push(z+ae+"="+encodeURIComponent(_e))})}catch(K){throw C.push(z+"type="+encodeURIComponent("_badmap")),K}}function Ga(h){this.l=h.Ub||null,this.j=h.eb||!1}v(Ga,$a),Ga.prototype.g=function(){return new da(this.l,this.j)},Ga.prototype.i=function(h){return function(){return h}}({});function da(h,C){ft.call(this),this.D=h,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(da,ft),r=da.prototype,r.open=function(h,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=C,this.readyState=1,Lr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(C.body=h),(this.D||c).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var C=h.value?h.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!h.done}))&&(this.response=this.responseText+=C)}h.done?Pr(this):Lr(this),this.readyState==3&&Yo(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,Pr(this))},r.Qa=function(h){this.g&&(this.response=h,Pr(this))},r.ga=function(){this.g&&Pr(this)};function Pr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Lr(h)}r.setRequestHeader=function(h,C){this.u.append(h,C)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],C=this.h.entries();for(var N=C.next();!N.done;)N=N.value,h.push(N[0]+": "+N[1]),N=C.next();return h.join(`\r
`)};function Lr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Qo(h){let C="";return P(h,function(N,z){C+=z,C+=":",C+=N,C+=`\r
`}),C}function Jt(h,C,N){e:{for(z in N){var z=!1;break e}z=!0}z||(N=Qo(N),typeof h=="string"?N!=null&&encodeURIComponent(String(N)):_t(h,C,N))}function mt(h){ft.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(mt,ft);var Os=/^https?$/i,Gi=["POST","PUT"];r=mt.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,C,N,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);C=C?C.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ze.g(),this.v=this.o?oa(this.o):oa(Ze),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(C,String(h),!0),this.B=!1}catch(ae){Cu(this,ae);return}if(h=N||"",N=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var K in z)N.set(K,z[K]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ae of z.keys())N.set(ae,z.get(ae));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(N.keys()).find(ae=>ae.toLowerCase()=="content-type"),K=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Gi,C,void 0))||z||K||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,_e]of N)this.g.setRequestHeader(ae,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yi(this),this.u=!0,this.g.send(h),this.u=!1}catch(ae){Cu(this,ae)}};function Cu(h,C){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=C,h.m=5,Is(h),jr(h)}function Is(h){h.A||(h.A=!0,Ge(h,"complete"),Ge(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ge(this,"complete"),Ge(this,"abort"),jr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jr(this,!0)),mt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ns(this):this.bb())},r.bb=function(){Ns(this)};function Ns(h){if(h.h&&typeof f<"u"&&(!h.v[1]||ur(h)!=4||h.Z()!=2)){if(h.u&&ur(h)==4)Ut(h.Ea,0,h);else if(Ge(h,"readystatechange"),ur(h)==4){h.h=!1;try{const _e=h.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var N;if(!(N=C)){var z;if(z=_e===0){var K=String(h.D).match(zi)[1]||null;!K&&c.self&&c.self.location&&(K=c.self.location.protocol.slice(0,-1)),z=!Os.test(K?K.toLowerCase():"")}N=z}if(N)Ge(h,"complete"),Ge(h,"success");else{h.m=6;try{var ae=2<ur(h)?h.g.statusText:""}catch{ae=""}h.l=ae+" ["+h.Z()+"]",Is(h)}}finally{jr(h)}}}}function jr(h,C){if(h.g){Yi(h);const N=h.g,z=h.v[0]?()=>{}:null;h.g=null,h.v=null,C||Ge(h,"ready");try{N.onreadystatechange=z}catch{}}}function Yi(h){h.I&&(c.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function ur(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var C=this.g.responseText;return h&&C.indexOf(h)==0&&(C=C.substring(h.length)),sa(C)}};function Du(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function oh(h){const C={};h=(h.g&&2<=ur(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<h.length;z++){if(R(h[z]))continue;var N=L(h[z]);const K=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ae=C[K]||[];C[K]=ae,ae.push(N)}I(C,function(z){return z.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qi(h,C,N){return N&&N.internalChannelParams&&N.internalChannelParams[h]||C}function Ms(h){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qi("baseRetryDelayMs",5e3,h),this.cb=Qi("retryDelaySeedMs",1e4,h),this.Wa=Qi("forwardChannelMaxRetries",2,h),this.wa=Qi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new In(h&&h.concurrentRequestLimit),this.Da=new Hi,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ms.prototype,r.la=8,r.G=1,r.connect=function(h,C,N,z){Z(0),this.W=h,this.H=C||{},N&&z!==void 0&&(this.H.OSID=N,this.H.OAID=z),this.F=this.X,this.I=Pu(this,null,this.W),Vs(this)};function Ko(h){if(Ou(h),h.G==3){var C=h.U++,N=zn(h.I);if(_t(N,"SID",h.K),_t(N,"RID",C),_t(N,"TYPE","terminate"),Ki(h,N),C=new ut(h,h.j,C),C.L=2,C.v=Bi(zn(N)),N=!1,c.navigator&&c.navigator.sendBeacon)try{N=c.navigator.sendBeacon(C.v.toString(),"")}catch{}!N&&c.Image&&(new Image().src=C.v,N=!0),N||(C.g=Lu(C.j,null),C.g.ea(C.v)),C.F=Date.now(),jn(C)}Vu(h)}function ks(h){h.g&&(Xi(h),h.g.cancel(),h.g=null)}function Ou(h){ks(h),h.u&&(c.clearTimeout(h.u),h.u=null),Ps(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function Vs(h){if(!Mr(h.h)&&!h.s){h.s=!0;var C=h.Ga;se||B(),ve||(se(),ve=!0),xe.add(C,h),h.B=0}}function lh(h,C){return wt(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=C.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ge(y(h.Ga,h,C),Wo(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new ut(this,this.j,h);let ae=this.o;if(this.S&&(ae?(ae=T(ae),O(ae,this.S)):ae=this.S),this.m!==null||this.O||(K.H=ae,ae=null),this.P)e:{for(var C=0,N=0;N<this.i.length;N++){t:{var z=this.i[N];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(C+=z,4096<C){C=N;break e}if(C===4096||N===this.i.length-1){C=N+1;break e}}C=1e3}else C=1e3;C=Iu(this,K,C),N=zn(this.I),_t(N,"RID",h),_t(N,"CVER",22),this.D&&_t(N,"X-HTTP-Session-Id",this.D),Ki(this,N),ae&&(this.O?C="headers="+encodeURIComponent(String(Qo(ae)))+"&"+C:this.m&&Jt(N,this.m,ae)),la(this.h,K),this.Ua&&_t(N,"TYPE","init"),this.P?(_t(N,"$req",C),_t(N,"SID","null"),K.T=!0,Ht(K,N,null)):Ht(K,N,C),this.G=2}}else this.G==3&&(h?Xo(this,h):this.i.length==0||Mr(this.h)||Xo(this))};function Xo(h,C){var N;C?N=C.l:N=h.U++;const z=zn(h.I);_t(z,"SID",h.K),_t(z,"RID",N),_t(z,"AID",h.T),Ki(h,z),h.m&&h.o&&Jt(z,h.m,h.o),N=new ut(h,h.j,N,h.B+1),h.m===null&&(N.H=h.o),C&&(h.i=C.D.concat(h.i)),C=Iu(h,N,1e3),N.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),la(h.h,N),Ht(N,z,C)}function Ki(h,C){h.H&&P(h.H,function(N,z){_t(C,z,N)}),h.l&&Fo({},function(N,z){_t(C,z,N)})}function Iu(h,C,N){N=Math.min(h.i.length,N);var z=h.l?y(h.l.Na,h.l,h):null;e:{var K=h.i;let ae=-1;for(;;){const _e=["count="+N];ae==-1?0<N?(ae=K[0].g,_e.push("ofs="+ae)):ae=0:_e.push("ofs="+ae);let at=!0;for(let Gt=0;Gt<N;Gt++){let it=K[Gt].g;const en=K[Gt].map;if(it-=ae,0>it)ae=Math.max(0,K[Gt].g-100),at=!1;else try{Vr(en,_e,"req"+it+"_")}catch{z&&z(en)}}if(at){z=_e.join("&");break e}}}return h=h.i.splice(0,N),C.D=h,z}function Nu(h){if(!h.g&&!h.u){h.Y=1;var C=h.Fa;se||B(),ve||(se(),ve=!0),xe.add(C,h),h.v=0}}function Zo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ge(y(h.Fa,h),Wo(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,Mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ge(y(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Z(10),ks(this),Mu(this))};function Xi(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function Mu(h){h.g=new ut(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var C=zn(h.qa);_t(C,"RID","rpc"),_t(C,"SID",h.K),_t(C,"AID",h.T),_t(C,"CI",h.F?"0":"1"),!h.F&&h.ja&&_t(C,"TO",h.ja),_t(C,"TYPE","xmlhttp"),Ki(h,C),h.m&&h.o&&Jt(C,h.m,h.o),h.L&&(h.g.I=h.L);var N=h.g;h=h.ia,N.L=1,N.v=Bi(zn(C)),N.m=null,N.P=!0,xn(N,h)}r.Za=function(){this.C!=null&&(this.C=null,ks(this),Zo(this),Z(19))};function Ps(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ku(h,C){var N=null;if(h.g==C){Ps(h),Xi(h),h.g=null;var z=2}else if(ir(h.h,C))N=C.D,on(h.h,C),z=1;else return;if(h.G!=0){if(C.o)if(z==1){N=C.m?C.m.length:0,C=Date.now()-C.F;var K=h.B;z=Ir(),Ge(z,new le(z,N)),Vs(h)}else Nu(h);else if(K=C.s,K==3||K==0&&0<C.X||!(z==1&&lh(h,C)||z==2&&Zo(h)))switch(N&&0<N.length&&(C=h.h,C.i=C.i.concat(N)),K){case 1:ma(h,5);break;case 4:ma(h,10);break;case 3:ma(h,6);break;default:ma(h,2)}}}function Wo(h,C){let N=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(N*=2),N*C}function ma(h,C){if(h.j.info("Error code "+C),C==2){var N=y(h.fb,h),z=h.Xa;const K=!z;z=new $t(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$i(z,"https"),Bi(z),K?qi(z.toString(),N):Er(z.toString(),N)}else Z(2);h.G=0,h.l&&h.l.sa(C),Vu(h),Ou(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Z(2)):(this.j.info("Failed to ping google.com"),Z(1))};function Vu(h){if(h.G=0,h.ka=[],h.l){const C=Bo(h.h);(C.length!=0||h.i.length!=0)&&(S(h.ka,C),S(h.ka,h.i),h.h.i.length=0,E(h.i),h.i.length=0),h.l.ra()}}function Pu(h,C,N){var z=N instanceof $t?zn(N):new $t(N);if(z.g!="")C&&(z.g=C+"."+z.g),Ha(z,z.s);else{var K=c.location;z=K.protocol,C=C?C+"."+K.hostname:K.hostname,K=+K.port;var ae=new $t(null);z&&$i(ae,z),C&&(ae.g=C),K&&Ha(ae,K),N&&(ae.l=N),z=ae}return N=h.D,C=h.ya,N&&C&&_t(z,N,C),_t(z,"VER",h.la),Ki(h,z),z}function Lu(h,C,N){if(C&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=h.Ca&&!h.pa?new mt(new Ga({eb:N})):new mt(h.pa),C.Ha(h.J),C}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}r=ju.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ls(){}Ls.prototype.g=function(h,C){return new Dn(h,C)};function Dn(h,C){ft.call(this),this.g=new Ms(C),this.l=h,this.h=C&&C.messageUrlParams||null,h=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(h?h["X-WebChannel-Content-Type"]=C.messageContentType:h={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(h?h["X-WebChannel-Client-Profile"]=C.va:h={"X-WebChannel-Client-Profile":C.va}),this.g.S=h,(h=C&&C.Sb)&&!R(h)&&(this.g.m=h),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!R(C)&&(this.g.D=C,h=this.h,h!==null&&C in h&&(h=this.h,C in h&&delete h[C])),this.j=new Ur(this)}v(Dn,ft),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){Ko(this.g)},Dn.prototype.o=function(h){var C=this.g;if(typeof h=="string"){var N={};N.__data__=h,h=N}else this.u&&(N={},N.__data__=Ln(h),h=N);C.i.push(new Un(C.Ya++,h)),C.G==3&&Vs(C)},Dn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,Dn.aa.N.call(this)};function Uu(h){br.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var C=h.__sm__;if(C){e:{for(const N in C){h=N;break e}h=void 0}(this.i=h)&&(h=this.i,C=C!==null&&h in C?C[h]:void 0),this.data=C}else this.data=h}v(Uu,br);function zu(){Ba.call(this),this.status=1}v(zu,Ba);function Ur(h){this.g=h}v(Ur,ju),Ur.prototype.ua=function(){Ge(this.g,"a")},Ur.prototype.ta=function(h){Ge(this.g,new Uu(h))},Ur.prototype.sa=function(h){Ge(this.g,new zu)},Ur.prototype.ra=function(){Ge(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,CA=function(){return new Ls},xA=function(){return Ir()},RA=Rn,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,tf=Re,Le.COMPLETE="complete",SA=Le,Ui.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Ql=Ui,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,TA=mt}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const l0="@firebase/firestore",u0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new yA("@firebase/firestore");function mo(){return _s.logLevel}function Ee(r,...e){if(_s.logLevel<=lt.DEBUG){const n=e.map(Hp);_s.debug(`Firestore (${Lo}): ${r}`,...n)}}function ka(r,...e){if(_s.logLevel<=lt.ERROR){const n=e.map(Hp);_s.error(`Firestore (${Lo}): ${r}`,...n)}}function xo(r,...e){if(_s.logLevel<=lt.WARN){const n=e.map(Hp);_s.warn(`Firestore (${Lo}): ${r}`,...n)}}function Hp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,DA(r,i,n)}function DA(r,e,n){let i=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ka(i),new Error(i)}function pt(r,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,r||DA(e,o,i)}function qe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Po{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class KD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XD{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pt(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ai,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},c=p=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>c(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?c(p):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ai)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pt(typeof i.accessToken=="string",31837,{l:i}),new OA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class ZD{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WD{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new ZD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,MD(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pt(this.o===void 0,3512);const i=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.m;return this.m=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new c0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new c0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=eO(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<n&&(i+=e.charAt(o[l]%62))}return i}}function Qe(r,e){return r<e?-1:r>e?1:0}function rp(r,e){let n=0;for(;n<r.length&&n<e.length;){const i=r.codePointAt(n),o=e.codePointAt(n);if(i!==o){if(i<128&&o<128)return Qe(i,o);{const l=IA(),f=tO(l.encode(f0(r,n)),l.encode(f0(e,n)));return f!==0?f:Qe(i,o)}}n+=i>65535?2:1}return Qe(r.length,e.length)}function f0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function tO(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Qe(r[n],e[n]);return Qe(r.length,e.length)}function Co(r,e,n){return r.length===e.length&&r.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=-62135596800,d0=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*d0);return new Zt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<h0)throw new Ne(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/d0}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-h0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Zt(0,0))}static max(){return new Fe(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="__name__";class Gr{constructor(e,n,i){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ze(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const l=Gr.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return Qe(e.length,n.length)}static compareSegments(e,n){const i=Gr.isNumericId(e),o=Gr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Gr.extractNumericId(e).compare(Gr.extractNumericId(n)):rp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ei.fromString(e.substring(4,e.length-2))}}class Ot extends Gr{construct(e,n,i){return new Ot(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ne(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const nO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Gr{construct(e,n,i){return new dn(e,n,i)}static isValidIdentifier(e){return nO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m0}static keyField(){return new dn([m0])}static fromServerFormat(e){const n=[];let i="",o=0;const l=()=>{if(i.length===0)throw new Ne(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let f=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new Ne(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ne(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else c==="`"?(f=!f,o++):c!=="."||f?(i+=c,o++):(l(),o++)}if(l(),f)throw new Ne(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Ot.fromString(e))}static fromName(e){return new ke(Ot.fromString(e).popFirst(5))}static empty(){return new ke(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function rO(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Fe.fromTimestamp(i===1e9?new Zt(n+1,0):new Zt(n,i));return new Ci(o,ke.empty(),e)}function aO(r){return new Ci(r.readTime,r.key,cu)}class Ci{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ci(Fe.min(),ke.empty(),cu)}static max(){return new Ci(Fe.max(),ke.empty(),cu)}}function iO(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(r.documentKey,e.documentKey),n!==0?n:Qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(r){if(r.code!==de.FAILED_PRECONDITION||r.message!==sO)throw r;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,i)=>{n(e)})}static reject(e){return new fe((n,i)=>{i(e)})}static waitFor(e){return new fe((n,i)=>{let o=0,l=0,f=!1;e.forEach(c=>{++o,c.next(()=>{++l,f&&l===o&&n()},p=>i(p))}),f=!0,l===o&&n()})}static or(e){let n=fe.resolve(!1);for(const i of e)n=n.next(o=>o?fe.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,l)=>{i.push(n.call(this,o,l))}),this.waitFor(i)}static mapArray(e,n){return new fe((i,o)=>{const l=e.length,f=new Array(l);let c=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next(b=>{f[g]=b,++c,c===l&&i(f)},b=>o(b))}})}static doWhile(e,n){return new fe((i,o)=>{const l=()=>{e()===!0?n().next(()=>{l()},o):i()};l()})}}function lO(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}$f.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function Bf(r){return r==null}function bf(r){return r===0&&1/r==-1/0}function uO(r){return typeof r=="number"&&Number.isInteger(r)&&!bf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="";function cO(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=p0(e)),e=fO(r.get(n),e);return p0(e)}function fO(r,e){let n=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":n+="";break;case MA:n+="";break;default:n+=l}}return n}function p0(r){return r+MA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ki(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function kA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??hn.RED,this.left=o??hn.EMPTY,this.right=l??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,l){return new hn(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,i,o,l){return this}insert(e,n,i){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y0(this.data.getIterator())}getIteratorFrom(e){return new y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new Wt(dn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new VA("Invalid base64 string: "+l):l}}(e);return new mn(n)}static fromUint8Array(e){const n=function(o){let l="";for(let f=0;f<o.length;++f)l+=String.fromCharCode(o[f]);return l}(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const hO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(r){if(pt(!!r,39018),typeof r=="string"){let e=0;const n=hO.exec(r);if(pt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(r.seconds),nanos:Lt(r.nanos)}}function Lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Oi(r){return typeof r=="string"?mn.fromBase64String(r):mn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="server_timestamp",LA="__type__",jA="__previous_value__",UA="__local_write_time__";function Yp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[LA])===null||n===void 0?void 0:n.stringValue)===PA}function Ff(r){const e=r.mapValue.fields[jA];return Yp(e)?Ff(e):e}function fu(r){const e=Di(r.mapValue.fields[UA].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n,i,o,l,f,c,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=c,this.longPollingOptions=p,this.useFetchStreams=g}}const Ef="(default)";class hu{constructor(e,n){this.projectId=e,this.database=n||Ef}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===Ef}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="__type__",mO="__max__",Yc={mapValue:{}},$A="__vector__",Af="value";function Ii(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yp(r)?4:gO(r)?9007199254740991:pO(r)?10:11:ze(28295,{value:r})}function ea(r,e){if(r===e)return!0;const n=Ii(r);if(n!==Ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return fu(r).isEqual(fu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const f=Di(o.timestampValue),c=Di(l.timestampValue);return f.seconds===c.seconds&&f.nanos===c.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return Oi(o.bytesValue).isEqual(Oi(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Lt(o.geoPointValue.latitude)===Lt(l.geoPointValue.latitude)&&Lt(o.geoPointValue.longitude)===Lt(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Lt(o.integerValue)===Lt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const f=Lt(o.doubleValue),c=Lt(l.doubleValue);return f===c?bf(f)===bf(c):isNaN(f)&&isNaN(c)}return!1}(r,e);case 9:return Co(r.arrayValue.values||[],e.arrayValue.values||[],ea);case 10:case 11:return function(o,l){const f=o.mapValue.fields||{},c=l.mapValue.fields||{};if(g0(f)!==g0(c))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(c[p]===void 0||!ea(f[p],c[p])))return!1;return!0}(r,e);default:return ze(52216,{left:r})}}function du(r,e){return(r.values||[]).find(n=>ea(n,e))!==void 0}function Do(r,e){if(r===e)return 0;const n=Ii(r),i=Ii(e);if(n!==i)return Qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(r.booleanValue,e.booleanValue);case 2:return function(l,f){const c=Lt(l.integerValue||l.doubleValue),p=Lt(f.integerValue||f.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(r,e);case 3:return v0(r.timestampValue,e.timestampValue);case 4:return v0(fu(r),fu(e));case 5:return rp(r.stringValue,e.stringValue);case 6:return function(l,f){const c=Oi(l),p=Oi(f);return c.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,f){const c=l.split("/"),p=f.split("/");for(let g=0;g<c.length&&g<p.length;g++){const b=Qe(c[g],p[g]);if(b!==0)return b}return Qe(c.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,f){const c=Qe(Lt(l.latitude),Lt(f.latitude));return c!==0?c:Qe(Lt(l.longitude),Lt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return _0(r.arrayValue,e.arrayValue);case 10:return function(l,f){var c,p,g,b;const d=l.fields||{},y=f.fields||{},_=(c=d[Af])===null||c===void 0?void 0:c.arrayValue,v=(p=y[Af])===null||p===void 0?void 0:p.arrayValue,E=Qe(((g=_==null?void 0:_.values)===null||g===void 0?void 0:g.length)||0,((b=v==null?void 0:v.values)===null||b===void 0?void 0:b.length)||0);return E!==0?E:_0(_,v)}(r.mapValue,e.mapValue);case 11:return function(l,f){if(l===Yc.mapValue&&f===Yc.mapValue)return 0;if(l===Yc.mapValue)return 1;if(f===Yc.mapValue)return-1;const c=l.fields||{},p=Object.keys(c),g=f.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let d=0;d<p.length&&d<b.length;++d){const y=rp(p[d],b[d]);if(y!==0)return y;const _=Do(c[p[d]],g[b[d]]);if(_!==0)return _}return Qe(p.length,b.length)}(r.mapValue,e.mapValue);default:throw ze(23264,{Pe:n})}}function v0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qe(r,e);const n=Di(r),i=Di(e),o=Qe(n.seconds,i.seconds);return o!==0?o:Qe(n.nanos,i.nanos)}function _0(r,e){const n=r.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const l=Do(n[o],i[o]);if(l)return l}return Qe(n.length,i.length)}function Oo(r){return ap(r)}function ap(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const i=Di(n);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Oi(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ke.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let i="[",o=!0;for(const l of n.values||[])o?o=!1:i+=",",i+=ap(l);return i+"]"}(r.arrayValue):"mapValue"in r?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const f of i)l?l=!1:o+=",",o+=`${f}:${ap(n.fields[f])}`;return o+"}"}(r.mapValue):ze(61005,{value:r})}function nf(r){switch(Ii(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ff(r);return e?16+nf(e):16;case 5:return 2*r.stringValue.length;case 6:return Oi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+nf(l),0)}(r.arrayValue);case 10:case 11:return function(i){let o=0;return ki(i.fields,(l,f)=>{o+=l.length+nf(f)}),o}(r.mapValue);default:throw ze(13486,{value:r})}}function ip(r){return!!r&&"integerValue"in r}function Qp(r){return!!r&&"arrayValue"in r}function b0(r){return!!r&&"nullValue"in r}function E0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function rf(r){return!!r&&"mapValue"in r}function pO(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[zA])===null||n===void 0?void 0:n.stringValue)===$A}function eu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ki(r.mapValue.fields,(n,i)=>e.mapValue.fields[n]=eu(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function gO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=dn.emptyPath(),i={},o=[];e.forEach((f,c)=>{if(!n.isImmediateParentOf(c)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=c.popLast()}f?i[c.lastSegment()]=eu(f):o.push(c.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,o)}delete(e){const n=this.field(e.popLast());rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ea(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];rf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){ki(n,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Pn(eu(this.value))}}function BA(r){const e=[];return ki(r.fields,(n,i)=>{const o=new dn([n]);if(rf(i)){const l=BA(i.mapValue).fields;if(l.length===0)e.push(o);else for(const f of l)e.push(o.child(f))}else e.push(o)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,i,o,l,f,c){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=l,this.data=f,this.documentState=c}static newInvalidDocument(e){return new An(e,0,Fe.min(),Fe.min(),Fe.min(),Pn.empty(),0)}static newFoundDocument(e,n,i,o){return new An(e,1,n,Fe.min(),i,o,0)}static newNoDocument(e,n){return new An(e,2,n,Fe.min(),Fe.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Fe.min(),Fe.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.position=e,this.inclusive=n}}function A0(r,e,n){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],f=r.position[o];if(l.field.isKeyField()?i=ke.comparator(ke.fromName(f.referenceValue),n.key):i=Do(f,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function w0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ea(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n="asc"){this.field=e,this.dir=n}}function yO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{}class Xt extends FA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new _O(e,n,i):n==="array-contains"?new AO(e,i):n==="in"?new wO(e,i):n==="not-in"?new TO(e,i):n==="array-contains-any"?new SO(e,i):new Xt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new bO(e,i):new EO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&Ii(this.value)===Ii(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ta extends FA{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ta(e,n)}matches(e){return qA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qA(r){return r.op==="and"}function HA(r){return vO(r)&&qA(r)}function vO(r){for(const e of r.filters)if(e instanceof ta)return!1;return!0}function sp(r){if(r instanceof Xt)return r.field.canonicalString()+r.op.toString()+Oo(r.value);if(HA(r))return r.filters.map(e=>sp(e)).join(",");{const e=r.filters.map(n=>sp(n)).join(",");return`${r.op}(${e})`}}function GA(r,e){return r instanceof Xt?function(i,o){return o instanceof Xt&&i.op===o.op&&i.field.isEqual(o.field)&&ea(i.value,o.value)}(r,e):r instanceof ta?function(i,o){return o instanceof ta&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,f,c)=>l&&GA(f,o.filters[c]),!0):!1}(r,e):void ze(19439)}function YA(r){return r instanceof Xt?function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`}(r):r instanceof ta?function(n){return n.op.toString()+" {"+n.getFilters().map(YA).join(" ,")+"}"}(r):"Filter"}class _O extends Xt{constructor(e,n,i){super(e,n,i),this.key=ke.fromName(i.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class bO extends Xt{constructor(e,n){super(e,"in",n),this.keys=QA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class EO extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=QA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QA(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ke.fromName(i.referenceValue))}class AO extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qp(n)&&du(n.arrayValue,this.value)}}class wO extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class TO extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class SO extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>du(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n=null,i=[],o=[],l=null,f=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=f,this.endAt=c,this.Ie=null}}function T0(r,e=null,n=[],i=[],o=null,l=null,f=null){return new RO(r,e,n,i,o,l,f)}function Kp(r){const e=qe(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>sp(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Oo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Oo(i)).join(",")),e.Ie=n}return e.Ie}function Xp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!yO(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!GA(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!w0(r.startAt,e.startAt)&&w0(r.endAt,e.endAt)}function op(r){return ke.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n=null,i=[],o=[],l=null,f="F",c=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=f,this.startAt=c,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function xO(r,e,n,i,o,l,f,c){return new qf(r,e,n,i,o,l,f,c)}function Zp(r){return new qf(r)}function S0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function CO(r){return r.collectionGroup!==null}function tu(r){const e=qe(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let c=new Wt(dn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(c=c.add(g.field))})}),c})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Tf(l,i))}),n.has(dn.keyField().canonicalString())||e.Ee.push(new Tf(dn.keyField(),i))}return e.Ee}function Zr(r){const e=qe(r);return e.de||(e.de=DO(e,tu(r))),e.de}function DO(r,e){if(r.limitType==="F")return T0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Tf(o.field,l)});const n=r.endAt?new wf(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new wf(r.startAt.position,r.startAt.inclusive):null;return T0(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function lp(r,e,n){return new qf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Hf(r,e){return Xp(Zr(r),Zr(e))&&r.limitType===e.limitType}function KA(r){return`${Kp(Zr(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>YA(o)).join(", ")}]`),Bf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>Oo(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>Oo(o)).join(",")),`Target(${i})`}(Zr(r))}; limitType=${r.limitType})`}function Gf(r,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ke.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(r,e)&&function(i,o){for(const l of tu(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(i,o){return!(i.startAt&&!function(f,c,p){const g=A0(f,c,p);return f.inclusive?g<=0:g<0}(i.startAt,tu(i),o)||i.endAt&&!function(f,c,p){const g=A0(f,c,p);return f.inclusive?g>=0:g>0}(i.endAt,tu(i),o))}(r,e)}function OO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function XA(r){return(e,n)=>{let i=!1;for(const o of tu(r)){const l=IO(o,e,n);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function IO(r,e,n){const i=r.field.isKeyField()?ke.comparator(e.key,n.key):function(l,f,c){const p=f.data.field(l),g=c.data.field(l);return p!==null&&g!==null?Do(p,g):ze(42886)}(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return ze(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,(n,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return kA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new Nt(ke.comparator);function Va(){return NO}const ZA=new Nt(ke.comparator);function Kl(...r){let e=ZA;for(const n of r)e=e.insert(n.key,n);return e}function WA(r){let e=ZA;return r.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function gs(){return nu()}function JA(){return nu()}function nu(){return new Ts(r=>r.toString(),(r,e)=>r.isEqual(e))}const MO=new Nt(ke.comparator),kO=new Wt(ke.comparator);function nt(...r){let e=kO;for(const n of r)e=e.add(n);return e}const VO=new Wt(Qe);function PO(){return VO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(e)?"-0":e}}function e1(r){return{integerValue:""+r}}function LO(r,e){return uO(e)?e1(e):Wp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(){this._=void 0}}function jO(r,e,n){return r instanceof Sf?function(o,l){const f={fields:{[LA]:{stringValue:PA},[UA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Yp(l)&&(l=Ff(l)),l&&(f.fields[jA]=l),{mapValue:f}}(n,e):r instanceof mu?n1(r,e):r instanceof pu?r1(r,e):function(o,l){const f=t1(o,l),c=R0(f)+R0(o.Re);return ip(f)&&ip(o.Re)?e1(c):Wp(o.serializer,c)}(r,e)}function UO(r,e,n){return r instanceof mu?n1(r,e):r instanceof pu?r1(r,e):n}function t1(r,e){return r instanceof Rf?function(i){return ip(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Sf extends Yf{}class mu extends Yf{constructor(e){super(),this.elements=e}}function n1(r,e){const n=a1(e);for(const i of r.elements)n.some(o=>ea(o,i))||n.push(i);return{arrayValue:{values:n}}}class pu extends Yf{constructor(e){super(),this.elements=e}}function r1(r,e){let n=a1(e);for(const i of r.elements)n=n.filter(o=>!ea(o,i));return{arrayValue:{values:n}}}class Rf extends Yf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function R0(r){return Lt(r.integerValue||r.doubleValue)}function a1(r){return Qp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function zO(r,e){return r.field.isEqual(e.field)&&function(i,o){return i instanceof mu&&o instanceof mu||i instanceof pu&&o instanceof pu?Co(i.elements,o.elements,ea):i instanceof Rf&&o instanceof Rf?ea(i.Re,o.Re):i instanceof Sf&&o instanceof Sf}(r.transform,e.transform)}class $O{constructor(e,n){this.version=e,this.transformResults=n}}class Sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function af(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Qf{}function i1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Jp(r.key,Sr.none()):new Eu(r.key,r.data,Sr.none());{const n=r.data,i=Pn.empty();let o=new Wt(dn.comparator);for(let l of e.fields)if(!o.has(l)){let f=n.field(l);f===null&&l.length>1&&(l=l.popLast(),f=n.field(l)),f===null?i.delete(l):i.set(l,f),o=o.add(l)}return new Vi(r.key,i,new Xn(o.toArray()),Sr.none())}}function BO(r,e,n){r instanceof Eu?function(o,l,f){const c=o.value.clone(),p=C0(o.fieldTransforms,l,f.transformResults);c.setAll(p),l.convertToFoundDocument(f.version,c).setHasCommittedMutations()}(r,e,n):r instanceof Vi?function(o,l,f){if(!af(o.precondition,l))return void l.convertToUnknownDocument(f.version);const c=C0(o.fieldTransforms,l,f.transformResults),p=l.data;p.setAll(s1(o)),p.setAll(c),l.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,l,f){l.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ru(r,e,n,i){return r instanceof Eu?function(l,f,c,p){if(!af(l.precondition,f))return c;const g=l.value.clone(),b=D0(l.fieldTransforms,p,f);return g.setAll(b),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,i):r instanceof Vi?function(l,f,c,p){if(!af(l.precondition,f))return c;const g=D0(l.fieldTransforms,p,f),b=f.data;return b.setAll(s1(l)),b.setAll(g),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),c===null?null:c.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(d=>d.field))}(r,e,n,i):function(l,f,c){return af(l.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):c}(r,e,n)}function FO(r,e){let n=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=t1(i.transform,o||null);l!=null&&(n===null&&(n=Pn.empty()),n.set(i.field,l))}return n||null}function x0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Co(i,o,(l,f)=>zO(l,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Eu extends Qf{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vi extends Qf{constructor(e,n,i,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function s1(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}}),e}function C0(r,e,n){const i=new Map;pt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const l=r[o],f=l.transform,c=e.data.field(l.field);i.set(l.field,UO(f,c,n[o]))}return i}function D0(r,e,n){const i=new Map;for(const o of r){const l=o.transform,f=n.data.field(o.field);i.set(o.field,jO(l,f,e))}return i}class Jp extends Qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qO extends Qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&BO(l,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ru(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ru(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=JA();return this.mutations.forEach(o=>{const l=e.get(o.key),f=l.overlayedDocument;let c=this.applyToLocalView(f,l.mutatedFields);c=n.has(o.key)?null:c;const p=i1(f,c);p!==null&&i.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Fe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(n,i)=>x0(n,i))&&Co(this.baseMutations,e.baseMutations,(n,i)=>x0(n,i))}}class eg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){pt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return MO}();const l=e.mutations;for(let f=0;f<l.length;f++)o=o.insert(l[f].key,i[f].version);return new eg(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,ot;function QO(r){switch(r){case de.OK:return ze(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return ze(15467,{code:r})}}function o1(r){if(r===void 0)return ka("GRPC error has no .code"),de.UNKNOWN;switch(r){case qt.OK:return de.OK;case qt.CANCELLED:return de.CANCELLED;case qt.UNKNOWN:return de.UNKNOWN;case qt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case qt.INTERNAL:return de.INTERNAL;case qt.UNAVAILABLE:return de.UNAVAILABLE;case qt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case qt.NOT_FOUND:return de.NOT_FOUND;case qt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case qt.ABORTED:return de.ABORTED;case qt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case qt.DATA_LOSS:return de.DATA_LOSS;default:return ze(39323,{code:r})}}(ot=qt||(qt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new Ei([4294967295,4294967295],0);function O0(r){const e=IA().encode(r),n=new wA;return n.update(e),new Uint8Array(n.digest())}function I0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ei([n,i],0),new Ei([o,l],0)]}class tg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(i<0)throw new Xl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ei.fromNumber(this.pe)}we(e,n,i){let o=e.add(n.multiply(Ei.fromNumber(i)));return o.compare(KO)===1&&(o=new Ei([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=O0(e),[i,o]=I0(n);for(let l=0;l<this.hashCount;l++){const f=this.we(i,o,l);if(!this.be(f))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new tg(l,o,n);return i.forEach(c=>f.insert(c)),f}insert(e){if(this.pe===0)return;const n=O0(e),[i,o]=I0(n);for(let l=0;l<this.hashCount;l++){const f=this.we(i,o,l);this.Se(f)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n,i,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Kf(Fe.min(),o,new Nt(Qe),Va(),nt())}}class Au{constructor(e,n,i,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Au(i,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,i,o){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=o}}class l1{constructor(e,n){this.targetId=e,this.Ce=n}}class u1{constructor(e,n,i=mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class N0{constructor(){this.Fe=0,this.Me=M0(),this.xe=mn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=nt(),n=nt(),i=nt();return this.Me.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ze(38017,{changeType:l})}}),new Au(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=M0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,pt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class XO{constructor(e){this.ze=e,this.je=new Map,this.He=Va(),this.Je=Qc(),this.Ye=Qc(),this.Ze=new Nt(Qe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,i=e.Ce.count,o=this._t(n);if(o){const l=o.target;if(op(l))if(i===0){const f=new ke(l.path);this.tt(n,f,An.newNoDocument(f,Fe.min()))}else pt(i===1,20013,{expectedCount:i});else{const f=this.ut(n);if(f!==i){const c=this.ct(e),p=c?this.lt(c,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=n;let f,c;try{f=Oi(i).toUint8Array()}catch(p){if(p instanceof VA)return xo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{c=new tg(f,o,l)}catch(p){return xo(p instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return c.pe===0?null:c}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let o=0;return i.forEach(l=>{const f=this.ze.Pt(),c=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,l,null),o++)}),o}It(e){const n=new Map;this.je.forEach((l,f)=>{const c=this._t(f);if(c){if(l.current&&op(c.target)){const p=new ke(c.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,An.newNoDocument(p,e))}l.Le&&(n.set(f,l.qe()),l.Qe())}});let i=nt();this.Ye.forEach((l,f)=>{let c=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(l))}),this.He.forEach((l,f)=>f.setReadTime(e));const o=new Kf(e,n,this.Ze,this.He,i);return this.He=Va(),this.Je=Qc(),this.Ye=Qc(),this.Ze=new Nt(Qe),o}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new N0,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Wt(Qe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Wt(Qe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new N0),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Qc(){return new Nt(ke.comparator)}function M0(){return new Nt(ke.comparator)}const ZO={asc:"ASCENDING",desc:"DESCENDING"},WO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JO={and:"AND",or:"OR"};class eI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function up(r,e){return r.useProto3Json||Bf(e)?e:{value:e}}function xf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function tI(r,e){return xf(r,e.toTimestamp())}function Wr(r){return pt(!!r,49232),Fe.fromTimestamp(function(n){const i=Di(n);return new Zt(i.seconds,i.nanos)}(r))}function ng(r,e){return cp(r,e).canonicalString()}function cp(r,e){const n=function(o){return new Ot(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function f1(r){const e=Ot.fromString(r);return pt(g1(e),10190,{key:e.toString()}),e}function fp(r,e){return ng(r.databaseId,e.path)}function wm(r,e){const n=f1(e);if(n.get(1)!==r.databaseId.projectId)throw new Ne(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ne(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ke(d1(n))}function h1(r,e){return ng(r.databaseId,e)}function nI(r){const e=f1(r);return e.length===4?Ot.emptyPath():d1(e)}function hp(r){return new Ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function d1(r){return pt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function k0(r,e,n){return{name:fp(r,e),fields:n.value.mapValue.fields}}function rI(r,e){let n;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ze(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,b){return g.useProto3Json?(pt(b===void 0||typeof b=="string",58123),mn.fromBase64String(b||"")):(pt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),mn.fromUint8Array(b||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,c=f&&function(g){const b=g.code===void 0?de.UNKNOWN:o1(g.code);return new Ne(b,g.message||"")}(f);n=new u1(i,o,l,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=wm(r,i.document.name),l=Wr(i.document.updateTime),f=i.document.createTime?Wr(i.document.createTime):Fe.min(),c=new Pn({mapValue:{fields:i.document.fields}}),p=An.newFoundDocument(o,l,f,c),g=i.targetIds||[],b=i.removedTargetIds||[];n=new sf(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=wm(r,i.document),l=i.readTime?Wr(i.readTime):Fe.min(),f=An.newNoDocument(o,l),c=i.removedTargetIds||[];n=new sf([],c,f.key,f)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=wm(r,i.document),l=i.removedTargetIds||[];n=new sf([],l,o,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,f=new YO(o,l),c=i.targetId;n=new l1(c,f)}}return n}function aI(r,e){let n;if(e instanceof Eu)n={update:k0(r,e.key,e.value)};else if(e instanceof Jp)n={delete:fp(r,e.key)};else if(e instanceof Vi)n={update:k0(r,e.key,e.data),updateMask:dI(e.fieldMask)};else{if(!(e instanceof qO))return ze(16599,{ft:e.type});n={verify:fp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,f){const c=f.transform;if(c instanceof Sf)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof mu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof pu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Rf)return{fieldPath:f.field.canonicalString(),increment:c.Re};throw ze(20930,{transform:f.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:tI(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ze(27497)}(r,e.precondition)),n}function iI(r,e){return r&&r.length>0?(pt(e!==void 0,14353),r.map(n=>function(o,l){let f=o.updateTime?Wr(o.updateTime):Wr(l);return f.isEqual(Fe.min())&&(f=Wr(l)),new $O(f,o.transformResults||[])}(n,e))):[]}function sI(r,e){return{documents:[h1(r,e.path)]}}function oI(r,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=h1(r,o);const l=function(g){if(g.length!==0)return p1(ta.create(g,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const f=function(g){if(g.length!==0)return g.map(b=>function(y){return{field:go(y.field),direction:cI(y.dir)}}(b))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const c=up(r,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function lI(r){let e=nI(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){pt(i===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let l=[];n.where&&(l=function(d){const y=m1(d);return y instanceof ta&&HA(y)?y.getFilters():[y]}(n.where));let f=[];n.orderBy&&(f=function(d){return d.map(y=>function(v){return new Tf(yo(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(d){let y;return y=typeof d=="object"?d.value:d,Bf(y)?null:y}(n.limit));let p=null;n.startAt&&(p=function(d){const y=!!d.before,_=d.values||[];return new wf(_,y)}(n.startAt));let g=null;return n.endAt&&(g=function(d){const y=!d.before,_=d.values||[];return new wf(_,y)}(n.endAt)),xO(e,o,f,l,c,"F",p,g)}function uI(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function m1(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=yo(n.unaryFilter.field);return Xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(n.unaryFilter.field);return Xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=yo(n.unaryFilter.field);return Xt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=yo(n.unaryFilter.field);return Xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(r):r.fieldFilter!==void 0?function(n){return Xt.create(yo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ta.create(n.compositeFilter.filters.map(i=>m1(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(n.compositeFilter.op))}(r):ze(30097,{filter:r})}function cI(r){return ZO[r]}function fI(r){return WO[r]}function hI(r){return JO[r]}function go(r){return{fieldPath:r.canonicalString()}}function yo(r){return dn.fromServerFormat(r.fieldPath)}function p1(r){return r instanceof Xt?function(n){if(n.op==="=="){if(E0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(b0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(b0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:fI(n.op),value:n.value}}}(r):r instanceof ta?function(n){const i=n.getFilters().map(o=>p1(o));return i.length===1?i[0]:{compositeFilter:{op:hI(n.op),filters:i}}}(r):ze(54877,{filter:r})}function dI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function g1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,i,o,l=Fe.min(),f=Fe.min(),c=mn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=c,this.expectedCount=p}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.wt=e}}function pI(r){const e=lI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.yn=new yI}addToCollectionParentIndex(e,n){return this.yn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Ci.min())}updateCollectionGroup(e,n,i){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class yI{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Wt(Ot.comparator),l=!o.has(i);return this.index[n]=o.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Wt(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y1=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(y1,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Io(0)}static ir(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="LruGarbageCollector",vI=1048576;function L0([r,e],[n,i]){const o=Qe(r,n);return o===0?Qe(e,i):o}class _I{constructor(e){this.cr=e,this.buffer=new Wt(L0),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();L0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bI{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ee(P0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?Ee(P0,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Ir(3e5)})}}class EI{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return fe.resolve($f.le);const i=new _I(n);return this.Er.forEachTarget(e,o=>i.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>i.Pr(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Er.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(V0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V0):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let i,o,l,f,c,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),o=this.params.maximumSequenceNumbersToCollect):o=d,f=Date.now(),this.nthSequenceNumber(e,o))).next(d=>(i=d,c=Date.now(),this.removeTargets(e,i,n))).next(d=>(l=d,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(g=Date.now(),mo()<=lt.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(c-f)+`ms
	Removed ${l} targets in `+(p-c)+`ms
	Removed ${d} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:d})))}}function AI(r,e){return new EI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.changes=new Ts(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?fe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&ru(i.mutation,o,Xn.empty(),Zt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,nt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=nt()){const o=gs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(l=>{let f=Kl();return l.forEach((c,p)=>{f=f.insert(c,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const i=gs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,nt()))}populateOverlays(e,n,i){const o=[];return i.forEach(l=>{n.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((f,c)=>{n.set(f,c)})})}computeViews(e,n,i,o){let l=Va();const f=nu(),c=function(){return nu()}();return n.forEach((p,g)=>{const b=i.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof Vi)?l=l.insert(g.key,g):b!==void 0?(f.set(g.key,b.mutation.getFieldMask()),ru(b.mutation,g,b.mutation.getFieldMask(),Zt.now())):f.set(g.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,b)=>f.set(g,b)),n.forEach((g,b)=>{var d;return c.set(g,new TI(b,(d=f.get(g))!==null&&d!==void 0?d:null))}),c))}recalculateAndSaveOverlays(e,n){const i=nu();let o=new Nt((f,c)=>f-c),l=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const c of f)c.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let b=i.get(p)||Xn.empty();b=c.applyToLocalView(g,b),i.set(p,b);const d=(o.get(c.batchId)||nt()).add(p);o=o.insert(c.batchId,d)})}).next(()=>{const f=[],c=o.getReverseIterator();for(;c.hasNext();){const p=c.getNext(),g=p.key,b=p.value,d=JA();b.forEach(y=>{if(!l.has(y)){const _=i1(n.get(y),i.get(y));_!==null&&d.set(y,_),l=l.add(y)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,d))}return fe.waitFor(f)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(f){return ke.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(l=>{const f=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-l.size):fe.resolve(gs());let c=cu,p=l;return f.next(g=>fe.forEach(g,(b,d)=>(c<d.largestBatchId&&(c=d.largestBatchId),l.get(b)?fe.resolve():this.remoteDocumentCache.getEntry(e,b).next(y=>{p=p.insert(b,y)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,nt())).next(b=>({batchId:c,changes:WA(b)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next(i=>{let o=Kl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const l=n.collectionGroup;let f=Kl();return this.indexManager.getCollectionParents(e,l).next(c=>fe.forEach(c,p=>{const g=function(d,y){return new qf(y,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(b=>{b.forEach((d,y)=>{f=f.insert(d,y)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,o))).next(f=>{l.forEach((p,g)=>{const b=g.getKey();f.get(b)===null&&(f=f.insert(b,An.newInvalidDocument(b)))});let c=Kl();return f.forEach((p,g)=>{const b=l.get(p);b!==void 0&&ru(b.mutation,g,Xn.empty(),Zt.now()),Gf(n,g)&&(c=c.insert(p,g))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Wr(o.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:pI(o.bundledQuery),readTime:Wr(o.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.overlays=new Nt(ke.comparator),this.Or=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=gs();return fe.forEach(n,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,l)=>{this.St(e,n,l)}),fe.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Or.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(i)),fe.resolve()}getOverlaysForCollection(e,n,i){const o=gs(),l=n.length+1,f=new ke(n.child("")),c=this.overlays.getIteratorFrom(f);for(;c.hasNext();){const p=c.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let l=new Nt((g,b)=>g-b);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let b=l.get(g.largestBatchId);b===null&&(b=gs(),l=l.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const c=gs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,b)=>c.set(g,b)),!(c.size()>=o)););return fe.resolve(c)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(i.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new GO(n,i));let l=this.Or.get(n);l===void 0&&(l=nt(),this.Or.set(n,l)),this.Or.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.Nr=new Wt(an.Br),this.Lr=new Wt(an.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const i=new an(e,n);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Qr(new an(e,n))}$r(e,n){e.forEach(i=>this.removeReference(i,n))}Ur(e){const n=new ke(new Ot([])),i=new an(n,e),o=new an(n,e+1),l=[];return this.Lr.forEachInRange([i,o],f=>{this.Qr(f),l.push(f.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ke(new Ot([])),i=new an(n,e),o=new an(n,e+1);let l=nt();return this.Lr.forEachInRange([i,o],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new an(e,0),i=this.Nr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class an{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ke.comparator(e.key,n.key)||Qe(e.Gr,n.Gr)}static kr(e,n){return Qe(e.Gr,n.Gr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Wt(an.Br)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new HO(l,n,i,o);this.mutationQueue.push(f);for(const c of o)this.zr=this.zr.add(new an(c.key,l)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return fe.resolve(f)}lookupMutationBatch(e,n){return fe.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Hr(i),l=o<0?0:o;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Gp:this.Jn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new an(n,0),o=new an(n,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([i,o],f=>{const c=this.jr(f.Gr);l.push(c)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Wt(Qe);return n.forEach(o=>{const l=new an(o,0),f=new an(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,f],c=>{i=i.add(c.Gr)})}),fe.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let l=i;ke.isDocumentKey(l)||(l=l.child(""));const f=new an(new ke(l),0);let c=new Wt(Qe);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(c=c.add(p.Gr)),!0)},f),fe.resolve(this.Jr(c))}Jr(e){const n=[];return e.forEach(i=>{const o=this.jr(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){pt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return fe.forEach(n.mutations,o=>{const l=new an(o.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,n){const i=new an(n,0),o=this.zr.firstAfterOrEqual(i);return fe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.Zr=e,this.docs=function(){return new Nt(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),l=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return fe.resolve(i?i.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let i=Va();return n.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():An.newInvalidDocument(o))}),fe.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let l=Va();const f=n.path,c=new ke(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(c);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||iO(aO(b),i)<=0||(o.has(b.key)||Gf(n,b))&&(l=l.insert(b.key,b.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,n,i,o){ze(9500)}Xr(e,n){return fe.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new II(this)}getSize(e){return fe.resolve(this.size)}}class II extends wI{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(e,o)):this.vr.removeEntry(i)}),fe.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.persistence=e,this.ei=new Ts(n=>Kp(n),Xp),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ti=0,this.ni=new rg,this.targetCount=0,this.ri=Io.rr()}forEachTarget(e,n){return this.ei.forEach((i,o)=>n(o)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ti&&(this.ti=n),fe.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.ar(n),fe.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,i){let o=0;const l=[];return this.ei.forEach((f,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.ei.delete(f),l.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),fe.waitFor(l).next(()=>o)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const i=this.ei.get(n)||null;return fe.resolve(i)}addMatchingKeys(e,n,i){return this.ni.qr(n,i),fe.resolve()}removeMatchingKeys(e,n,i){this.ni.$r(n,i);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach(f=>{l.push(o.markPotentiallyOrphaned(e,f))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ni.Wr(n);return fe.resolve(i)}containsKey(e,n){return fe.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.ii={},this.overlays={},this.si=new $f(0),this.oi=!1,this.oi=!0,this._i=new CI,this.referenceDelegate=e(this),this.ai=new NI(this),this.indexManager=new gI,this.remoteDocumentCache=function(o){return new OI(o)}(i=>this.referenceDelegate.ui(i)),this.serializer=new mI(n),this.ci=new RI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ii[e.toKey()];return i||(i=new DI(n,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,i){Ee("MemoryPersistence","Starting transaction:",e);const o=new MI(this.si.next());return this.referenceDelegate.li(),i(o).next(l=>this.referenceDelegate.hi(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Pi(e,n){return fe.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,n)))}}class MI extends oO{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Ti=new rg,this.Ii=null}static Ei(e){return new ag(e)}get di(){if(this.Ii)return this.Ii;throw ze(60996)}addReference(e,n,i){return this.Ti.addReference(i,n),this.di.delete(i.toString()),fe.resolve()}removeReference(e,n,i){return this.Ti.removeReference(i,n),this.di.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(l=>this.di.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,i=>{const o=ke.fromPath(i);return this.Ai(e,o).next(l=>{l||n.removeEntry(o,Fe.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return fe.or([()=>fe.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Cf{constructor(e,n){this.persistence=e,this.Ri=new Ts(i=>cO(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=AI(this,n)}static Ei(e,n){return new Cf(e,n)}li(){}hi(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}Vr(e){let n=0;return this.Ar(e,i=>{n++}).next(()=>n)}Ar(e,n){return fe.forEach(this.Ri,(i,o)=>this.gr(e,i,o).next(l=>l?fe.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,n).next(c=>{c||(i++,l.removeEntry(f,Fe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),fe.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nf(e.data.value)),n}gr(e,n,i){return fe.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.Ri.get(n);return fe.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.ls=i,this.hs=o}static Ps(e,n){let i=nt(),o=nt();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ig(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return OC()?8:lO(CC())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,i,o){const l={result:null};return this.Rs(e,n).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.Vs(e,n,o,i).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new kI;return this.fs(e,n,f).next(c=>{if(l.result=c,this.Is)return this.gs(e,n,f,c.size)})}).next(()=>l.result)}gs(e,n,i,o){return i.documentReadCount<this.Es?(mo()<=lt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),fe.resolve()):(mo()<=lt.DEBUG&&Ee("QueryEngine","Query:",po(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(mo()<=lt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(n))):fe.resolve())}Rs(e,n){if(S0(n))return fe.resolve(null);let i=Zr(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=lp(n,null,"F"),i=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const f=nt(...l);return this.As.getDocuments(e,f).next(c=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.ps(n,c);return this.ys(n,g,f,p.readTime)?this.Rs(e,lp(n,null,"F")):this.ws(e,g,n,p)}))})))}Vs(e,n,i,o){return S0(n)||o.isEqual(Fe.min())?fe.resolve(null):this.As.getDocuments(e,i).next(l=>{const f=this.ps(n,l);return this.ys(n,f,i,o)?fe.resolve(null):(mo()<=lt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(n)),this.ws(e,f,n,rO(o,cu)).next(c=>c))})}ps(e,n){let i=new Wt(XA(e));return n.forEach((o,l)=>{Gf(e,l)&&(i=i.add(l))}),i}ys(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}fs(e,n,i){return mo()<=lt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",po(n)),this.As.getDocumentsMatchingQuery(e,n,Ci.min(),i)}ws(e,n,i,o){return this.As.getDocumentsMatchingQuery(e,i,o).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="LocalStore",PI=3e8;class LI{constructor(e,n,i,o){this.persistence=e,this.bs=n,this.serializer=o,this.Ss=new Nt(Qe),this.Ds=new Ts(l=>Kp(l),Xp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SI(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function jI(r,e,n,i){return new LI(r,e,n,i)}async function _1(r,e){const n=qe(r);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,n.Fs(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const f=[],c=[];let p=nt();for(const g of o){f.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of l){c.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(i,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:c}))})})}function UI(r,e){const n=qe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=n.Cs.newChangeBuffer({trackRemovals:!0});return function(c,p,g,b){const d=g.batch,y=d.keys();let _=fe.resolve();return y.forEach(v=>{_=_.next(()=>b.getEntry(p,v)).next(E=>{const S=g.docVersions.get(v);pt(S!==null,48541),E.version.compareTo(S)<0&&(d.applyToRemoteDocument(E,g),E.isValidDocument()&&(E.setReadTime(g.commitVersion),b.addEntry(E)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(p,d))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let p=nt();for(let g=0;g<c.mutationResults.length;++g)c.mutationResults[g].transformResults.length>0&&(p=p.add(c.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function b1(r){const e=qe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function zI(r,e){const n=qe(r),i=e.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const c=[];e.targetChanges.forEach((b,d)=>{const y=o.get(d);if(!y)return;c.push(n.ai.removeMatchingKeys(l,b.removedDocuments,d).next(()=>n.ai.addMatchingKeys(l,b.addedDocuments,d)));let _=y.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(d)!==null?_=_.withResumeToken(mn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):b.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(b.resumeToken,i)),o=o.insert(d,_),function(E,S,A){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=PI?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(y,_,b)&&c.push(n.ai.updateTargetData(l,_))});let p=Va(),g=nt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(l,b))}),c.push($I(l,f,e.documentUpdates).next(b=>{p=b.xs,g=b.Os})),!i.isEqual(Fe.min())){const b=n.ai.getLastRemoteSnapshotVersion(l).next(d=>n.ai.setTargetsMetadata(l,l.currentSequenceNumber,i));c.push(b)}return fe.waitFor(c).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(n.Ss=o,l))}function $I(r,e,n){let i=nt(),o=nt();return n.forEach(l=>i=i.add(l)),e.getEntries(r,i).next(l=>{let f=Va();return n.forEach((c,p)=>{const g=l.get(c);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(c)),p.isNoDocument()&&p.version.isEqual(Fe.min())?(e.removeEntry(c,p.readTime),f=f.insert(c,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(c,p)):Ee(sg,"Ignoring outdated watch update for ",c,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function BI(r,e){const n=qe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Gp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function FI(r,e){const n=qe(r);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.ai.getTargetData(i,e).next(l=>l?(o=l,fe.resolve(o)):n.ai.allocateTargetId(i).next(f=>(o=new vi(e,f,"TargetPurposeListen",i.currentSequenceNumber),n.ai.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.Ss.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(i.targetId,i),n.Ds.set(e,i.targetId)),i})}async function dp(r,e,n){const i=qe(r),o=i.Ss.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,f=>i.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Uo(f))throw f;Ee(sg,`Failed to update sequence numbers for target ${e}: ${f}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(o.target)}function j0(r,e,n){const i=qe(r);let o=Fe.min(),l=nt();return i.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,b){const d=qe(p),y=d.Ds.get(b);return y!==void 0?fe.resolve(d.Ss.get(y)):d.ai.getTargetData(g,b)}(i,f,Zr(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(f,c.targetId).next(p=>{l=p})}).next(()=>i.bs.getDocumentsMatchingQuery(f,e,n?o:Fe.min(),n?l:nt())).next(c=>(qI(i,OO(e),c),{documents:c,Ns:l})))}function qI(r,e,n){let i=r.vs.get(e)||Fe.min();n.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),r.vs.set(e,i)}class U0{constructor(){this.activeTargetIds=PO()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HI{constructor(){this.So=new U0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,i){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new U0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="ConnectivityMonitor";class $0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ee(z0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ee(z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc=null;function mp(){return Kc===null?Kc=function(){return 268435456+Math.round(2147483648*Math.random())}():Kc++,"0x"+Kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="RestConnection",YI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QI{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${i}/databases/${o}`,this.qo=this.databaseId.database===Ef?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Qo(e,n,i,o,l){const f=mp(),c=this.$o(e,n.toUriEncodedString());Ee(Tm,`Sending RPC '${e}' ${f}:`,c,i);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,l),this.Ko(e,c,p,i).then(g=>(Ee(Tm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw xo(Tm,`RPC '${e}' ${f} failed with error: `,g,"url: ",c,"request:",i),g})}Wo(e,n,i,o,l,f){return this.Qo(e,n,i,o,l)}Uo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}$o(e,n){const i=YI[e];return`${this.Lo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class XI extends QI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,i,o){const l=mp();return new Promise((f,c)=>{const p=new TA;p.setWithCredentials(!0),p.listenOnce(SA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case tf.NO_ERROR:const b=p.getResponseJson();Ee(bn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(b)),f(b);break;case tf.TIMEOUT:Ee(bn,`RPC '${e}' ${l} timed out`),c(new Ne(de.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:const d=p.getStatus();if(Ee(bn,`RPC '${e}' ${l} failed with status:`,d,"response text:",p.getResponseText()),d>0){let y=p.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const v=function(S){const A=S.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(A)>=0?A:de.UNKNOWN}(_.status);c(new Ne(v,_.message))}else c(new Ne(de.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Ne(de.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{s_:e,streamId:l,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{Ee(bn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);Ee(bn,`RPC '${e}' ${l} sending request:`,o),p.send(n,"POST",g,i,15)})}a_(e,n,i){const o=mp(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=CA(),c=xA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const b=l.join("");Ee(bn,`Creating RPC '${e}' stream ${o}: ${b}`,p);const d=f.createWebChannel(b,p);let y=!1,_=!1;const v=new KI({Go:S=>{_?Ee(bn,`Not sending because RPC '${e}' stream ${o} is closed:`,S):(y||(Ee(bn,`Opening RPC '${e}' stream ${o} transport.`),d.open(),y=!0),Ee(bn,`RPC '${e}' stream ${o} sending:`,S),d.send(S))},zo:()=>d.close()}),E=(S,A,R)=>{S.listen(A,D=>{try{R(D)}catch(k){setTimeout(()=>{throw k},0)}})};return E(d,Ql.EventType.OPEN,()=>{_||(Ee(bn,`RPC '${e}' stream ${o} transport opened.`),v.t_())}),E(d,Ql.EventType.CLOSE,()=>{_||(_=!0,Ee(bn,`RPC '${e}' stream ${o} transport closed`),v.r_())}),E(d,Ql.EventType.ERROR,S=>{_||(_=!0,xo(bn,`RPC '${e}' stream ${o} transport errored. Name:`,S.name,"Message:",S.message),v.r_(new Ne(de.UNAVAILABLE,"The operation could not be completed")))}),E(d,Ql.EventType.MESSAGE,S=>{var A;if(!_){const R=S.data[0];pt(!!R,16349);const D=R,k=(D==null?void 0:D.error)||((A=D[0])===null||A===void 0?void 0:A.error);if(k){Ee(bn,`RPC '${e}' stream ${o} received error:`,k);const V=k.status;let P=function(x){const O=qt[x];if(O!==void 0)return o1(O)}(V),I=k.message;P===void 0&&(P=de.INTERNAL,I="Unknown error status: "+V+" with message "+k.message),_=!0,v.r_(new Ne(P,I)),d.close()}else Ee(bn,`RPC '${e}' stream ${o} received:`,R),v.i_(R)}}),E(c,RA.STAT_EVENT,S=>{S.stat===np.PROXY?Ee(bn,`RPC '${e}' stream ${o} detected buffering proxy`):S.stat===np.NOPROXY&&Ee(bn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{v.n_()},0),v}}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(r){return new eI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n,i=1e3,o=1.5,l=6e4){this.bi=e,this.timerId=n,this.u_=i,this.c_=o,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-i);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="PersistentStream";class A1{constructor(e,n,i,o,l,f,c,p){this.bi=e,this.R_=i,this.V_=o,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=c,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new E1(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(ka(n.toString()),ka("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.m_===n&&this.B_(i,o)},i=>{e(()=>{const o=new Ne(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(o)})})}B_(e,n){const i=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{i(()=>this.L_(o))}),this.stream.onMessage(o=>{i(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ee(B0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(Ee(B0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZI extends A1{constructor(e,n,i,o,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,f),this.serializer=l}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=rI(this.serializer,e),i=function(l){if(!("targetChange"in l))return Fe.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?Fe.min():f.readTime?Wr(f.readTime):Fe.min()}(e);return this.listener.Q_(n,i)}U_(e){const n={};n.database=hp(this.serializer),n.addTarget=function(l,f){let c;const p=f.target;if(c=op(p)?{documents:sI(l,p)}:{query:oI(l,p).gt},c.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){c.resumeToken=c1(l,f.resumeToken);const g=up(l,f.expectedCount);g!==null&&(c.expectedCount=g)}else if(f.snapshotVersion.compareTo(Fe.min())>0){c.readTime=xf(l,f.snapshotVersion.toTimestamp());const g=up(l,f.expectedCount);g!==null&&(c.expectedCount=g)}return c}(this.serializer,e);const i=uI(this.serializer,e);i&&(n.labels=i),this.F_(n)}K_(e){const n={};n.database=hp(this.serializer),n.removeTarget=e,this.F_(n)}}class WI extends A1{constructor(e,n,i,o,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,f),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=iI(e.writeResults,e.commitTime),i=Wr(e.commitTime);return this.listener.j_(i,n)}H_(){const e={};e.database=hp(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>aI(this.serializer,i))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{}class e4 extends JI{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new Ne(de.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.Qo(e,cp(n,i),o,l,f)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ne(de.UNKNOWN,l.toString())})}Wo(e,n,i,o,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,c])=>this.connection.Wo(e,cp(n,i),o,f,c,l)).catch(f=>{throw f.name==="FirebaseError"?(f.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ne(de.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class t4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ka(n),this.ea=!1):Ee("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="RemoteStore";class n4{constructor(e,n,i,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(f=>{i.enqueueAndForget(async()=>{Ss(this)&&(Ee(bs,"Restarting streams for network reachability change."),await async function(p){const g=qe(p);g.aa.add(4),await wu(g),g.la.set("Unknown"),g.aa.delete(4),await Zf(g)}(this))})}),this.la=new t4(i,o)}}async function Zf(r){if(Ss(r))for(const e of r.ua)await e(!0)}async function wu(r){for(const e of r.ua)await e(!1)}function w1(r,e){const n=qe(r);n._a.has(e.targetId)||(n._a.set(e.targetId,e),cg(n)?ug(n):zo(n).b_()&&lg(n,e))}function og(r,e){const n=qe(r),i=zo(n);n._a.delete(e),i.b_()&&T1(n,e),n._a.size===0&&(i.b_()?i.v_():Ss(n)&&n.la.set("Unknown"))}function lg(r,e){if(r.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(r).U_(e)}function T1(r,e){r.ha.Ke(e),zo(r).K_(e)}function ug(r){r.ha=new XO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r._a.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),zo(r).start(),r.la.ta()}function cg(r){return Ss(r)&&!zo(r).w_()&&r._a.size>0}function Ss(r){return qe(r).aa.size===0}function S1(r){r.ha=void 0}async function r4(r){r.la.set("Online")}async function a4(r){r._a.forEach((e,n)=>{lg(r,e)})}async function i4(r,e){S1(r),cg(r)?(r.la.ia(e),ug(r)):r.la.set("Unknown")}async function s4(r,e,n){if(r.la.set("Online"),e instanceof u1&&e.state===2&&e.cause)try{await async function(o,l){const f=l.cause;for(const c of l.targetIds)o._a.has(c)&&(await o.remoteSyncer.rejectListen(c,f),o._a.delete(c),o.ha.removeTarget(c))}(r,e)}catch(i){Ee(bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Df(r,i)}else if(e instanceof sf?r.ha.Xe(e):e instanceof l1?r.ha.ot(e):r.ha.nt(e),!n.isEqual(Fe.min()))try{const i=await b1(r.localStore);n.compareTo(i)>=0&&await function(l,f){const c=l.ha.It(f);return c.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=l._a.get(g);b&&l._a.set(g,b.withResumeToken(p.resumeToken,f))}}),c.targetMismatches.forEach((p,g)=>{const b=l._a.get(p);if(!b)return;l._a.set(p,b.withResumeToken(mn.EMPTY_BYTE_STRING,b.snapshotVersion)),T1(l,p);const d=new vi(b.target,p,g,b.sequenceNumber);lg(l,d)}),l.remoteSyncer.applyRemoteEvent(c)}(r,n)}catch(i){Ee(bs,"Failed to raise snapshot:",i),await Df(r,i)}}async function Df(r,e,n){if(!Uo(e))throw e;r.aa.add(1),await wu(r),r.la.set("Offline"),n||(n=()=>b1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ee(bs,"Retrying IndexedDB access"),await n(),r.aa.delete(1),await Zf(r)})}function R1(r,e){return e().catch(n=>Df(r,n,e))}async function Wf(r){const e=qe(r),n=Ni(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Gp;for(;o4(e);)try{const o=await BI(e.localStore,i);if(o===null){e.oa.length===0&&n.v_();break}i=o.batchId,l4(e,o)}catch(o){await Df(e,o)}x1(e)&&C1(e)}function o4(r){return Ss(r)&&r.oa.length<10}function l4(r,e){r.oa.push(e);const n=Ni(r);n.b_()&&n.W_&&n.G_(e.mutations)}function x1(r){return Ss(r)&&!Ni(r).w_()&&r.oa.length>0}function C1(r){Ni(r).start()}async function u4(r){Ni(r).H_()}async function c4(r){const e=Ni(r);for(const n of r.oa)e.G_(n.mutations)}async function f4(r,e,n){const i=r.oa.shift(),o=eg.from(i,e,n);await R1(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Wf(r)}async function h4(r,e){e&&Ni(r).W_&&await async function(i,o){if(function(f){return QO(f)&&f!==de.ABORTED}(o.code)){const l=i.oa.shift();Ni(i).D_(),await R1(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Wf(i)}}(r,e),x1(r)&&C1(r)}async function F0(r,e){const n=qe(r);n.asyncQueue.verifyOperationInProgress(),Ee(bs,"RemoteStore received new credentials");const i=Ss(n);n.aa.add(3),await wu(n),i&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Zf(n)}async function d4(r,e){const n=qe(r);e?(n.aa.delete(2),await Zf(n)):e||(n.aa.add(2),await wu(n),n.la.set("Unknown"))}function zo(r){return r.Pa||(r.Pa=function(n,i,o){const l=qe(n);return l.Y_(),new ZI(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{jo:r4.bind(null,r),Jo:a4.bind(null,r),Zo:i4.bind(null,r),Q_:s4.bind(null,r)}),r.ua.push(async e=>{e?(r.Pa.D_(),cg(r)?ug(r):r.la.set("Unknown")):(await r.Pa.stop(),S1(r))})),r.Pa}function Ni(r){return r.Ta||(r.Ta=function(n,i,o){const l=qe(n);return l.Y_(),new WI(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:u4.bind(null,r),Zo:h4.bind(null,r),z_:c4.bind(null,r),j_:f4.bind(null,r)}),r.ua.push(async e=>{e?(r.Ta.D_(),await Wf(r)):(await r.Ta.stop(),r.oa.length>0&&(Ee(bs,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,i,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,l){const f=Date.now()+i,c=new fg(e,n,f,o,l);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(r,e){if(ka("AsyncQueue",`${e}: ${r}`),Uo(r))return new Ne(de.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ke.comparator(n.key,i.key):(n,i)=>ke.comparator(n.key,i.key),this.keyedMap=Kl(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new wo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.Ia=new Nt(ke.comparator)}track(e){const n=e.doc.key,i=this.Ia.get(n);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(n):e.type===1&&i.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):ze(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,i)=>{e.push(i)}),e}}class No{constructor(e,n,i,o,l,f,c,p,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=c,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,o,l){const f=[];return n.forEach(c=>{f.push({type:0,doc:c})}),new No(e,n,wo.emptySet(n),f,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class p4{constructor(){this.queries=H0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,i){const o=qe(n),l=o.queries;o.queries=H0(),l.forEach((f,c)=>{for(const p of c.Ra)p.onError(i)})})(this,new Ne(de.ABORTED,"Firestore shutting down"))}}function H0(){return new Ts(r=>KA(r),Hf)}async function D1(r,e){const n=qe(r);let i=3;const o=e.query;let l=n.queries.get(o);l?!l.Va()&&e.ma()&&(i=2):(l=new m4,i=e.ma()?0:1);try{switch(i){case 0:l.Aa=await n.onListen(o,!0);break;case 1:l.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const c=hg(f,`Initialization of query '${po(e.query)}' failed`);return void e.onError(c)}n.queries.set(o,l),l.Ra.push(e),e.ga(n.onlineState),l.Aa&&e.pa(l.Aa)&&dg(n)}async function O1(r,e){const n=qe(r),i=e.query;let o=3;const l=n.queries.get(i);if(l){const f=l.Ra.indexOf(e);f>=0&&(l.Ra.splice(f,1),l.Ra.length===0?o=e.ma()?0:1:!l.Va()&&e.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function g4(r,e){const n=qe(r);let i=!1;for(const o of e){const l=o.query,f=n.queries.get(l);if(f){for(const c of f.Ra)c.pa(o)&&(i=!0);f.Aa=o}}i&&dg(n)}function y4(r,e,n){const i=qe(r),o=i.queries.get(e);if(o)for(const l of o.Ra)l.onError(n);i.queries.delete(e)}function dg(r){r.fa.forEach(e=>{e.next()})}var pp,G0;(G0=pp||(pp={})).ya="default",G0.Cache="cache";class I1{constructor(e,n,i){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new No(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const i=n!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.key=e}}class M1{constructor(e){this.key=e}}class v4{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=nt(),this.mutatedKeys=nt(),this.Ua=XA(e),this.Ka=new wo(this.Ua)}get Wa(){return this.qa}Ga(e,n){const i=n?n.za:new q0,o=n?n.Ka:this.Ka;let l=n?n.mutatedKeys:this.mutatedKeys,f=o,c=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,d)=>{const y=o.get(b),_=Gf(this.query,d)?d:null,v=!!y&&this.mutatedKeys.has(y.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let S=!1;y&&_?y.data.isEqual(_.data)?v!==E&&(i.track({type:3,doc:_}),S=!0):this.ja(y,_)||(i.track({type:2,doc:_}),S=!0,(p&&this.Ua(_,p)>0||g&&this.Ua(_,g)<0)&&(c=!0)):!y&&_?(i.track({type:0,doc:_}),S=!0):y&&!_&&(i.track({type:1,doc:y}),S=!0,(p||g)&&(c=!0)),S&&(_?(f=f.add(_),l=E?l.add(b):l.delete(b)):(f=f.delete(b),l=l.delete(b)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),l=l.delete(b.key),i.track({type:1,doc:b})}return{Ka:f,za:i,ys:c,mutatedKeys:l}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((b,d)=>function(_,v){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:S})}};return E(_)-E(v)}(b.type,d.type)||this.Ua(b.doc,d.doc)),this.Ha(i),o=o!=null&&o;const c=n&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new No(this.query,e.Ka,l,f,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new q0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=nt(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const n=[];return e.forEach(i=>{this.$a.has(i)||n.push(new M1(i))}),this.$a.forEach(i=>{e.has(i)||n.push(new N1(i))}),n}Xa(e){this.qa=e.Ns,this.$a=nt();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return No.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const mg="SyncEngine";class _4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class b4{constructor(e){this.key=e,this.tu=!1}}class E4{constructor(e,n,i,o,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Ts(c=>KA(c),Hf),this.iu=new Map,this.su=new Set,this.ou=new Nt(ke.comparator),this._u=new Map,this.au=new rg,this.uu={},this.cu=new Map,this.lu=Io.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function A4(r,e,n=!0){const i=U1(r);let o;const l=i.ru.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.eu()):o=await k1(i,e,n,!0),o}async function w4(r,e){const n=U1(r);await k1(n,e,!0,!1)}async function k1(r,e,n,i){const o=await FI(r.localStore,Zr(e)),l=o.targetId,f=r.sharedClientState.addLocalQueryTarget(l,n);let c;return i&&(c=await T4(r,e,l,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&w1(r.remoteStore,o),c}async function T4(r,e,n,i,o){r.Pu=(d,y,_)=>async function(E,S,A,R){let D=S.view.Ga(A);D.ys&&(D=await j0(E.localStore,S.query,!1).then(({documents:I})=>S.view.Ga(I,D)));const k=R&&R.targetChanges.get(S.targetId),V=R&&R.targetMismatches.get(S.targetId)!=null,P=S.view.applyChanges(D,E.isPrimaryClient,k,V);return Q0(E,S.targetId,P.Ya),P.snapshot}(r,d,y,_);const l=await j0(r.localStore,e,!0),f=new v4(e,l.Ns),c=f.Ga(l.documents),p=Au.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",o),g=f.applyChanges(c,r.isPrimaryClient,p);Q0(r,n,g.Ya);const b=new _4(e,n,f);return r.ru.set(e,b),r.iu.has(n)?r.iu.get(n).push(e):r.iu.set(n,[e]),g.snapshot}async function S4(r,e,n){const i=qe(r),o=i.ru.get(e),l=i.iu.get(o.targetId);if(l.length>1)return i.iu.set(o.targetId,l.filter(f=>!Hf(f,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&og(i.remoteStore,o.targetId),gp(i,o.targetId)}).catch(jo)):(gp(i,o.targetId),await dp(i.localStore,o.targetId,!0))}async function R4(r,e){const n=qe(r),i=n.ru.get(e),o=n.iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),og(n.remoteStore,i.targetId))}async function x4(r,e,n){const i=k4(r);try{const o=await function(f,c){const p=qe(f),g=Zt.now(),b=c.reduce((_,v)=>_.add(v.key),nt());let d,y;return p.persistence.runTransaction("Locally write mutations","readwrite",_=>{let v=Va(),E=nt();return p.Cs.getEntries(_,b).next(S=>{v=S,v.forEach((A,R)=>{R.isValidDocument()||(E=E.add(A))})}).next(()=>p.localDocuments.getOverlayedDocuments(_,v)).next(S=>{d=S;const A=[];for(const R of c){const D=FO(R,d.get(R.key).overlayedDocument);D!=null&&A.push(new Vi(R.key,D,BA(D.value.mapValue),Sr.exists(!0)))}return p.mutationQueue.addMutationBatch(_,g,A,c)}).next(S=>{y=S;const A=S.applyToLocalDocumentSet(d,E);return p.documentOverlayCache.saveOverlays(_,S.batchId,A)})}).then(()=>({batchId:y.batchId,changes:WA(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(f,c,p){let g=f.uu[f.currentUser.toKey()];g||(g=new Nt(Qe)),g=g.insert(c,p),f.uu[f.currentUser.toKey()]=g}(i,o.batchId,n),await Tu(i,o.changes),await Wf(i.remoteStore)}catch(o){const l=hg(o,"Failed to persist write");n.reject(l)}}async function V1(r,e){const n=qe(r);try{const i=await zI(n.localStore,e);e.targetChanges.forEach((o,l)=>{const f=n._u.get(l);f&&(pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?pt(f.tu,14607):o.removedDocuments.size>0&&(pt(f.tu,42227),f.tu=!1))}),await Tu(n,i,e)}catch(i){await jo(i)}}function Y0(r,e,n){const i=qe(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.ru.forEach((l,f)=>{const c=f.view.ga(e);c.snapshot&&o.push(c.snapshot)}),function(f,c){const p=qe(f);p.onlineState=c;let g=!1;p.queries.forEach((b,d)=>{for(const y of d.Ra)y.ga(c)&&(g=!0)}),g&&dg(p)}(i.eventManager,e),o.length&&i.nu.Q_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function C4(r,e,n){const i=qe(r);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i._u.get(e),l=o&&o.key;if(l){let f=new Nt(ke.comparator);f=f.insert(l,An.newNoDocument(l,Fe.min()));const c=nt().add(l),p=new Kf(Fe.min(),new Map,new Nt(Qe),f,c);await V1(i,p),i.ou=i.ou.remove(l),i._u.delete(e),pg(i)}else await dp(i.localStore,e,!1).then(()=>gp(i,e,n)).catch(jo)}async function D4(r,e){const n=qe(r),i=e.batch.batchId;try{const o=await UI(n.localStore,e);L1(n,i,null),P1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Tu(n,o)}catch(o){await jo(o)}}async function O4(r,e,n){const i=qe(r);try{const o=await function(f,c){const p=qe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return p.mutationQueue.lookupMutationBatch(g,c).next(d=>(pt(d!==null,37113),b=d.keys(),p.mutationQueue.removeMutationBatch(g,d))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>p.localDocuments.getDocuments(g,b))})}(i.localStore,e);L1(i,e,n),P1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Tu(i,o)}catch(o){await jo(o)}}function P1(r,e){(r.cu.get(e)||[]).forEach(n=>{n.resolve()}),r.cu.delete(e)}function L1(r,e,n){const i=qe(r);let o=i.uu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),i.uu[i.currentUser.toKey()]=o}}function gp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.iu.get(e))r.ru.delete(i),n&&r.nu.Tu(i,n);r.iu.delete(e),r.isPrimaryClient&&r.au.Ur(e).forEach(i=>{r.au.containsKey(i)||j1(r,i)})}function j1(r,e){r.su.delete(e.path.canonicalString());const n=r.ou.get(e);n!==null&&(og(r.remoteStore,n),r.ou=r.ou.remove(e),r._u.delete(n),pg(r))}function Q0(r,e,n){for(const i of n)i instanceof N1?(r.au.addReference(i.key,e),I4(r,i)):i instanceof M1?(Ee(mg,"Document no longer in limbo: "+i.key),r.au.removeReference(i.key,e),r.au.containsKey(i.key)||j1(r,i.key)):ze(19791,{Iu:i})}function I4(r,e){const n=e.key,i=n.path.canonicalString();r.ou.get(n)||r.su.has(i)||(Ee(mg,"New document in limbo: "+n),r.su.add(i),pg(r))}function pg(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const e=r.su.values().next().value;r.su.delete(e);const n=new ke(Ot.fromString(e)),i=r.lu.next();r._u.set(i,new b4(n)),r.ou=r.ou.insert(n,i),w1(r.remoteStore,new vi(Zr(Zp(n.path)),i,"TargetPurposeLimboResolution",$f.le))}}async function Tu(r,e,n){const i=qe(r),o=[],l=[],f=[];i.ru.isEmpty()||(i.ru.forEach((c,p)=>{f.push(i.Pu(p,e,n).then(g=>{var b;if((g||n)&&i.isPrimaryClient){const d=g?!g.fromCache:(b=n==null?void 0:n.targetChanges.get(p.targetId))===null||b===void 0?void 0:b.current;i.sharedClientState.updateQueryState(p.targetId,d?"current":"not-current")}if(g){o.push(g);const d=ig.Ps(p.targetId,g);l.push(d)}}))}),await Promise.all(f),i.nu.Q_(o),await async function(p,g){const b=qe(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>fe.forEach(g,y=>fe.forEach(y.ls,_=>b.persistence.referenceDelegate.addReference(d,y.targetId,_)).next(()=>fe.forEach(y.hs,_=>b.persistence.referenceDelegate.removeReference(d,y.targetId,_)))))}catch(d){if(!Uo(d))throw d;Ee(sg,"Failed to update sequence numbers: "+d)}for(const d of g){const y=d.targetId;if(!d.fromCache){const _=b.Ss.get(y),v=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(v);b.Ss=b.Ss.insert(y,E)}}}(i.localStore,l))}async function N4(r,e){const n=qe(r);if(!n.currentUser.isEqual(e)){Ee(mg,"User change. New user:",e.toKey());const i=await _1(n.localStore,e);n.currentUser=e,function(l,f){l.cu.forEach(c=>{c.forEach(p=>{p.reject(new Ne(de.CANCELLED,f))})}),l.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Tu(n,i.Ms)}}function M4(r,e){const n=qe(r),i=n._u.get(e);if(i&&i.tu)return nt().add(i.key);{let o=nt();const l=n.iu.get(e);if(!l)return o;for(const f of l){const c=n.ru.get(f);o=o.unionWith(c.view.Wa)}return o}}function U1(r){const e=qe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=V1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C4.bind(null,e),e.nu.Q_=g4.bind(null,e.eventManager),e.nu.Tu=y4.bind(null,e.eventManager),e}function k4(r){const e=qe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O4.bind(null,e),e}class Of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return jI(this.persistence,new VI,e.initialUser,this.serializer)}Ru(e){return new v1(ag.Ei,this.serializer)}Au(e){return new HI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Of.provider={build:()=>new Of};class V4 extends Of{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){pt(this.persistence.referenceDelegate instanceof Cf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new bI(i,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new v1(i=>Cf.Ei(i,n),this.serializer)}}class yp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Y0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=N4.bind(null,this.syncEngine),await d4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new p4}()}createDatastore(e){const n=Xf(e.databaseInfo.databaseId),i=function(l){return new XI(l)}(e.databaseInfo);return function(l,f,c,p){return new e4(l,f,c,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,l,f,c){return new n4(i,o,l,f,c)}(this.localStore,this.datastore,e.asyncQueue,n=>Y0(this.syncEngine,n,0),function(){return $0.C()?new $0:new GI}())}createSyncEngine(e,n){return function(o,l,f,c,p,g,b){const d=new E4(o,l,f,c,p,g);return b&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const l=qe(o);Ee(bs,"RemoteStore shutting down."),l.aa.add(5),await wu(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ka("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="FirestoreClient";class P4{constructor(e,n,i,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=NA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async f=>{Ee(Mi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(i,f=>(Ee(Mi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=hg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Rm(r,e){r.asyncQueue.verifyOperationInProgress(),Ee(Mi,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener(async o=>{i.isEqual(o)||(await _1(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function K0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await L4(r);Ee(Mi,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(i=>F0(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,o)=>F0(e.remoteStore,o)),r._onlineComponents=e}async function L4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ee(Mi,"Using user provided OfflineComponentProvider");try{await Rm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===de.FAILED_PRECONDITION||o.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),await Rm(r,new Of)}}else Ee(Mi,"Using default OfflineComponentProvider"),await Rm(r,new V4(void 0));return r._offlineComponents}async function $1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ee(Mi,"Using user provided OnlineComponentProvider"),await K0(r,r._uninitializedComponentsProvider._online)):(Ee(Mi,"Using default OnlineComponentProvider"),await K0(r,new yp))),r._onlineComponents}function j4(r){return $1(r).then(e=>e.syncEngine)}async function vp(r){const e=await $1(r),n=e.eventManager;return n.onListen=A4.bind(null,e.syncEngine),n.onUnlisten=S4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=w4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R4.bind(null,e.syncEngine),n}function U4(r,e,n={}){const i=new Ai;return r.asyncQueue.enqueueAndForget(async()=>function(l,f,c,p,g){const b=new z1({next:y=>{b.yu(),f.enqueueAndForget(()=>O1(l,d)),y.fromCache&&p.source==="server"?g.reject(new Ne(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(y)},error:y=>g.reject(y)}),d=new I1(c,b,{includeMetadataChanges:!0,Fa:!0});return D1(l,d)}(await vp(r),r.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(r,e,n){if(!n)throw new Ne(de.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function z4(r,e,n,i){if(e===!0&&i===!0)throw new Ne(de.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Z0(r){if(!ke.isDocumentKey(r))throw new Ne(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function W0(r){if(ke.isDocumentKey(r))throw new Ne(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function gg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ze(12329,{type:typeof r})}function Jr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ne(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gg(r);throw new Ne(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="firestore.googleapis.com",J0=!0;class eE{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=q1,this.ssl=J0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:J0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vI)throw new Ne(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ne(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ne(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ne(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jf{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new QD;switch(i.type){case"firstParty":return new WD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ne(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=X0.get(n);i&&(Ee("ComponentProvider","Removing Datastore"),X0.delete(n),i.terminate())}(this),Promise.resolve()}}function $4(r,e,n,i={}){var o;const l=(r=Jr(r,Jf))._getSettings(),f=Object.assign(Object.assign({},l),{emulatorOptions:r._getEmulatorOptions()}),c=`${e}:${n}`;l.host!==q1&&l.host!==c&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:c,ssl:!1,emulatorOptions:i});if(!yf(p,f)&&(r._setSettings(p),i.mockUserToken)){let g,b;if(typeof i.mockUserToken=="string")g=i.mockUserToken,b=En.MOCK_USER;else{g=xC(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new Ne(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new En(d)}r._authCredentials=new KD(new OA(g,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Su(this.firestore,e,this._query)}}class Zn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class wi extends Su{constructor(e,n,i){super(e,n,Zp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new ke(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function If(r,e,...n){if(r=Na(r),F1("collection","path",e),r instanceof Jf){const i=Ot.fromString(e,...n);return W0(i),new wi(r,null,i)}{if(!(r instanceof Zn||r instanceof wi))throw new Ne(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Ot.fromString(e,...n));return W0(i),new wi(r.firestore,null,i)}}function yg(r,e,...n){if(r=Na(r),arguments.length===1&&(e=NA.newId()),F1("doc","path",e),r instanceof Jf){const i=Ot.fromString(e,...n);return Z0(i),new Zn(r,null,new ke(i))}{if(!(r instanceof Zn||r instanceof wi))throw new Ne(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Ot.fromString(e,...n));return Z0(i),new Zn(r.firestore,r instanceof wi?r.converter:null,new ke(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="AsyncQueue";class nE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new E1(this,"async_queue_retry"),this.ju=()=>{const i=Sm();i&&Ee(tE,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Ai;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Uo(e))throw e;Ee(tE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,ka("INTERNAL UNHANDLED ERROR: ",rE(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=n,n}enqueueAfterDelay(e,n,i){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const o=fg.createAndSchedule(this,e,n,i,l=>this.Xu(l));return this.Uu.push(o),o}Ju(){this.Ku&&ze(47125,{ec:rE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function rE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(r){return function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1}(r,["next","error","complete"])}class Es extends Jf{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new nE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nE(e),this._firestoreClient=void 0,await e}}}function B4(r,e){const n=typeof r=="object"?r:LD(),i=typeof r=="string"?r:Ef,o=ND(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=SC("firestore");l&&$4(o,...l)}return o}function vg(r){if(r._terminated)throw new Ne(de.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||F4(r),r._firestoreClient}function F4(r){var e,n,i;const o=r._freezeSettings(),l=function(c,p,g,b){return new dO(c,p,g,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,B1(b.experimentalLongPollingOptions),b.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new P4(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(c){const p=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(mn.fromBase64String(e))}catch(n){throw new Ne(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mo(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=/^__.*__$/;class H4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class H1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function G1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{oc:r})}}class Ag{constructor(e,n,i,o,l,f){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Ag(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:i,cc:!1});return o.lc(e),o}hc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:i,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Nf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(G1(this.oc)&&q4.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class G4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Xf(e)}dc(e,n,i,o=!1){return new Ag({oc:e,methodName:n,Ec:i,path:dn.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y1(r){const e=r._freezeSettings(),n=Xf(r._databaseId);return new G4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Y4(r,e,n,i,o,l={}){const f=r.dc(l.merge||l.mergeFields?2:0,e,n,o);wg("Data must be an object, but it was:",f,i);const c=Q1(i,f);let p,g;if(l.merge)p=new Xn(f.fieldMask),g=f.fieldTransforms;else if(l.mergeFields){const b=[];for(const d of l.mergeFields){const y=_p(e,d,n);if(!f.contains(y))throw new Ne(de.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);X1(b,y)||b.push(y)}p=new Xn(b),g=f.fieldTransforms.filter(d=>p.covers(d.field))}else p=null,g=f.fieldTransforms;return new H4(new Pn(c),p,g)}class th extends _g{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof th}}function Q4(r,e,n,i){const o=r.dc(1,e,n);wg("Data must be an object, but it was:",o,i);const l=[],f=Pn.empty();ki(i,(p,g)=>{const b=Tg(e,p,n);g=Na(g);const d=o.hc(b);if(g instanceof th)l.push(b);else{const y=nh(g,d);y!=null&&(l.push(b),f.set(b,y))}});const c=new Xn(l);return new H1(f,c,o.fieldTransforms)}function K4(r,e,n,i,o,l){const f=r.dc(1,e,n),c=[_p(e,i,n)],p=[o];if(l.length%2!=0)throw new Ne(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<l.length;y+=2)c.push(_p(e,l[y])),p.push(l[y+1]);const g=[],b=Pn.empty();for(let y=c.length-1;y>=0;--y)if(!X1(g,c[y])){const _=c[y];let v=p[y];v=Na(v);const E=f.hc(_);if(v instanceof th)g.push(_);else{const S=nh(v,E);S!=null&&(g.push(_),b.set(_,S))}}const d=new Xn(g);return new H1(b,d,f.fieldTransforms)}function nh(r,e){if(K1(r=Na(r)))return wg("Unsupported field value:",e,r),Q1(r,e);if(r instanceof _g)return function(i,o){if(!G1(o.oc))throw o.Tc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,o){const l=[];let f=0;for(const c of i){let p=nh(c,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),f++}return{arrayValue:{values:l}}}(r,e)}return function(i,o){if((i=Na(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return LO(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Zt.fromDate(i);return{timestampValue:xf(o.serializer,l)}}if(i instanceof Zt){const l=new Zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xf(o.serializer,l)}}if(i instanceof bg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Mo)return{bytesValue:c1(o.serializer,i._byteString)};if(i instanceof Zn){const l=o.databaseId,f=i.firestore._databaseId;if(!f.isEqual(l))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ng(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Eg)return function(f,c){return{mapValue:{fields:{[zA]:{stringValue:$A},[Af]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw c.Tc("VectorValues must only contain numeric values.");return Wp(c.serializer,g)})}}}}}}(i,o);throw o.Tc(`Unsupported field value: ${gg(i)}`)}(r,e)}function Q1(r,e){const n={};return kA(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(r,(i,o)=>{const l=nh(o,e.uc(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function K1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Zt||r instanceof bg||r instanceof Mo||r instanceof Zn||r instanceof _g||r instanceof Eg)}function wg(r,e,n){if(!K1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=gg(n);throw i==="an object"?e.Tc(r+" a custom object"):e.Tc(r+" "+i)}}function _p(r,e,n){if((e=Na(e))instanceof eh)return e._internalPath;if(typeof e=="string")return Tg(r,e);throw Nf("Field path arguments must be of type string or ",r,!1,void 0,n)}const X4=new RegExp("[~\\*/\\[\\]]");function Tg(r,e,n){if(e.search(X4)>=0)throw Nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new eh(...e.split("."))._internalPath}catch{throw Nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Nf(r,e,n,i,o){const l=i&&!i.isEmpty(),f=o!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let p="";return(l||f)&&(p+=" (found",l&&(p+=` in field ${i}`),f&&(p+=` in document ${o}`),p+=")"),new Ne(de.INVALID_ARGUMENT,c+r+p)}function X1(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,i,o,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(W1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Z4 extends Z1{data(){return super.data()}}function W1(r,e){return typeof e=="string"?Tg(r,e):e instanceof eh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ne(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W4{convertValue(e,n="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ki(e,(o,l)=>{i[o]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,o;const l=(o=(i=(n=e.fields)===null||n===void 0?void 0:n[Af].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(f=>Lt(f.doubleValue));return new Eg(l)}convertGeoPoint(e){return new bg(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Ff(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const n=Di(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ot.fromString(e);pt(g1(i),9688,{name:e});const o=new hu(i.get(1),i.get(3)),l=new ke(i.popFirst(5));return o.isEqual(n)||ka(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(r,e,n){let i;return i=r?r.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ew extends Z1{constructor(e,n,i,o,l,f){super(e,n,i,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(W1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class of extends ew{data(e={}){return super.data(e)}}class tw{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Zl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new of(this._firestore,this._userDataWriter,i.key,i,new Zl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(c=>{const p=new of(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Zl(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>l||c.type!==3).map(c=>{const p=new of(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Zl(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return c.type!==0&&(g=f.indexOf(c.doc.key),f=f.delete(c.doc.key)),c.type!==1&&(f=f.add(c.doc),b=f.indexOf(c.doc.key)),{type:eN(c.type),doc:p,oldIndex:g,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:r})}}class Sg extends W4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,n)}}function nw(r){r=Jr(r,Su);const e=Jr(r.firestore,Es),n=vg(e),i=new Sg(e);return J1(r._query),U4(n,r._query).then(o=>new tw(e,i,r,o))}function tN(r,e,n,...i){r=Jr(r,Zn);const o=Jr(r.firestore,Es),l=Y1(o);let f;return f=typeof(e=Na(e))=="string"||e instanceof eh?K4(l,"updateDoc",r._key,e,n,i):Q4(l,"updateDoc",r._key,e),Rg(o,[f.toMutation(r._key,Sr.exists(!0))])}function nN(r){return Rg(Jr(r.firestore,Es),[new Jp(r._key,Sr.none())])}function rN(r,e){const n=Jr(r.firestore,Es),i=yg(r),o=J4(r.converter,e);return Rg(n,[Y4(Y1(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,Sr.exists(!1))]).then(()=>i)}function aN(r,...e){var n,i,o;r=Na(r);let l={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||aE(e[f])||(l=e[f],f++);const c={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(aE(e[f])){const d=e[f];e[f]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[f+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[f+2]=(o=d.complete)===null||o===void 0?void 0:o.bind(d)}let p,g,b;if(r instanceof Zn)g=Jr(r.firestore,Es),b=Zp(r._key.path),p={next:d=>{e[f]&&e[f](iN(g,r,d))},error:e[f+1],complete:e[f+2]};else{const d=Jr(r,Su);g=Jr(d.firestore,Es),b=d._query;const y=new Sg(g);p={next:_=>{e[f]&&e[f](new tw(g,y,d,_))},error:e[f+1],complete:e[f+2]},J1(r._query)}return function(y,_,v,E){const S=new z1(E),A=new I1(_,S,v);return y.asyncQueue.enqueueAndForget(async()=>D1(await vp(y),A)),()=>{S.yu(),y.asyncQueue.enqueueAndForget(async()=>O1(await vp(y),A))}}(vg(g),b,c,p)}function Rg(r,e){return function(i,o){const l=new Ai;return i.asyncQueue.enqueueAndForget(async()=>x4(await j4(i),o,l)),l.promise}(vg(r),e)}function iN(r,e,n){const i=n.docs.get(e._key),o=new Sg(r);return new ew(r,o,e._key,i,new Zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Lo=o})(PD),_f(new lu("firestore",(i,{instanceIdentifier:o,options:l})=>{const f=i.getProvider("app").getImmediate(),c=new Es(new XD(i.getProvider("auth-internal")),new JD(f,i.getProvider("app-check-internal")),function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ne(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(g.options.projectId,b)}(f,o),f);return l=Object.assign({useFetchStreams:n},l),c._setSettings(l),c},"PUBLIC").setMultipleInstances(!0)),Ao(l0,u0,e),Ao(l0,u0,"esm2017")})();var sN="firebase",oN="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ao(sN,oN,"app");const lN={apiKey:"AIzaSyA8abj82nQAQtDlRBlwF0jNyxQ4oDSjuU4",authDomain:"webbshop-project.firebaseapp.com",projectId:"webbshop-project",storageBucket:"webbshop-project.firebasestorage.app",messagingSenderId:"89240485406",appId:"1:89240485406:web:48eab0277116f86d6bf80f",measurementId:"G-G3H51TLL8B"},uN=bA(lN),To=B4(uN),Pi=hA(r=>({isLoggedIn:JSON.parse(localStorage.getItem("isLoggedIn"))||!1,setIsLoggedIn:e=>{localStorage.setItem("isLoggedIn",JSON.stringify(e)),r({isLoggedIn:e})},cart:[],toyList:[],toyCount:0,totalprice:0,filteredToys:[],isEditing:!1,editToy:null,setIsEditing:e=>r({isEditing:e}),setEditToy:e=>r({editToy:e}),setToys:e=>r(n=>({toyList:e})),addToCart:e=>r(n=>{const i=n.cart.some(f=>f.id===e.id);let o;i?o=n.cart.map(f=>f.id===e.id?{...f,quantity:f.quantity+1}:f):o=[...n.cart,{...e,price:parseFloat(e.price),quantity:1}];const l=o.reduce((f,c)=>f+c.price*c.quantity,0);return{cart:o,toyCount:n.toyCount+1,totalPrice:l}}),clearCart:()=>r({cart:[],toyCount:0,totalPrice:0}),updateCartQuantity:(e,n)=>r(i=>{const o=i.cart.map(c=>c.id===e?{...c,quantity:Math.max(0,c.quantity+n)}:c).filter(c=>c.quantity>0),l=o.reduce((c,p)=>c+parseFloat(p.price)*p.quantity,0),f=o.reduce((c,p)=>c+p.quantity,0);return{cart:o,totalPrice:l,toyCount:f}}),updateToy:e=>r(n=>({toyList:n.toyList.map(i=>i.id===e.id?e:i),isEditing:!1,editToy:null})),setEditing:e=>r({isEditing:e}),handleEditClick:e=>r({isEditing:!0,editToy:e}),handleInputChange:(e,n)=>r(i=>({editToy:{...i.editToy,[e]:n}})),toys:[],loading:!1,error:null,fetchToys:async()=>{r({loading:!0,error:null});try{const n=(await nw(If(To,"toys"))).docs.map(i=>({id:i.id,...i.data()}));r({toys:n,loading:!1})}catch(e){r({error:e.message,loading:!1})}},addToy:async e=>{try{const n={...e,price:Number(e.price)},i=await rN(If(To,"toys"),n);r(o=>({toys:[...o.toys,{id:i.id,...n}]})),console.log("New toy added:",n)}catch(n){r({error:n.message})}},removeItem:async e=>{try{await nN(yg(To,"toys",e)),console.log(`Leksak med id ${e} togs bort frn Firestore`),r(n=>({toyList:n.toyList.filter(i=>i.id!==e)}))}catch(n){console.error("Error, kan ej ta bort item:",n)}},handleLogin:()=>{setIsLoggedIn(!0),localStorage.setItem("isLoggedIn",JSON.stringify(!0))},handleLogout:()=>{localStorage.setItem("isLoggedIn",JSON.stringify(!1)),r({isLoggedIn:!1}),console.log("Admin logged out")}})),cN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEySURBVHgB7ZTdEYIwEIRXxwIsgRIoQSvQEujAsQK1AmqwAu1AO9AOoAPsAC9DkCPmArnhwQd3ZiHk5z6SXAJMpwO5ICdSh4pcj/QmAGn7iLA6wtkARIQtWPlELuFXTl4KkKMtP8l78sVCbuQ1j9n+xQqyCnzPiM/kwX4kRbcdvZlpQBIEIVgsaMvGVPAvKWy8z57NEa87mv2Ahew8fUx9zr7PgG7pTKAHG3twILzt2DZok8EHEyEcVNmAPkvnyA1cSBAO0h5YF+aFzNBkkZQ5ru7wH2oz/oYmrU8+0JQysK3UqJ1RgnDycL3IV1PQ7FEWOa53qZaQlQTaSqF+CWelNOcoQ5fOkjIWG5orSKU/6PdBPL3TQL/QgV4J9akEyhGvBM0dNyizdC+MV2XfMWNK83gDNWKy9R/0Q20AAAAASUVORK5CYII=",fN=()=>{const{toyCount:r,isLoggedIn:e}=Pi();return J.jsxs("div",{className:"header",children:[J.jsx(Da,{to:"/",children:J.jsx("img",{src:fC,className:"logo"})}),J.jsxs("nav",{className:"navbar",children:[e&&J.jsx("p",{className:"admin-heading",children:"Admin inloggad"}),!e&&J.jsxs(J.Fragment,{children:[J.jsxs(Da,{to:"/toys",className:"heading",children:[J.jsx("img",{src:cN,alt:"Produkter",className:"nav-icon"}),"Produkter"]}),J.jsxs(Da,{to:"/cart",className:"cart-link",children:[J.jsx(Ro,{icon:HR}),r>0&&J.jsx("span",{className:"cart-badge",children:r}),"Varukorg"]})]})]})]})},hN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAARCAYAAAA/mJfHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADsSURBVHgBrVMBEcMgDIwEJFRCJSABB8VB52B1sDpYHWwOKgEJSEDCBnehTbPkyu76d3/HJeF5EgBog81cM1PmB9edVOgyY+ZNERpRQOKEdLV4JUku2JHcnGkwNjHRVDcklnjCfgVPYhwl98J85GIzEy2OA7mOhMjzNdCjowV+ezMIQpa4MjU4C6cbLPZICQ73vaUTEvyHBeShbRN9QDtqeyxPWNj7c4dzeGBT5Jjg+DyMUtcRV4MmVjYHImhPakRXZSr0F2jvyhJHEZS/yb+Fg+OVPDtMFSrgL19jQsdaLzf0KBoEgeJqbBG5FF9GXnV01kuQJQAAAABJRU5ErkJggg==",dN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAESSURBVHgB1VXbEYIwEFytgBJiB5SSDqQD6AA70E60A1rQCkIHlqCJ5oY1cOHx584sA7nLzt5xBGAahWftefV0nq9IF9eOWAHr+SQRjW6J8Jk2dNGloXjpWSWuW02sjQnBXYN5NBgqOafBisRKLEdJopYDUkLOWUubj4lTMVOwO5cR496mggEdG7oqSQxxZpS4uLwBQ7m53okzDSbG3Y4SdzOCi3L2mQSeNd6U7XcQ7OO9wXZIu/ogeI8PNkk64FsilynPB0XwES7yhjromHsp0p7PpIRhlLFoNgjWmOirRf7T0wT50xvN8QX64TAlWJPYCQpOGJ93Ja2ZKNTR2gUzqPA7gxqDO4sVqKD/AoLLAn+JN2gpgk6ekhWUAAAAAElFTkSuQmCC",mN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFFSURBVHgBlVSLUcMwDBVMkBE0QldhgrIB3aDZAJigxwQZwTABbOBsEJggWOEploPsprrTOdHnWbKfRZSlS3pOGpLGpPMVnRArOawgd1gPSQfjGM1G31ArvFkl/iHplxq1ohdUulc4aY/cqLlq6Ok2OSCnQyErRsAPN5K9qj+Rd4J/BtZyuLEC9ETlBQnIEb4TfIz/qDhzBfBC+TYH7D7BdnHideNcqpFHU5Ftl6lsdTdgRDVM/6WDb9rYl7u4ryQw/XFqdPzCyXcTV0gNUOSH6tLkqteytuQlMvnMKFrmjfMVYGHjE9uA9Y0aFXq0UcLrEBgo0yY48estR6oTu6eS2BPVn6gyY62kddBM7afJwAhyhh8wnhsJI/kUUjliXbA6ym0Vw3KHSO4z5XvgawN2dEDY+Za4dcBap7xPOwRaGhHbkzn/X8pLhmligQq4AAAAAElFTkSuQmCC",pN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAUCAYAAABroNZJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADbSURBVHgBrZOBEYIwDEW/TMAIdQIZwRHcADfQDewIbgBOoBvgBo7ACLoBJtp6obS0CP/u30FpHknaAEMp8pnckjvyk1yZ9SSVJqgL+BgDqAjAejsGqRMA7GYM0k1wLgMzUcoUKR/khYXEtaaU0rqBmXi+IE3RfXUkiwcSpQMAvsW5L2AVAClyIYJu+Daf30vy2qzdA/GfjXvz550DbpEwBgf0r74W37RZu5p9djh7qjDsg4TU6M+OzeqnE/zNtBA53XxCDZxZUggfqXZK8TpzUv5LDNlgphhSYKbeQ3Z8rRvdCLsAAAAASUVORK5CYII=",gN=()=>{const{isLoggedIn:r,handleLogout:e}=Pi();return J.jsxs("div",{className:"footer-content",children:[J.jsx("div",{className:"admin-icon-container",children:J.jsx(Da,{to:"/login",children:J.jsx("img",{src:pN,alt:"admin icon",className:"admin-icon",title:r?"logga ut":"logga in",onClick:e})})}),J.jsx("p",{children:" 2023 MyToys Aktiebolag"}),J.jsx("p",{children:"mystoys@outlook.com"}),J.jsx("p",{children:"+46 123 456 789"}),J.jsx("p",{children:"Redegatan 2, 42121, Sverige"}),J.jsxs("div",{className:"icons-container",children:[J.jsx("img",{src:hN,alt:"Twitter",className:"social-icon"}),J.jsx("img",{src:dN,alt:"Facebook",className:"social-icon"}),J.jsx("img",{src:mN,alt:"Instagram",className:"social-icon"})]})]})};function yN(){const{isLoggedIn:r,setIsLoggedIn:e}=Pi();return re.useEffect(()=>{const n=JSON.parse(localStorage.getItem("isLoggedIn"));console.log("Stored isLoggedIn:",n),n&&(e(n),console.log("isLoggedIn updated to:",n))},[e]),J.jsxs("div",{className:"App",children:[J.jsx("header",{children:J.jsx(fN,{})}),J.jsx(oR,{}),J.jsx("footer",{children:J.jsx(gN,{isLoggedIn:r,setIsLoggedIn:e})})]})}const vN="/Webbshop/assets/imgHomepage-DBjN8W8M.jpeg",_N="/Webbshop/assets/beachtoys-DapDKHa-.jpg",bN=()=>J.jsx("div",{className:"home-page",children:J.jsxs("div",{className:"image-section",children:[J.jsxs("div",{className:"img-info-container",children:[J.jsx("img",{src:vN,alt:"Garden Toys",className:"garden-img"}),J.jsx("p",{children:"Vlkommen till My Toys! Flj med p ventyr med vra frgglada leksaker! Passar perfekt fr sm upptckare som lskar att skapa, bygga och utforska sin fantasi!"}),J.jsx(Da,{to:"/toys",children:J.jsx("button",{className:"shop-button",children:"Se vra leksaker"})})]}),J.jsxs("div",{className:"img-info-container",children:[J.jsx("img",{src:_N,alt:"beach toys",className:"pool-img"}),J.jsx("p",{children:"Plaska med vra frgglada strandleksaker perfekt fr soliga dagar."})]})]})}),EN=hA((r,e)=>({handleSaveClick:async(n,i)=>{try{const o=yg(To,"toys",n.id),l={name:n.name,category:n.category,description:n.description,price:Number(n.price),image:n.image};await tN(o,l),console.log("Leksak uppdaterad:",l),i&&i({...l,id:n.id})}catch(o){console.error("Fel vid uppdatering av leksak:",o)}}}));var xm={exports:{}},iE;function AN(){return iE||(iE=1,function(r,e){(function(n,i){r.exports=i()})(self,()=>{return n={7629:(o,l,f)=>{const c=f(375),p=f(8571),g=f(9474),b=f(1687),d=f(8652),y=f(8160),_=f(3292),v=f(6354),E=f(8901),S=f(9708),A=f(6914),R=f(2294),D=f(6133),k=f(1152),V=f(8863),P=f(2036),I={Base:class{constructor(T){this.type=T,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new R.Ids,this._preferences=null,this._refs=new D.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return c(typeof S.describe=="function","Manifest functionality disabled"),S.describe(this)}allow(...T){return y.verifyFlat(T,"allow"),this._values(T,"_valids")}alter(T){c(T&&typeof T=="object"&&!Array.isArray(T),"Invalid targets argument"),c(!this._inRuleset(),"Cannot set alterations inside a ruleset");const x=this.clone();x.$_terms.alterations=x.$_terms.alterations||[];for(const O in T){const L=T[O];c(typeof L=="function","Alteration adjuster for",O,"must be a function"),x.$_terms.alterations.push({target:O,adjuster:L})}return x.$_temp.ruleset=!1,x}artifact(T){return c(T!==void 0,"Artifact cannot be undefined"),c(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",T)}cast(T){return c(T===!1||typeof T=="string","Invalid to value"),c(T===!1||this._definition.cast[T],"Type",this.type,"does not support casting to",T),this.$_setFlag("cast",T===!1?void 0:T)}default(T,x){return this._default("default",T,x)}description(T){return c(T&&typeof T=="string","Description must be a non-empty string"),this.$_setFlag("description",T)}empty(T){const x=this.clone();return T!==void 0&&(T=x.$_compile(T,{override:!1})),x.$_setFlag("empty",T,{clone:!1})}error(T){return c(T,"Missing error"),c(T instanceof Error||typeof T=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",T)}example(T,x={}){return c(T!==void 0,"Missing example"),y.assertOptions(x,["override"]),this._inner("examples",T,{single:!0,override:x.override})}external(T,x){return typeof T=="object"&&(c(!x,"Cannot combine options with description"),x=T.description,T=T.method),c(typeof T=="function","Method must be a function"),c(x===void 0||x&&typeof x=="string","Description must be a non-empty string"),this._inner("externals",{method:T,description:x},{single:!0})}failover(T,x){return this._default("failover",T,x)}forbidden(){return this.presence("forbidden")}id(T){return T?(c(typeof T=="string","id must be a non-empty string"),c(/^[^\.]+$/.test(T),"id cannot contain period character"),this.$_setFlag("id",T)):this.$_setFlag("id",void 0)}invalid(...T){return this._values(T,"_invalids")}label(T){return c(T&&typeof T=="string","Label name must be a non-empty string"),this.$_setFlag("label",T)}meta(T){return c(T!==void 0,"Meta cannot be undefined"),this._inner("metas",T,{single:!0})}note(...T){c(T.length,"Missing notes");for(const x of T)c(x&&typeof x=="string","Notes must be non-empty strings");return this._inner("notes",T)}only(T=!0){return c(typeof T=="boolean","Invalid mode:",T),this.$_setFlag("only",T)}optional(){return this.presence("optional")}prefs(T){c(T,"Missing preferences"),c(T.context===void 0,"Cannot override context"),c(T.externals===void 0,"Cannot override externals"),c(T.warnings===void 0,"Cannot override warnings"),c(T.debug===void 0,"Cannot override debug"),y.checkPreferences(T);const x=this.clone();return x._preferences=y.preferences(x._preferences,T),x}presence(T){return c(["optional","required","forbidden"].includes(T),"Unknown presence mode",T),this.$_setFlag("presence",T)}raw(T=!0){return this.$_setFlag("result",T?"raw":void 0)}result(T){return c(["raw","strip"].includes(T),"Unknown result mode",T),this.$_setFlag("result",T)}required(){return this.presence("required")}strict(T){const x=this.clone(),O=T!==void 0&&!T;return x._preferences=y.preferences(x._preferences,{convert:O}),x}strip(T=!0){return this.$_setFlag("result",T?"strip":void 0)}tag(...T){c(T.length,"Missing tags");for(const x of T)c(x&&typeof x=="string","Tags must be non-empty strings");return this._inner("tags",T)}unit(T){return c(T&&typeof T=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",T)}valid(...T){y.verifyFlat(T,"valid");const x=this.allow(...T);return x.$_setFlag("only",!!x._valids,{clone:!1}),x}when(T,x){const O=this.clone();O.$_terms.whens||(O.$_terms.whens=[]);const L=_.when(O,T,x);if(!["any","link"].includes(O.type)){const $=L.is?[L]:L.switch;for(const U of $)c(!U.then||U.then.type==="any"||U.then.type===O.type,"Cannot combine",O.type,"with",U.then&&U.then.type),c(!U.otherwise||U.otherwise.type==="any"||U.otherwise.type===O.type,"Cannot combine",O.type,"with",U.otherwise&&U.otherwise.type)}return O.$_terms.whens.push(L),O.$_mutateRebuild()}cache(T){c(!this._inRuleset(),"Cannot set caching inside a ruleset"),c(!this._cache,"Cannot override schema cache"),c(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const x=this.clone();return x._cache=T||d.provider.provision(),x.$_temp.ruleset=!1,x}clone(){const T=Object.create(Object.getPrototypeOf(this));return this._assign(T)}concat(T){c(y.isSchema(T),"Invalid schema object"),c(this.type==="any"||T.type==="any"||T.type===this.type,"Cannot merge type",this.type,"with another type:",T.type),c(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),c(!T._inRuleset(),"Cannot concatenate a schema with open ruleset");let x=this.clone();if(this.type==="any"&&T.type!=="any"){const O=T.clone();for(const L of Object.keys(x))L!=="type"&&(O[L]=x[L]);x=O}x._ids.concat(T._ids),x._refs.register(T,D.toSibling),x._preferences=x._preferences?y.preferences(x._preferences,T._preferences):T._preferences,x._valids=P.merge(x._valids,T._valids,T._invalids),x._invalids=P.merge(x._invalids,T._invalids,T._valids);for(const O of T._singleRules.keys())x._singleRules.has(O)&&(x._rules=x._rules.filter(L=>L.keep||L.name!==O),x._singleRules.delete(O));for(const O of T._rules)T._definition.rules[O.method].multi||x._singleRules.set(O.name,O),x._rules.push(O);if(x._flags.empty&&T._flags.empty){x._flags.empty=x._flags.empty.concat(T._flags.empty);const O=Object.assign({},T._flags);delete O.empty,b(x._flags,O)}else if(T._flags.empty){x._flags.empty=T._flags.empty;const O=Object.assign({},T._flags);delete O.empty,b(x._flags,O)}else b(x._flags,T._flags);for(const O in T.$_terms){const L=T.$_terms[O];L?x.$_terms[O]?x.$_terms[O]=x.$_terms[O].concat(L):x.$_terms[O]=L.slice():x.$_terms[O]||(x.$_terms[O]=L)}return this.$_root._tracer&&this.$_root._tracer._combine(x,[this,T]),x.$_mutateRebuild()}extend(T){return c(!T.base,"Cannot extend type with another base"),E.type(this,T)}extract(T){return T=Array.isArray(T)?T:T.split("."),this._ids.reach(T)}fork(T,x){c(!this._inRuleset(),"Cannot fork inside a ruleset");let O=this;for(let L of[].concat(T))L=Array.isArray(L)?L:L.split("."),O=O._ids.fork(L,x,O);return O.$_temp.ruleset=!1,O}rule(T){const x=this._definition;y.assertOptions(T,Object.keys(x.modifiers)),c(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const O=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;c(O>=0&&O<this._rules.length,"Cannot apply rules to empty ruleset");const L=this.clone();for(let $=O;$<L._rules.length;++$){const U=L._rules[$],he=p(U);for(const pe in T)x.modifiers[pe](he,T[pe]),c(he.name===U.name,"Cannot change rule name");L._rules[$]=he,L._singleRules.get(he.name)===U&&L._singleRules.set(he.name,he)}return L.$_temp.ruleset=!1,L.$_mutateRebuild()}get ruleset(){c(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const T=this.clone();return T.$_temp.ruleset=T._rules.length,T}get $(){return this.ruleset}tailor(T){T=[].concat(T),c(!this._inRuleset(),"Cannot tailor inside a ruleset");let x=this;if(this.$_terms.alterations)for(const{target:O,adjuster:L}of this.$_terms.alterations)T.includes(O)&&(x=L(x),c(y.isSchema(x),"Alteration adjuster for",O,"failed to return a schema object"));return x=x.$_modify({each:O=>O.tailor(T),ref:!1}),x.$_temp.ruleset=!1,x.$_mutateRebuild()}tracer(){return k.location?k.location(this):this}validate(T,x){return V.entry(T,this,x)}validateAsync(T,x){return V.entryAsync(T,this,x)}$_addRule(T){typeof T=="string"&&(T={name:T}),c(T&&typeof T=="object","Invalid options"),c(T.name&&typeof T.name=="string","Invalid rule name");for(const U in T)c(U[0]!=="_","Cannot set private rule properties");const x=Object.assign({},T);x._resolve=[],x.method=x.method||x.name;const O=this._definition.rules[x.method],L=x.args;c(O,"Unknown rule",x.method);const $=this.clone();if(L){c(Object.keys(L).length===1||Object.keys(L).length===this._definition.rules[x.name].args.length,"Invalid rule definition for",this.type,x.name);for(const U in L){let he=L[U];if(O.argsByName){const pe=O.argsByName.get(U);if(pe.ref&&y.isResolvable(he))x._resolve.push(U),$.$_mutateRegister(he);else if(pe.normalize&&(he=pe.normalize(he),L[U]=he),pe.assert){const G=y.validateArg(he,U,pe);c(!G,G,"or reference")}}he!==void 0?L[U]=he:delete L[U]}}return O.multi||($._ruleRemove(x.name,{clone:!1}),$._singleRules.set(x.name,x)),$.$_temp.ruleset===!1&&($.$_temp.ruleset=null),O.priority?$._rules.unshift(x):$._rules.push(x),$}$_compile(T,x){return _.schema(this.$_root,T,x)}$_createError(T,x,O,L,$,U={}){const he=U.flags!==!1?this._flags:{},pe=U.messages?A.merge(this._definition.messages,U.messages):this._definition.messages;return new v.Report(T,x,O,he,pe,L,$)}$_getFlag(T){return this._flags[T]}$_getRule(T){return this._singleRules.get(T)}$_mapLabels(T){return T=Array.isArray(T)?T:T.split("."),this._ids.labels(T)}$_match(T,x,O,L){(O=Object.assign({},O)).abortEarly=!0,O._externals=!1,x.snapshot();const $=!V.validate(T,this,x,O,L).errors;return x.restore(),$}$_modify(T){return y.assertOptions(T,["each","once","ref","schema"]),R.schema(this,T)||this}$_mutateRebuild(){return c(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(T,{source:x,name:O,path:L,key:$})=>{const U=this._definition[x][O]&&this._definition[x][O].register;U!==!1&&this.$_mutateRegister(T,{family:U,key:$})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(T,{family:x,key:O}={}){this._refs.register(T,x),this._ids.register(T,{key:O})}$_property(T){return this._definition.properties[T]}$_reach(T){return this._ids.reach(T)}$_rootReferences(){return this._refs.roots()}$_setFlag(T,x,O={}){c(T[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const L=this._definition.flags[T]||{};if(g(x,L.default)&&(x=void 0),g(x,this._flags[T]))return this;const $=O.clone!==!1?this.clone():this;return x!==void 0?($._flags[T]=x,$.$_mutateRegister(x)):delete $._flags[T],T[0]!=="_"&&($.$_temp.ruleset=!1),$}$_parent(T,...x){return this[T][y.symbols.parent].call(this,...x)}$_validate(T,x,O){return V.validate(T,this,x,O)}_assign(T){T.type=this.type,T.$_root=this.$_root,T.$_temp=Object.assign({},this.$_temp),T.$_temp.whens={},T._ids=this._ids.clone(),T._preferences=this._preferences,T._valids=this._valids&&this._valids.clone(),T._invalids=this._invalids&&this._invalids.clone(),T._rules=this._rules.slice(),T._singleRules=p(this._singleRules,{shallow:!0}),T._refs=this._refs.clone(),T._flags=Object.assign({},this._flags),T._cache=null,T.$_terms={};for(const x in this.$_terms)T.$_terms[x]=this.$_terms[x]?this.$_terms[x].slice():null;T.$_super={};for(const x in this.$_super)T.$_super[x]=this._super[x].bind(T);return T}_bare(){const T=this.clone();T._reset();const x=T._definition.terms;for(const O in x){const L=x[O];T.$_terms[O]=L.init}return T.$_mutateRebuild()}_default(T,x,O={}){return y.assertOptions(O,"literal"),c(x!==void 0,"Missing",T,"value"),c(typeof x=="function"||!O.literal,"Only function value supports literal option"),typeof x=="function"&&O.literal&&(x={[y.symbols.literal]:!0,literal:x}),this.$_setFlag(T,x)}_generate(T,x,O){if(!this.$_terms.whens)return{schema:this};const L=[],$=[];for(let pe=0;pe<this.$_terms.whens.length;++pe){const G=this.$_terms.whens[pe];if(G.concat){L.push(G.concat),$.push(`${pe}.concat`);continue}const se=G.ref?G.ref.resolve(T,x,O):T,ve=G.is?[G]:G.switch,xe=$.length;for(let B=0;B<ve.length;++B){const{is:ne,then:me,otherwise:ce}=ve[B],be=`${pe}${G.switch?"."+B:""}`;if(ne.$_match(se,x.nest(ne,`${be}.is`),O)){if(me){const Ue=x.localize([...x.path,`${be}.then`],x.ancestors,x.schemas),{schema:Ce,id:St}=me._generate(T,Ue,O);L.push(Ce),$.push(`${be}.then${St?`(${St})`:""}`);break}}else if(ce){const Ue=x.localize([...x.path,`${be}.otherwise`],x.ancestors,x.schemas),{schema:Ce,id:St}=ce._generate(T,Ue,O);L.push(Ce),$.push(`${be}.otherwise${St?`(${St})`:""}`);break}}if(G.break&&$.length>xe)break}const U=$.join(", ");if(x.mainstay.tracer.debug(x,"rule","when",U),!U)return{schema:this};if(!x.mainstay.tracer.active&&this.$_temp.whens[U])return{schema:this.$_temp.whens[U],id:U};let he=this;this._definition.generate&&(he=this._definition.generate(this,T,x,O));for(const pe of L)he=he.concat(pe);return this.$_root._tracer&&this.$_root._tracer._combine(he,[this,...L]),this.$_temp.whens[U]=he,{schema:he,id:U}}_inner(T,x,O={}){c(!this._inRuleset(),`Cannot set ${T} inside a ruleset`);const L=this.clone();return L.$_terms[T]&&!O.override||(L.$_terms[T]=[]),O.single?L.$_terms[T].push(x):L.$_terms[T].push(...x),L.$_temp.ruleset=!1,L}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(T,x={}){if(!this._singleRules.has(T))return this;const O=x.clone!==!1?this.clone():this;O._singleRules.delete(T);const L=[];for(let $=0;$<O._rules.length;++$){const U=O._rules[$];U.name!==T||U.keep?L.push(U):O._inRuleset()&&$<O.$_temp.ruleset&&--O.$_temp.ruleset}return O._rules=L,O}_values(T,x){y.verifyFlat(T,x.slice(1,-1));const O=this.clone(),L=T[0]===y.symbols.override;if(L&&(T=T.slice(1)),!O[x]&&T.length?O[x]=new P:L&&(O[x]=T.length?new P:null,O.$_mutateRebuild()),!O[x])return O;L&&O[x].override();for(const $ of T){c($!==void 0,"Cannot call allow/valid/invalid with undefined"),c($!==y.symbols.override,"Override must be the first value");const U=x==="_invalids"?"_valids":"_invalids";O[U]&&(O[U].remove($),O[U].length||(c(x==="_valids"||!O._flags.only,"Setting invalid value",$,"leaves schema rejecting all values due to previous valid rule"),O[U]=null)),O[x].add($,O._refs)}return O}}};I.Base.prototype[y.symbols.any]={version:y.version,compile:_.compile,root:"$_root"},I.Base.prototype.isImmutable=!0,I.Base.prototype.deny=I.Base.prototype.invalid,I.Base.prototype.disallow=I.Base.prototype.invalid,I.Base.prototype.equal=I.Base.prototype.valid,I.Base.prototype.exist=I.Base.prototype.required,I.Base.prototype.not=I.Base.prototype.invalid,I.Base.prototype.options=I.Base.prototype.prefs,I.Base.prototype.preferences=I.Base.prototype.prefs,o.exports=new I.Base},8652:(o,l,f)=>{const c=f(375),p=f(8571),g=f(8160),b={max:1e3,supported:new Set(["undefined","boolean","number","string"])};l.provider={provision:d=>new b.Cache(d)},b.Cache=class{constructor(d={}){g.assertOptions(d,["max"]),c(d.max===void 0||d.max&&d.max>0&&isFinite(d.max),"Invalid max cache size"),this._max=d.max||b.max,this._map=new Map,this._list=new b.List}get length(){return this._map.size}set(d,y){if(d!==null&&!b.supported.has(typeof d))return;let _=this._map.get(d);if(_)return _.value=y,void this._list.first(_);_=this._list.unshift({key:d,value:y}),this._map.set(d,_),this._compact()}get(d){const y=this._map.get(d);if(y)return this._list.first(y),p(y.value)}_compact(){if(this._map.size>this._max){const d=this._list.pop();this._map.delete(d.key)}}},b.List=class{constructor(){this.tail=null,this.head=null}unshift(d){return d.next=null,d.prev=this.head,this.head&&(this.head.next=d),this.head=d,this.tail||(this.tail=d),d}first(d){d!==this.head&&(this._remove(d),this.unshift(d))}pop(){return this._remove(this.tail)}_remove(d){const{next:y,prev:_}=d;return y.prev=_,_&&(_.next=y),d===this.tail&&(this.tail=y),d.prev=null,d.next=null,d}}},8160:(o,l,f)=>{const c=f(375),p=f(7916),g=f(5934);let b,d;const y={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};l.version=g.version,l.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},l.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},l.assertOptions=function(_,v,E="Options"){c(_&&typeof _=="object"&&!Array.isArray(_),"Options must be of type object");const S=Object.keys(_).filter(A=>!v.includes(A));c(S.length===0,`${E} contain unknown keys: ${S}`)},l.checkPreferences=function(_){d=d||f(3378);const v=d.preferences.validate(_);if(v.error)throw new p([v.error.details[0].message])},l.compare=function(_,v,E){switch(E){case"=":return _===v;case">":return _>v;case"<":return _<v;case">=":return _>=v;case"<=":return _<=v}},l.default=function(_,v){return _===void 0?v:_},l.isIsoDate=function(_){return y.isoDate.test(_)},l.isNumber=function(_){return typeof _=="number"&&!isNaN(_)},l.isResolvable=function(_){return!!_&&(_[l.symbols.ref]||_[l.symbols.template])},l.isSchema=function(_,v={}){const E=_&&_[l.symbols.any];return!!E&&(c(v.legacy||E.version===l.version,"Cannot mix different versions of joi schemas"),!0)},l.isValues=function(_){return _[l.symbols.values]},l.limit=function(_){return Number.isSafeInteger(_)&&_>=0},l.preferences=function(_,v){b=b||f(6914),_=_||{},v=v||{};const E=Object.assign({},_,v);return v.errors&&_.errors&&(E.errors=Object.assign({},_.errors,v.errors),E.errors.wrap=Object.assign({},_.errors.wrap,v.errors.wrap)),v.messages&&(E.messages=b.compile(v.messages,_.messages)),delete E[l.symbols.prefs],E},l.tryWithPath=function(_,v,E={}){try{return _()}catch(S){throw S.path!==void 0?S.path=v+"."+S.path:S.path=v,E.append&&(S.message=`${S.message} (${S.path})`),S}},l.validateArg=function(_,v,{assert:E,message:S}){if(l.isSchema(E)){const A=E.validate(_);return A.error?A.error.message:void 0}if(!E(_))return v?`${v} ${S}`:S},l.verifyFlat=function(_,v){for(const E of _)c(!Array.isArray(E),"Method no longer accepts array arguments:",v)}},3292:(o,l,f)=>{const c=f(375),p=f(8160),g=f(6133),b={};l.schema=function(d,y,_={}){p.assertOptions(_,["appendPath","override"]);try{return b.schema(d,y,_)}catch(v){throw _.appendPath&&v.path!==void 0&&(v.message=`${v.message} (${v.path})`),v}},b.schema=function(d,y,_){c(y!==void 0,"Invalid undefined schema"),Array.isArray(y)&&(c(y.length,"Invalid empty array schema"),y.length===1&&(y=y[0]));const v=(E,...S)=>_.override!==!1?E.valid(d.override,...S):E.valid(...S);if(b.simple(y))return v(d,y);if(typeof y=="function")return d.custom(y);if(c(typeof y=="object","Invalid schema content:",typeof y),p.isResolvable(y))return v(d,y);if(p.isSchema(y))return y;if(Array.isArray(y)){for(const E of y)if(!b.simple(E))return d.alternatives().try(...y);return v(d,...y)}return y instanceof RegExp?d.string().regex(y):y instanceof Date?v(d.date(),y):(c(Object.getPrototypeOf(y)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),d.object().keys(y))},l.ref=function(d,y){return g.isRef(d)?d:g.create(d,y)},l.compile=function(d,y,_={}){p.assertOptions(_,["legacy"]);const v=y&&y[p.symbols.any];if(v)return c(_.legacy||v.version===p.version,"Cannot mix different versions of joi schemas:",v.version,p.version),y;if(typeof y!="object"||!_.legacy)return l.schema(d,y,{appendPath:!0});const E=b.walk(y);return E?E.compile(E.root,y):l.schema(d,y,{appendPath:!0})},b.walk=function(d){if(typeof d!="object")return null;if(Array.isArray(d)){for(const _ of d){const v=b.walk(_);if(v)return v}return null}const y=d[p.symbols.any];if(y)return{root:d[y.root],compile:y.compile};c(Object.getPrototypeOf(d)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const _ in d){const v=b.walk(d[_]);if(v)return v}return null},b.simple=function(d){return d===null||["boolean","string","number"].includes(typeof d)},l.when=function(d,y,_){if(_===void 0&&(c(y&&typeof y=="object","Missing options"),_=y,y=g.create(".")),Array.isArray(_)&&(_={switch:_}),p.assertOptions(_,["is","not","then","otherwise","switch","break"]),p.isSchema(y))return c(_.is===void 0,'"is" can not be used with a schema condition'),c(_.not===void 0,'"not" can not be used with a schema condition'),c(_.switch===void 0,'"switch" can not be used with a schema condition'),b.condition(d,{is:y,then:_.then,otherwise:_.otherwise,break:_.break});if(c(g.isRef(y)||typeof y=="string","Invalid condition:",y),c(_.not===void 0||_.is===void 0,'Cannot combine "is" with "not"'),_.switch===void 0){let E=_;_.not!==void 0&&(E={is:_.not,then:_.otherwise,otherwise:_.then,break:_.break});let S=E.is!==void 0?d.$_compile(E.is):d.$_root.invalid(null,!1,0,"").required();return c(E.then!==void 0||E.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),c(E.break===void 0||E.then===void 0||E.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),_.is===void 0||g.isRef(_.is)||p.isSchema(_.is)||(S=S.required()),b.condition(d,{ref:l.ref(y),is:S,then:E.then,otherwise:E.otherwise,break:E.break})}c(Array.isArray(_.switch),'"switch" must be an array'),c(_.is===void 0,'Cannot combine "switch" with "is"'),c(_.not===void 0,'Cannot combine "switch" with "not"'),c(_.then===void 0,'Cannot combine "switch" with "then"');const v={ref:l.ref(y),switch:[],break:_.break};for(let E=0;E<_.switch.length;++E){const S=_.switch[E],A=E===_.switch.length-1;p.assertOptions(S,A?["is","then","otherwise"]:["is","then"]),c(S.is!==void 0,'Switch statement missing "is"'),c(S.then!==void 0,'Switch statement missing "then"');const R={is:d.$_compile(S.is),then:d.$_compile(S.then)};if(g.isRef(S.is)||p.isSchema(S.is)||(R.is=R.is.required()),A){c(_.otherwise===void 0||S.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const D=_.otherwise!==void 0?_.otherwise:S.otherwise;D!==void 0&&(c(v.break===void 0,"Cannot specify both otherwise and break"),R.otherwise=d.$_compile(D))}v.switch.push(R)}return v},b.condition=function(d,y){for(const _ of["then","otherwise"])y[_]===void 0?delete y[_]:y[_]=d.$_compile(y[_]);return y}},6354:(o,l,f)=>{const c=f(5688),p=f(8160),g=f(3328);l.Report=class{constructor(b,d,y,_,v,E,S){if(this.code=b,this.flags=_,this.messages=v,this.path=E.path,this.prefs=S,this.state=E,this.value=d,this.message=null,this.template=null,this.local=y||{},this.local.label=l.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const A=this.path[this.path.length-1];typeof A!="object"&&(this.local.key=A)}}_setTemplate(b){if(this.template=b,!this.flags.label&&this.path.length===0){const d=this._template(this.template,"root");d&&(this.local.label=d)}}toString(){if(this.message)return this.message;const b=this.code;if(!this.prefs.errors.render)return this.code;const d=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return d===void 0?`Error code "${b}" is not defined, your custom type is missing the correct messages definition`:(this.message=d.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(b,d){return l.template(this.value,b,d||this.code,this.state,this.prefs)}},l.path=function(b){let d="";for(const y of b)typeof y!="object"&&(typeof y=="string"?(d&&(d+="."),d+=y):d+=`[${y}]`);return d},l.template=function(b,d,y,_,v){if(!d)return;if(g.isTemplate(d))return y!=="root"?d:null;let E=v.errors.language;if(p.isResolvable(E)&&(E=E.resolve(b,_,v)),E&&d[E]){if(d[E][y]!==void 0)return d[E][y];if(d[E]["*"]!==void 0)return d[E]["*"]}return d[y]?d[y]:d["*"]},l.label=function(b,d,y,_){if(!y.errors.label)return"";if(b.label)return b.label;let v=d.path;return y.errors.label==="key"&&d.path.length>1&&(v=d.path.slice(-1)),l.path(v)||l.template(null,y.messages,"root",d,y)||_&&l.template(null,_,"root",d,y)||"value"},l.process=function(b,d,y){if(!b)return null;const{override:_,message:v,details:E}=l.details(b);if(_)return _;if(y.errors.stack)return new l.ValidationError(v,E,d);const S=Error.stackTraceLimit;Error.stackTraceLimit=0;const A=new l.ValidationError(v,E,d);return Error.stackTraceLimit=S,A},l.details=function(b,d={}){let y=[];const _=[];for(const v of b){if(v instanceof Error){if(d.override!==!1)return{override:v};const S=v.toString();y.push(S),_.push({message:S,type:"override",context:{error:v}});continue}const E=v.toString();y.push(E),_.push({message:E,path:v.path.filter(S=>typeof S!="object"),type:v.code,context:v.local})}return y.length>1&&(y=[...new Set(y)]),{message:y.join(". "),details:_}},l.ValidationError=class extends Error{constructor(b,d,y){super(b),this._original=y,this.details=d}static isError(b){return b instanceof l.ValidationError}},l.ValidationError.prototype.isJoi=!0,l.ValidationError.prototype.name="ValidationError",l.ValidationError.prototype.annotate=c.error},8901:(o,l,f)=>{const c=f(375),p=f(8571),g=f(8160),b=f(6914),d={};l.type=function(y,_){const v=Object.getPrototypeOf(y),E=p(v),S=y._assign(Object.create(E)),A=Object.assign({},_);delete A.base,E._definition=A;const R=v._definition||{};A.messages=b.merge(R.messages,A.messages),A.properties=Object.assign({},R.properties,A.properties),S.type=A.type,A.flags=Object.assign({},R.flags,A.flags);const D=Object.assign({},R.terms);if(A.terms)for(const I in A.terms){const T=A.terms[I];c(S.$_terms[I]===void 0,"Invalid term override for",A.type,I),S.$_terms[I]=T.init,D[I]=T}A.terms=D,A.args||(A.args=R.args),A.prepare=d.prepare(A.prepare,R.prepare),A.coerce&&(typeof A.coerce=="function"&&(A.coerce={method:A.coerce}),A.coerce.from&&!Array.isArray(A.coerce.from)&&(A.coerce={method:A.coerce.method,from:[].concat(A.coerce.from)})),A.coerce=d.coerce(A.coerce,R.coerce),A.validate=d.validate(A.validate,R.validate);const k=Object.assign({},R.rules);if(A.rules)for(const I in A.rules){const T=A.rules[I];c(typeof T=="object","Invalid rule definition for",A.type,I);let x=T.method;if(x===void 0&&(x=function(){return this.$_addRule(I)}),x&&(c(!E[I],"Rule conflict in",A.type,I),E[I]=x),c(!k[I],"Rule conflict in",A.type,I),k[I]=T,T.alias){const O=[].concat(T.alias);for(const L of O)E[L]=T.method}T.args&&(T.argsByName=new Map,T.args=T.args.map(O=>(typeof O=="string"&&(O={name:O}),c(!T.argsByName.has(O.name),"Duplicated argument name",O.name),g.isSchema(O.assert)&&(O.assert=O.assert.strict().label(O.name)),T.argsByName.set(O.name,O),O)))}A.rules=k;const V=Object.assign({},R.modifiers);if(A.modifiers)for(const I in A.modifiers){c(!E[I],"Rule conflict in",A.type,I);const T=A.modifiers[I];c(typeof T=="function","Invalid modifier definition for",A.type,I);const x=function(O){return this.rule({[I]:O})};E[I]=x,V[I]=T}if(A.modifiers=V,A.overrides){E._super=v,S.$_super={};for(const I in A.overrides)c(v[I],"Cannot override missing",I),A.overrides[I][g.symbols.parent]=v[I],S.$_super[I]=v[I].bind(S);Object.assign(E,A.overrides)}A.cast=Object.assign({},R.cast,A.cast);const P=Object.assign({},R.manifest,A.manifest);return P.build=d.build(A.manifest&&A.manifest.build,R.manifest&&R.manifest.build),A.manifest=P,A.rebuild=d.rebuild(A.rebuild,R.rebuild),S},d.build=function(y,_){return y&&_?function(v,E){return _(y(v,E),E)}:y||_},d.coerce=function(y,_){return y&&_?{from:y.from&&_.from?[...new Set([...y.from,..._.from])]:null,method(v,E){let S;if((!_.from||_.from.includes(typeof v))&&(S=_.method(v,E),S)){if(S.errors||S.value===void 0)return S;v=S.value}if(!y.from||y.from.includes(typeof v)){const A=y.method(v,E);if(A)return A}return S}}:y||_},d.prepare=function(y,_){return y&&_?function(v,E){const S=y(v,E);if(S){if(S.errors||S.value===void 0)return S;v=S.value}return _(v,E)||S}:y||_},d.rebuild=function(y,_){return y&&_?function(v){_(v),y(v)}:y||_},d.validate=function(y,_){return y&&_?function(v,E){const S=_(v,E);if(S){if(S.errors&&(!Array.isArray(S.errors)||S.errors.length))return S;v=S.value}return y(v,E)||S}:y||_}},5107:(o,l,f)=>{const c=f(375),p=f(8571),g=f(8652),b=f(8160),d=f(3292),y=f(6354),_=f(8901),v=f(9708),E=f(6133),S=f(3328),A=f(1152);let R;const D={types:{alternatives:f(4946),any:f(8068),array:f(546),boolean:f(4937),date:f(7500),function:f(390),link:f(8785),number:f(3832),object:f(8966),string:f(7417),symbol:f(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const k={_types:new Set(Object.keys(D.types))};for(const V of k._types)k[V]=function(...P){return c(!P.length||["alternatives","link","object"].includes(V),"The",V,"type does not allow arguments"),D.generate(this,D.types[V],P)};for(const V of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])k[V]=function(...P){return this.any()[V](...P)};Object.assign(k,D.methods);for(const V in D.aliases){const P=D.aliases[V];k[V]=k[P]}return k.x=k.expression,A.setup&&A.setup(k),k}};D.methods={ValidationError:y.ValidationError,version:b.version,cache:g.provider,assert(k,V,...P){D.assert(k,V,!0,P)},attempt:(k,V,...P)=>D.assert(k,V,!1,P),build(k){return c(typeof v.build=="function","Manifest functionality disabled"),v.build(this,k)},checkPreferences(k){b.checkPreferences(k)},compile(k,V){return d.compile(this,k,V)},defaults(k){c(typeof k=="function","modifier must be a function");const V=Object.assign({},this);for(const P of V._types){const I=k(V[P]());c(b.isSchema(I),"modifier must return a valid schema object"),V[P]=function(...T){return D.generate(this,I,T)}}return V},expression:(...k)=>new S(...k),extend(...k){b.verifyFlat(k,"extend"),R=R||f(3378),c(k.length,"You need to provide at least one extension"),this.assert(k,R.extensions);const V=Object.assign({},this);V._types=new Set(V._types);for(let P of k){typeof P=="function"&&(P=P(V)),this.assert(P,R.extension);const I=D.expandExtension(P,V);for(const T of I){c(V[T.type]===void 0||V._types.has(T.type),"Cannot override name",T.type);const x=T.base||this.any(),O=_.type(x,T);V._types.add(T.type),V[T.type]=function(...L){return D.generate(this,O,L)}}}return V},isError:y.ValidationError.isError,isExpression:S.isTemplate,isRef:E.isRef,isSchema:b.isSchema,in:(...k)=>E.in(...k),override:b.symbols.override,ref:(...k)=>E.create(...k),types(){const k={};for(const V of this._types)k[V]=this[V]();for(const V in D.aliases)k[V]=this[V]();return k}},D.assert=function(k,V,P,I){const T=I[0]instanceof Error||typeof I[0]=="string"?I[0]:null,x=T!==null?I[1]:I[0],O=V.validate(k,b.preferences({errors:{stack:!0}},x||{}));let L=O.error;if(!L)return O.value;if(T instanceof Error)throw T;const $=P&&typeof L.annotate=="function"?L.annotate():L.message;throw L instanceof y.ValidationError==0&&(L=p(L)),L.message=T?`${T} ${$}`:$,L},D.generate=function(k,V,P){return c(k,"Must be invoked on a Joi instance."),V.$_root=k,V._definition.args&&P.length?V._definition.args(V,...P):V},D.expandExtension=function(k,V){if(typeof k.type=="string")return[k];const P=[];for(const I of V._types)if(k.type.test(I)){const T=Object.assign({},k);T.type=I,T.base=V[I](),P.push(T)}return P},o.exports=D.root()},6914:(o,l,f)=>{const c=f(375),p=f(8571),g=f(3328);l.compile=function(b,d){if(typeof b=="string")return c(!d,"Cannot set single message string"),new g(b);if(g.isTemplate(b))return c(!d,"Cannot set single message template"),b;c(typeof b=="object"&&!Array.isArray(b),"Invalid message options"),d=d?p(d):{};for(let y in b){const _=b[y];if(y==="root"||g.isTemplate(_)){d[y]=_;continue}if(typeof _=="string"){d[y]=new g(_);continue}c(typeof _=="object"&&!Array.isArray(_),"Invalid message for",y);const v=y;for(y in d[v]=d[v]||{},_){const E=_[y];y==="root"||g.isTemplate(E)?d[v][y]=E:(c(typeof E=="string","Invalid message for",y,"in",v),d[v][y]=new g(E))}}return d},l.decompile=function(b){const d={};for(let y in b){const _=b[y];if(y==="root"){d.root=_;continue}if(g.isTemplate(_)){d[y]=_.describe({compact:!0});continue}const v=y;for(y in d[v]={},_){const E=_[y];y!=="root"?d[v][y]=E.describe({compact:!0}):d[v].root=E}}return d},l.merge=function(b,d){if(!b)return l.compile(d);if(!d)return b;if(typeof d=="string")return new g(d);if(g.isTemplate(d))return d;const y=p(b);for(let _ in d){const v=d[_];if(_==="root"||g.isTemplate(v)){y[_]=v;continue}if(typeof v=="string"){y[_]=new g(v);continue}c(typeof v=="object"&&!Array.isArray(v),"Invalid message for",_);const E=_;for(_ in y[E]=y[E]||{},v){const S=v[_];_==="root"||g.isTemplate(S)?y[E][_]=S:(c(typeof S=="string","Invalid message for",_,"in",E),y[E][_]=new g(S))}}return y}},2294:(o,l,f)=>{const c=f(375),p=f(8160),g=f(6133),b={};l.Ids=b.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const d=new b.Ids;return d._byId=new Map(this._byId),d._byKey=new Map(this._byKey),d._schemaChain=this._schemaChain,d}concat(d){d._schemaChain&&(this._schemaChain=!0);for(const[y,_]of d._byId.entries())c(!this._byKey.has(y),"Schema id conflicts with existing key:",y),this._byId.set(y,_);for(const[y,_]of d._byKey.entries())c(!this._byId.has(y),"Schema key conflicts with existing id:",y),this._byKey.set(y,_)}fork(d,y,_){const v=this._collect(d);v.push({schema:_});const E=v.shift();let S={id:E.id,schema:y(E.schema)};c(p.isSchema(S.schema),"adjuster function failed to return a joi schema type");for(const A of v)S={id:A.id,schema:b.fork(A.schema,S.id,S.schema)};return S.schema}labels(d,y=[]){const _=d[0],v=this._get(_);if(!v)return[...y,...d].join(".");const E=d.slice(1);return y=[...y,v.schema._flags.label||_],E.length?v.schema._ids.labels(E,y):y.join(".")}reach(d,y=[]){const _=d[0],v=this._get(_);c(v,"Schema does not contain path",[...y,...d].join("."));const E=d.slice(1);return E.length?v.schema._ids.reach(E,[...y,_]):v.schema}register(d,{key:y}={}){if(!d||!p.isSchema(d))return;(d.$_property("schemaChain")||d._ids._schemaChain)&&(this._schemaChain=!0);const _=d._flags.id;if(_){const v=this._byId.get(_);c(!v||v.schema===d,"Cannot add different schemas with the same id:",_),c(!this._byKey.has(_),"Schema id conflicts with existing key:",_),this._byId.set(_,{schema:d,id:_})}y&&(c(!this._byKey.has(y),"Schema already contains key:",y),c(!this._byId.has(y),"Schema key conflicts with existing id:",y),this._byKey.set(y,{schema:d,id:y}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(d,y=[],_=[]){const v=d[0],E=this._get(v);c(E,"Schema does not contain path",[...y,...d].join(".")),_=[E,..._];const S=d.slice(1);return S.length?E.schema._ids._collect(S,[...y,v],_):_}_get(d){return this._byId.get(d)||this._byKey.get(d)}},b.fork=function(d,y,_){const v=l.schema(d,{each:(E,{key:S})=>{if(y===(E._flags.id||S))return _},ref:!1});return v?v.$_mutateRebuild():d},l.schema=function(d,y){let _;for(const v in d._flags){if(v[0]==="_")continue;const E=b.scan(d._flags[v],{source:"flags",name:v},y);E!==void 0&&(_=_||d.clone(),_._flags[v]=E)}for(let v=0;v<d._rules.length;++v){const E=d._rules[v],S=b.scan(E.args,{source:"rules",name:E.name},y);if(S!==void 0){_=_||d.clone();const A=Object.assign({},E);A.args=S,_._rules[v]=A,_._singleRules.get(E.name)===E&&_._singleRules.set(E.name,A)}}for(const v in d.$_terms){if(v[0]==="_")continue;const E=b.scan(d.$_terms[v],{source:"terms",name:v},y);E!==void 0&&(_=_||d.clone(),_.$_terms[v]=E)}return _},b.scan=function(d,y,_,v,E){const S=v||[];if(d===null||typeof d!="object")return;let A;if(Array.isArray(d)){for(let R=0;R<d.length;++R){const D=y.source==="terms"&&y.name==="keys"&&d[R].key,k=b.scan(d[R],y,_,[R,...S],D);k!==void 0&&(A=A||d.slice(),A[R]=k)}return A}if(_.schema!==!1&&p.isSchema(d)||_.ref!==!1&&g.isRef(d)){const R=_.each(d,{...y,path:S,key:E});return R===d?void 0:R}for(const R in d){if(R[0]==="_")continue;const D=b.scan(d[R],y,_,[R,...S],E);D!==void 0&&(A=A||Object.assign({},d),A[R]=D)}return A}},6133:(o,l,f)=>{const c=f(375),p=f(8571),g=f(9621),b=f(8160);let d;const y={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};l.create=function(_,v={}){c(typeof _=="string","Invalid reference key:",_),b.assertOptions(v,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),c(!v.prefix||typeof v.prefix=="object","options.prefix must be of type object");const E=Object.assign({},y.defaults,v);delete E.prefix;const S=E.separator,A=y.context(_,S,v.prefix);if(E.type=A.type,_=A.key,E.type==="value")if(A.root&&(c(!S||_[0]!==S,"Cannot specify relative path with root prefix"),E.ancestor="root",_||(_=null)),S&&S===_)_=null,E.ancestor=0;else if(E.ancestor!==void 0)c(!S||!_||_[0]!==S,"Cannot combine prefix with ancestor option");else{const[R,D]=y.ancestor(_,S);D&&(_=_.slice(D))===""&&(_=null),E.ancestor=R}return E.path=S?_===null?[]:_.split(S):[_],new y.Ref(E)},l.in=function(_,v={}){return l.create(_,{...v,in:!0})},l.isRef=function(_){return!!_&&!!_[b.symbols.ref]},y.Ref=class{constructor(_){c(typeof _=="object","Invalid reference construction"),b.assertOptions(_,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),c([!1,void 0].includes(_.separator)||typeof _.separator=="string"&&_.separator.length===1,"Invalid separator"),c(!_.adjust||typeof _.adjust=="function","options.adjust must be a function"),c(!_.map||Array.isArray(_.map),"options.map must be an array"),c(!_.map||!_.adjust,"Cannot set both map and adjust options"),Object.assign(this,y.defaults,_),c(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(_,v,E,S,A={}){return c(!this.in||A.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(E.context,v,A):this.type==="local"?this._resolve(S,v,A):this.ancestor?this.ancestor==="root"?this._resolve(v.ancestors[v.ancestors.length-1],v,A):(c(this.ancestor<=v.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(v.ancestors[this.ancestor-1],v,A)):this._resolve(_,v,A)}_resolve(_,v,E){let S;if(this.type==="value"&&v.mainstay.shadow&&E.shadow!==!1&&(S=v.mainstay.shadow.get(this.absolute(v))),S===void 0&&(S=g(_,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(S=this.adjust(S)),this.map){const A=this.map.get(S);A!==void 0&&(S=A)}return v.mainstay&&v.mainstay.tracer.resolve(v,this,S),S}toString(){return this.display}absolute(_){return[..._.path.slice(0,-this.ancestor),...this.path]}clone(){return new y.Ref(this)}describe(){const _={path:this.path};this.type!=="value"&&(_.type=this.type),this.separator!=="."&&(_.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(_.ancestor=this.ancestor),this.map&&(_.map=[...this.map]);for(const v of["adjust","iterables","render"])this[v]!==null&&this[v]!==void 0&&(_[v]=this[v]);return this.in!==!1&&(_.in=!0),{ref:_}}updateDisplay(){const _=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${_}`);if(!this.separator)return void(this.display=`ref:${_}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${_}`);if(this.ancestor==="root")return void(this.display=`ref:root:${_}`);if(this.ancestor===1)return void(this.display=`ref:${_||".."}`);const v=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${v}${_||""}`}},y.Ref.prototype[b.symbols.ref]=!0,l.build=function(_){return(_=Object.assign({},y.defaults,_)).type==="value"&&_.ancestor===void 0&&(_.ancestor=1),new y.Ref(_)},y.context=function(_,v,E={}){if(_=_.trim(),E){const S=E.global===void 0?"$":E.global;if(S!==v&&_.startsWith(S))return{key:_.slice(S.length),type:"global"};const A=E.local===void 0?"#":E.local;if(A!==v&&_.startsWith(A))return{key:_.slice(A.length),type:"local"};const R=E.root===void 0?"/":E.root;if(R!==v&&_.startsWith(R))return{key:_.slice(R.length),type:"value",root:!0}}return{key:_,type:"value"}},y.ancestor=function(_,v){if(!v)return[1,0];if(_[0]!==v)return[1,0];if(_[1]!==v)return[0,1];let E=2;for(;_[E]===v;)++E;return[E-1,E]},l.toSibling=0,l.toParent=1,l.Manager=class{constructor(){this.refs=[]}register(_,v){if(_)if(v=v===void 0?l.toParent:v,Array.isArray(_))for(const E of _)this.register(E,v);else if(b.isSchema(_))for(const E of _._refs.refs)E.ancestor-v>=0&&this.refs.push({ancestor:E.ancestor-v,root:E.root});else l.isRef(_)&&_.type==="value"&&_.ancestor-v>=0&&this.refs.push({ancestor:_.ancestor-v,root:_.root}),d=d||f(3328),d.isTemplate(_)&&this.register(_.refs(),v)}get length(){return this.refs.length}clone(){const _=new l.Manager;return _.refs=p(this.refs),_}reset(){this.refs=[]}roots(){return this.refs.filter(_=>!_.ancestor).map(_=>_.root)}}},3378:(o,l,f)=>{const c=f(5107),p={};p.wrap=c.string().min(1).max(2).allow(!1),l.preferences=c.object({allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),context:c.object(),convert:c.boolean(),dateFormat:c.valid("date","iso","string","time","utc"),debug:c.boolean(),errors:{escapeHtml:c.boolean(),label:c.valid("path","key",!1),language:[c.string(),c.object().ref()],render:c.boolean(),stack:c.boolean(),wrap:{label:p.wrap,array:p.wrap,string:p.wrap}},externals:c.boolean(),messages:c.object(),noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:c.valid("required","optional","forbidden"),skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()}).strict(),p.nameRx=/^[a-zA-Z0-9]\w*$/,p.rule=c.object({alias:c.array().items(c.string().pattern(p.nameRx)).single(),args:c.array().items(c.string(),c.object({name:c.string().pattern(p.nameRx).required(),ref:c.boolean(),assert:c.alternatives([c.function(),c.object().schema()]).conditional("ref",{is:!0,then:c.required()}),normalize:c.function(),message:c.string().when("assert",{is:c.function(),then:c.required()})})),convert:c.boolean(),manifest:c.boolean(),method:c.function().allow(!1),multi:c.boolean(),validate:c.function()}),l.extension=c.object({type:c.alternatives([c.string(),c.object().regex()]).required(),args:c.function(),cast:c.object().pattern(p.nameRx,c.object({from:c.function().maxArity(1).required(),to:c.function().minArity(1).maxArity(2).required()})),base:c.object().schema().when("type",{is:c.object().regex(),then:c.forbidden()}),coerce:[c.function().maxArity(3),c.object({method:c.function().maxArity(3).required(),from:c.array().items(c.string()).single()})],flags:c.object().pattern(p.nameRx,c.object({setter:c.string(),default:c.any()})),manifest:{build:c.function().arity(2)},messages:[c.object(),c.string()],modifiers:c.object().pattern(p.nameRx,c.function().minArity(1).maxArity(2)),overrides:c.object().pattern(p.nameRx,c.function()),prepare:c.function().maxArity(3),rebuild:c.function().arity(1),rules:c.object().pattern(p.nameRx,p.rule),terms:c.object().pattern(p.nameRx,c.object({init:c.array().allow(null).required(),manifest:c.object().pattern(/.+/,[c.valid("schema","single"),c.object({mapped:c.object({from:c.string().required(),to:c.string().required()}).required()})])})),validate:c.function().maxArity(3)}).strict(),l.extensions=c.array().items(c.object(),c.function().arity(1)).strict(),p.desc={buffer:c.object({buffer:c.string()}),func:c.object({function:c.function().required(),options:{literal:!0}}),override:c.object({override:!0}),ref:c.object({ref:c.object({type:c.valid("value","global","local"),path:c.array().required(),separator:c.string().length(1).allow(!1),ancestor:c.number().min(0).integer().allow("root"),map:c.array().items(c.array().length(2)).min(1),adjust:c.function(),iterables:c.boolean(),in:c.boolean(),render:c.boolean()}).required()}),regex:c.object({regex:c.string().min(3)}),special:c.object({special:c.valid("deep").required()}),template:c.object({template:c.string().required(),options:c.object()}),value:c.object({value:c.alternatives([c.object(),c.array()]).required()})},p.desc.entity=c.alternatives([c.array().items(c.link("...")),c.boolean(),c.function(),c.number(),c.string(),p.desc.buffer,p.desc.func,p.desc.ref,p.desc.regex,p.desc.special,p.desc.template,p.desc.value,c.link("/")]),p.desc.values=c.array().items(null,c.boolean(),c.function(),c.number().allow(1/0,-1/0),c.string().allow(""),c.symbol(),p.desc.buffer,p.desc.func,p.desc.override,p.desc.ref,p.desc.regex,p.desc.template,p.desc.value),p.desc.messages=c.object().pattern(/.+/,[c.string(),p.desc.template,c.object().pattern(/.+/,[c.string(),p.desc.template])]),l.description=c.object({type:c.string().required(),flags:c.object({cast:c.string(),default:c.any(),description:c.string(),empty:c.link("/"),failover:p.desc.entity,id:c.string(),label:c.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:c.boolean(),unit:c.string()}).unknown(),preferences:{allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),convert:c.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:c.boolean(),label:["path","key"],language:[c.string(),p.desc.ref],wrap:{label:p.wrap,array:p.wrap}},externals:c.boolean(),messages:p.desc.messages,noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:["required","optional","forbidden"],skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()},allow:p.desc.values,invalid:p.desc.values,rules:c.array().min(1).items({name:c.string().required(),args:c.object().min(1),keep:c.boolean(),message:[c.string(),p.desc.messages],warn:c.boolean()}),keys:c.object().pattern(/.*/,c.link("/")),link:p.desc.ref}).pattern(/^[a-z]\w*$/,c.any())},493:(o,l,f)=>{const c=f(8571),p=f(9621),g=f(8160),b={value:Symbol("value")};o.exports=b.State=class{constructor(d,y,_){this.path=d,this.ancestors=y,this.mainstay=_.mainstay,this.schemas=_.schemas,this.debug=null}localize(d,y=null,_=null){const v=new b.State(d,y,this);return _&&v.schemas&&(v.schemas=[b.schemas(_),...v.schemas]),v}nest(d,y){const _=new b.State(this.path,this.ancestors,this);return _.schemas=_.schemas&&[b.schemas(d),..._.schemas],_.debug=y,_}shadow(d,y){this.mainstay.shadow=this.mainstay.shadow||new b.Shadow,this.mainstay.shadow.set(this.path,d,y)}snapshot(){this.mainstay.shadow&&(this._snapshot=c(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},b.schemas=function(d){return g.isSchema(d)?{schema:d}:d},b.Shadow=class{constructor(){this._values=null}set(d,y,_){if(!d.length||_==="strip"&&typeof d[d.length-1]=="number")return;this._values=this._values||new Map;let v=this._values;for(let E=0;E<d.length;++E){const S=d[E];let A=v.get(S);A||(A=new Map,v.set(S,A)),v=A}v[b.value]=y}get(d){const y=this.node(d);if(y)return y[b.value]}node(d){if(this._values)return p(this._values,d,{iterables:!0})}override(d,y){if(!this._values)return;const _=d.slice(0,-1),v=d[d.length-1],E=p(this._values,_,{iterables:!0});y?E.set(v,y):E&&E.delete(v)}}},3328:(o,l,f)=>{const c=f(375),p=f(8571),g=f(5277),b=f(1447),d=f(8160),y=f(6354),_=f(6133),v={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};o.exports=v.Template=class{constructor(E,S){if(c(typeof E=="string","Template source must be a string"),c(!E.includes("\0")&&!E.includes(""),"Template source cannot contain reserved control characters"),this.source=E,this.rendered=E,this._template=null,S){const{functions:A,...R}=S;this._settings=Object.keys(R).length?p(R):void 0,this._functions=A,this._functions&&(c(Object.keys(this._functions).every(D=>typeof D=="string"),"Functions keys must be strings"),c(Object.values(this._functions).every(D=>typeof D=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const E=v.encode(this.source),S=v.split(E);let A=!1;const R=[],D=S.shift();D&&R.push(D);for(const k of S){const V=k[0]!=="{",P=V?"}":"}}",I=k.indexOf(P);if(I===-1||k[1]==="{"){R.push(`{${v.decode(k)}`);continue}let T=k.slice(V?0:1,I);const x=T[0]===":";x&&(T=T.slice(1));const O=this._ref(v.decode(T),{raw:V,wrapped:x});R.push(O),typeof O!="string"&&(A=!0);const L=k.slice(I+P.length);L&&R.push(v.decode(L))}A?this._template=R:this.rendered=R.join("")}static date(E,S){return v.dateFormat[S.dateFormat].call(E)}describe(E={}){if(!this._settings&&E.compact)return this.source;const S={template:this.source};return this._settings&&(S.options=this._settings),this._functions&&(S.functions=this._functions),S}static build(E){return new v.Template(E.template,E.options||E.functions?{...E.options,functions:E.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(E){return!!E&&!!E[d.symbols.template]}refs(){if(!this._template)return;const E=[];for(const S of this._template)typeof S!="string"&&E.push(...S.refs);return E}resolve(E,S,A,R){return this._template&&this._template.length===1?this._part(this._template[0],E,S,A,R,{}):this.render(E,S,A,R)}_part(E,...S){return E.ref?E.ref.resolve(...S):E.formula.evaluate(S)}render(E,S,A,R,D={}){if(!this.isDynamic())return this.rendered;const k=[];for(const V of this._template)if(typeof V=="string")k.push(V);else{const P=this._part(V,E,S,A,R,D),I=v.stringify(P,E,S,A,R,D);if(I!==void 0){const T=V.raw||(D.errors&&D.errors.escapeHtml)===!1?I:g(I);k.push(v.wrap(T,V.wrapped&&A.errors.wrap.label))}}return k.join("")}_ref(E,{raw:S,wrapped:A}){const R=[],D=V=>{const P=_.create(V,this._settings);return R.push(P),I=>{const T=P.resolve(...I);return T!==void 0?T:null}};try{const V=this._functions?{...v.functions,...this._functions}:v.functions;var k=new b.Parser(E,{reference:D,functions:V,constants:v.constants})}catch(V){throw V.message=`Invalid template variable "${E}" fails due to: ${V.message}`,V}if(k.single){if(k.single.type==="reference"){const V=R[0];return{ref:V,raw:S,refs:R,wrapped:A||V.type==="local"&&V.key==="label"}}return v.stringify(k.single.value)}return{formula:k,raw:S,refs:R}}toString(){return this.source}},v.Template.prototype[d.symbols.template]=!0,v.Template.prototype.isImmutable=!0,v.encode=function(E){return E.replace(/\\(\{+)/g,(S,A)=>v.opens.slice(0,A.length)).replace(/\\(\}+)/g,(S,A)=>v.closes.slice(0,A.length))},v.decode=function(E){return E.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},v.split=function(E){const S=[];let A="";for(let R=0;R<E.length;++R){const D=E[R];if(D==="{"){let k="";for(;R+1<E.length&&E[R+1]==="{";)k+="{",++R;S.push(A),A=k}else A+=D}return S.push(A),S},v.wrap=function(E,S){return S?S.length===1?`${S}${E}${S}`:`${S[0]}${E}${S[1]}`:E},v.stringify=function(E,S,A,R,D,k={}){const V=typeof E,P=R&&R.errors&&R.errors.wrap||{};let I=!1;if(_.isRef(E)&&E.render&&(I=E.in,E=E.resolve(S,A,R,D,{in:E.in,...k})),E===null)return"null";if(V==="string")return v.wrap(E,k.arrayItems&&P.string);if(V==="number"||V==="function"||V==="symbol")return E.toString();if(V!=="object")return JSON.stringify(E);if(E instanceof Date)return v.Template.date(E,R);if(E instanceof Map){const x=[];for(const[O,L]of E.entries())x.push(`${O.toString()} -> ${L.toString()}`);E=x}if(!Array.isArray(E))return E.toString();const T=[];for(const x of E)T.push(v.stringify(x,S,A,R,D,{arrayItems:!0,...k}));return v.wrap(T.join(", "),!I&&P.array)},v.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},v.functions={if:(E,S,A)=>E?S:A,length:E=>typeof E=="string"?E.length:E&&typeof E=="object"?Array.isArray(E)?E.length:Object.keys(E).length:null,msg(E){const[S,A,R,D,k]=this,V=k.messages;if(!V)return"";const P=y.template(S,V[0],E,A,R)||y.template(S,V[1],E,A,R);return P?P.render(S,A,R,D,k):""},number:E=>typeof E=="number"?E:typeof E=="string"?parseFloat(E):typeof E=="boolean"?E?1:0:E instanceof Date?E.getTime():null}},4946:(o,l,f)=>{const c=f(375),p=f(1687),g=f(8068),b=f(8160),d=f(3292),y=f(6354),_=f(6133),v={};o.exports=g.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:_.toSibling}},args:(E,...S)=>S.length===1&&Array.isArray(S[0])?E.try(...S[0]):E.try(...S),validate(E,S){const{schema:A,error:R,state:D,prefs:k}=S;if(A._flags.match){const P=[],I=[];for(let x=0;x<A.$_terms.matches.length;++x){const O=A.$_terms.matches[x],L=D.nest(O.schema,`match.${x}`);L.snapshot();const $=O.schema.$_validate(E,L,k);$.errors?(I.push($.errors),L.restore()):(P.push($.value),L.commit())}if(P.length===0)return{errors:R("alternatives.any",{details:I.map(x=>y.details(x,{override:!1}))})};if(A._flags.match==="one")return P.length===1?{value:P[0]}:{errors:R("alternatives.one")};if(P.length!==A.$_terms.matches.length)return{errors:R("alternatives.all",{details:I.map(x=>y.details(x,{override:!1}))})};const T=x=>x.$_terms.matches.some(O=>O.schema.type==="object"||O.schema.type==="alternatives"&&T(O.schema));return T(A)?{value:P.reduce((x,O)=>p(x,O,{mergeArrays:!1}))}:{value:P[P.length-1]}}const V=[];for(let P=0;P<A.$_terms.matches.length;++P){const I=A.$_terms.matches[P];if(I.schema){const O=D.nest(I.schema,`match.${P}`);O.snapshot();const L=I.schema.$_validate(E,O,k);if(!L.errors)return O.commit(),L;O.restore(),V.push({schema:I.schema,reports:L.errors});continue}const T=I.ref?I.ref.resolve(E,D,k):E,x=I.is?[I]:I.switch;for(let O=0;O<x.length;++O){const L=x[O],{is:$,then:U,otherwise:he}=L,pe=`match.${P}${I.switch?"."+O:""}`;if($.$_match(T,D.nest($,`${pe}.is`),k)){if(U)return U.$_validate(E,D.nest(U,`${pe}.then`),k)}else if(he)return he.$_validate(E,D.nest(he,`${pe}.otherwise`),k)}}return v.errors(V,S)},rules:{conditional:{method(E,S){c(!this._flags._endedSwitch,"Unreachable condition"),c(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),c(S.break===void 0,"Cannot use break option with alternatives conditional");const A=this.clone(),R=d.when(A,E,S),D=R.is?[R]:R.switch;for(const k of D)if(k.then&&k.otherwise){A.$_setFlag("_endedSwitch",!0,{clone:!1});break}return A.$_terms.matches.push(R),A.$_mutateRebuild()}},match:{method(E){if(c(["any","one","all"].includes(E),"Invalid alternatives match mode",E),E!=="any")for(const S of this.$_terms.matches)c(S.schema,"Cannot combine match mode",E,"with conditional rules");return this.$_setFlag("match",E)}},try:{method(...E){c(E.length,"Missing alternative schemas"),b.verifyFlat(E,"try"),c(!this._flags._endedSwitch,"Unreachable condition");const S=this.clone();for(const A of E)S.$_terms.matches.push({schema:S.$_compile(A)});return S.$_mutateRebuild()}}},overrides:{label(E){return this.$_parent("label",E).$_modify({each:(S,A)=>A.path[0]!=="is"&&typeof S._flags.label!="string"?S.label(E):void 0,ref:!1})}},rebuild(E){E.$_modify({each:S=>{b.isSchema(S)&&S.type==="array"&&E.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(E,S){if(S.matches)for(const A of S.matches){const{schema:R,ref:D,is:k,not:V,then:P,otherwise:I}=A;E=R?E.try(R):D?E.conditional(D,{is:k,then:P,not:V,otherwise:I,switch:A.switch}):E.conditional(k,{then:P,otherwise:I})}return E}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(E,{error:S,state:A}){if(!E.length)return{errors:S("alternatives.any")};if(E.length===1)return{errors:E[0].reports};const R=new Set,D=[];for(const{reports:k,schema:V}of E){if(k.length>1)return v.unmatched(E,S);const P=k[0];if(P instanceof y.Report==0)return v.unmatched(E,S);if(P.state.path.length!==A.path.length){D.push({type:V.type,report:P});continue}if(P.code==="any.only"){for(const x of P.local.valids)R.add(x);continue}const[I,T]=P.code.split(".");T!=="base"?D.push({type:V.type,report:P}):P.code==="object.base"?R.add(P.local.type):R.add(I)}return D.length?D.length===1?{errors:D[0].report}:v.unmatched(E,S):{errors:S("alternatives.types",{types:[...R]})}},v.unmatched=function(E,S){const A=[];for(const R of E)A.push(...R.reports);return{errors:S("alternatives.match",y.details(A,{override:!1}))}}},8068:(o,l,f)=>{const c=f(375),p=f(7629),g=f(8160),b=f(6914);o.exports=p.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(d,y){return c(typeof d=="function","Method must be a function"),c(y===void 0||y&&typeof y=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:d,description:y}})},validate(d,y,{method:_}){try{return _(d,y)}catch(v){return y.error("any.custom",{error:v})}},args:["method","description"],multi:!0},messages:{method(d){return this.prefs({messages:d})}},shared:{method(d){c(g.isSchema(d)&&d._flags.id,"Schema must be a schema with an id");const y=this.clone();return y.$_terms.shared=y.$_terms.shared||[],y.$_terms.shared.push(d),y.$_mutateRegister(d),y}},warning:{method(d,y){return c(d&&typeof d=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:d,local:y},warn:!0})},validate:(d,y,{code:_,local:v})=>y.error(_,v),args:["code","local"],multi:!0}},modifiers:{keep(d,y=!0){d.keep=y},message(d,y){d.message=b.compile(y)},warn(d,y=!0){d.warn=y}},manifest:{build(d,y){for(const _ in y){const v=y[_];if(["examples","externals","metas","notes","tags"].includes(_))for(const E of v)d=d[_.slice(0,-1)](E);else if(_!=="alterations")if(_!=="whens"){if(_==="shared")for(const E of v)d=d.shared(E)}else for(const E of v){const{ref:S,is:A,not:R,then:D,otherwise:k,concat:V}=E;d=V?d.concat(V):S?d.when(S,{is:A,not:R,then:D,otherwise:k,switch:E.switch,break:E.break}):d.when(A,{then:D,otherwise:k,break:E.break})}else{const E={};for(const{target:S,adjuster:A}of v)E[S]=A;d=d.alter(E)}}return d}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(o,l,f)=>{const c=f(375),p=f(9474),g=f(9621),b=f(8068),d=f(8160),y=f(3292),_={};o.exports=b.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(v,{schema:E,state:S,prefs:A}){if(!Array.isArray(v))return;const R=E.$_getRule("sort");return R?_.sort(E,v,R.args.options,S,A):void 0}},validate(v,{schema:E,error:S}){if(!Array.isArray(v)){if(E._flags.single){const A=[v];return A[d.symbols.arraySingle]=!0,{value:A}}return{errors:S("array.base")}}if(E.$_getRule("items")||E.$_terms.externals)return{value:v.slice()}},rules:{has:{method(v){v=this.$_compile(v,{appendPath:!0});const E=this.$_addRule({name:"has",args:{schema:v}});return E.$_mutateRegister(v),E},validate(v,{state:E,prefs:S,error:A},{schema:R}){const D=[v,...E.ancestors];for(let V=0;V<v.length;++V){const P=E.localize([...E.path,V],D,R);if(R.$_match(v[V],P,S))return v}const k=R._flags.label;return k?A("array.hasKnown",{patternLabel:k}):A("array.hasUnknown",null)},multi:!0},items:{method(...v){d.verifyFlat(v,"items");const E=this.$_addRule("items");for(let S=0;S<v.length;++S){const A=d.tryWithPath(()=>this.$_compile(v[S]),S,{append:!0});E.$_terms.items.push(A)}return E.$_mutateRebuild()},validate(v,{schema:E,error:S,state:A,prefs:R,errorsArray:D}){const k=E.$_terms._requireds.slice(),V=E.$_terms.ordered.slice(),P=[...E.$_terms._inclusions,...k],I=!v[d.symbols.arraySingle];delete v[d.symbols.arraySingle];const T=D();let x=v.length;for(let O=0;O<x;++O){const L=v[O];let $=!1,U=!1;const he=I?O:new Number(O),pe=[...A.path,he];if(!E._flags.sparse&&L===void 0){if(T.push(S("array.sparse",{key:he,path:pe,pos:O,value:void 0},A.localize(pe))),R.abortEarly)return T;V.shift();continue}const G=[v,...A.ancestors];for(const B of E.$_terms._exclusions)if(B.$_match(L,A.localize(pe,G,B),R,{presence:"ignore"})){if(T.push(S("array.excludes",{pos:O,value:L},A.localize(pe))),R.abortEarly)return T;$=!0,V.shift();break}if($)continue;if(E.$_terms.ordered.length){if(V.length){const B=V.shift(),ne=B.$_validate(L,A.localize(pe,G,B),R);if(ne.errors){if(T.push(...ne.errors),R.abortEarly)return T}else if(B._flags.result==="strip")_.fastSplice(v,O),--O,--x;else{if(!E._flags.sparse&&ne.value===void 0){if(T.push(S("array.sparse",{key:he,path:pe,pos:O,value:void 0},A.localize(pe))),R.abortEarly)return T;continue}v[O]=ne.value}continue}if(!E.$_terms.items.length){if(T.push(S("array.orderedLength",{pos:O,limit:E.$_terms.ordered.length})),R.abortEarly)return T;break}}const se=[];let ve=k.length;for(let B=0;B<ve;++B){const ne=A.localize(pe,G,k[B]);ne.snapshot();const me=k[B].$_validate(L,ne,R);if(se[B]=me,!me.errors){if(ne.commit(),v[O]=me.value,U=!0,_.fastSplice(k,B),--B,--ve,!E._flags.sparse&&me.value===void 0&&(T.push(S("array.sparse",{key:he,path:pe,pos:O,value:void 0},A.localize(pe))),R.abortEarly))return T;break}ne.restore()}if(U)continue;const xe=R.stripUnknown&&!!R.stripUnknown.arrays||!1;ve=P.length;for(const B of P){let ne;const me=k.indexOf(B);if(me!==-1)ne=se[me];else{const ce=A.localize(pe,G,B);if(ce.snapshot(),ne=B.$_validate(L,ce,R),!ne.errors){ce.commit(),B._flags.result==="strip"?(_.fastSplice(v,O),--O,--x):E._flags.sparse||ne.value!==void 0?v[O]=ne.value:(T.push(S("array.sparse",{key:he,path:pe,pos:O,value:void 0},A.localize(pe))),$=!0),U=!0;break}ce.restore()}if(ve===1){if(xe){_.fastSplice(v,O),--O,--x,U=!0;break}if(T.push(...ne.errors),R.abortEarly)return T;$=!0;break}}if(!$&&(E.$_terms._inclusions.length||E.$_terms._requireds.length)&&!U){if(xe){_.fastSplice(v,O),--O,--x;continue}if(T.push(S("array.includes",{pos:O,value:L},A.localize(pe))),R.abortEarly)return T}}return k.length&&_.fillMissedErrors(E,T,k,v,A,R),V.length&&(_.fillOrderedErrors(E,T,V,v,A,R),T.length||_.fillDefault(V,v,A,R)),T.length?T:v},priority:!0,manifest:!1},length:{method(v){return this.$_addRule({name:"length",args:{limit:v},operator:"="})},validate:(v,E,{limit:S},{name:A,operator:R,args:D})=>d.compare(v.length,S,R)?v:E.error("array."+A,{limit:D.limit,value:v}),args:[{name:"limit",ref:!0,assert:d.limit,message:"must be a positive integer"}]},max:{method(v){return this.$_addRule({name:"max",method:"length",args:{limit:v},operator:"<="})}},min:{method(v){return this.$_addRule({name:"min",method:"length",args:{limit:v},operator:">="})}},ordered:{method(...v){d.verifyFlat(v,"ordered");const E=this.$_addRule("items");for(let S=0;S<v.length;++S){const A=d.tryWithPath(()=>this.$_compile(v[S]),S,{append:!0});_.validateSingle(A,E),E.$_mutateRegister(A),E.$_terms.ordered.push(A)}return E.$_mutateRebuild()}},single:{method(v){const E=v===void 0||!!v;return c(!E||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",E)}},sort:{method(v={}){d.assertOptions(v,["by","order"]);const E={order:v.order||"ascending"};return v.by&&(E.by=y.ref(v.by,{ancestor:0}),c(!E.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:E}})},validate(v,{error:E,state:S,prefs:A,schema:R},{options:D}){const{value:k,errors:V}=_.sort(R,v,D,S,A);if(V)return V;for(let P=0;P<v.length;++P)if(v[P]!==k[P])return E("array.sort",{order:D.order,by:D.by?D.by.key:"value"});return v},convert:!0},sparse:{method(v){const E=v===void 0||!!v;return this._flags.sparse===E?this:(E?this.clone():this.$_addRule("items")).$_setFlag("sparse",E,{clone:!1})}},unique:{method(v,E={}){c(!v||typeof v=="function"||typeof v=="string","comparator must be a function or a string"),d.assertOptions(E,["ignoreUndefined","separator"]);const S={name:"unique",args:{options:E,comparator:v}};if(v)if(typeof v=="string"){const A=d.default(E.separator,".");S.path=A?v.split(A):[v]}else S.comparator=v;return this.$_addRule(S)},validate(v,{state:E,error:S,schema:A},{comparator:R,options:D},{comparator:k,path:V}){const P={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},I=k||p,T=D.ignoreUndefined;for(let x=0;x<v.length;++x){const O=V?g(v[x],V):v[x],L=k?P.custom:P[typeof O];if(c(L,"Failed to find unique map container for type",typeof O),L instanceof Map){const $=L.entries();let U;for(;!(U=$.next()).done;)if(I(U.value[0],O)){const he=E.localize([...E.path,x],[v,...E.ancestors]),pe={pos:x,value:v[x],dupePos:U.value[1],dupeValue:v[U.value[1]]};return V&&(pe.path=R),S("array.unique",pe,he)}L.set(O,x)}else{if((!T||O!==void 0)&&L[O]!==void 0){const $={pos:x,value:v[x],dupePos:L[O],dupeValue:v[L[O]]};return V&&($.path=R),S("array.unique",$,E.localize([...E.path,x],[v,...E.ancestors]))}L[O]=x}}return v},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(v,E)=>new Set(v)}},rebuild(v){v.$_terms._inclusions=[],v.$_terms._exclusions=[],v.$_terms._requireds=[];for(const E of v.$_terms.items)_.validateSingle(E,v),E._flags.presence==="required"?v.$_terms._requireds.push(E):E._flags.presence==="forbidden"?v.$_terms._exclusions.push(E):v.$_terms._inclusions.push(E);for(const E of v.$_terms.ordered)_.validateSingle(E,v)},manifest:{build:(v,E)=>(E.items&&(v=v.items(...E.items)),E.ordered&&(v=v.ordered(...E.ordered)),v)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),_.fillMissedErrors=function(v,E,S,A,R,D){const k=[];let V=0;for(const P of S){const I=P._flags.label;I?k.push(I):++V}k.length?V?E.push(v.$_createError("array.includesRequiredBoth",A,{knownMisses:k,unknownMisses:V},R,D)):E.push(v.$_createError("array.includesRequiredKnowns",A,{knownMisses:k},R,D)):E.push(v.$_createError("array.includesRequiredUnknowns",A,{unknownMisses:V},R,D))},_.fillOrderedErrors=function(v,E,S,A,R,D){const k=[];for(const V of S)V._flags.presence==="required"&&k.push(V);k.length&&_.fillMissedErrors(v,E,k,A,R,D)},_.fillDefault=function(v,E,S,A){const R=[];let D=!0;for(let k=v.length-1;k>=0;--k){const V=v[k],P=[E,...S.ancestors],I=V.$_validate(void 0,S.localize(S.path,P,V),A).value;if(D){if(I===void 0)continue;D=!1}R.unshift(I)}R.length&&E.push(...R)},_.fastSplice=function(v,E){let S=E;for(;S<v.length;)v[S++]=v[S];--v.length},_.validateSingle=function(v,E){(v.type==="array"||v._flags._arrayItems)&&(c(!E._flags.single,"Cannot specify array item with single rule enabled"),E.$_setFlag("_arrayItems",!0,{clone:!1}))},_.sort=function(v,E,S,A,R){const D=S.order==="ascending"?1:-1,k=-1*D,V=D,P=(I,T)=>{let x=_.compare(I,T,k,V);if(x!==null||(S.by&&(I=S.by.resolve(I,A,R),T=S.by.resolve(T,A,R)),x=_.compare(I,T,k,V),x!==null))return x;const O=typeof I;if(O!==typeof T)throw v.$_createError("array.sort.mismatching",E,null,A,R);if(O!=="number"&&O!=="string")throw v.$_createError("array.sort.unsupported",E,{type:O},A,R);return O==="number"?(I-T)*D:I<T?k:V};try{return{value:E.slice().sort(P)}}catch(I){return{errors:I}}},_.compare=function(v,E,S,A){return v===E?0:v===void 0?1:E===void 0?-1:v===null?A:E===null?S:null}},4937:(o,l,f)=>{const c=f(375),p=f(8068),g=f(8160),b=f(2036),d={isBool:function(y){return typeof y=="boolean"}};o.exports=p.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(y,{schema:_}){if(typeof y!="boolean"){if(typeof y=="string"){const v=_._flags.sensitive?y:y.toLowerCase();y=v==="true"||v!=="false"&&y}return typeof y!="boolean"&&(y=_.$_terms.truthy&&_.$_terms.truthy.has(y,null,null,!_._flags.sensitive)||(!_.$_terms.falsy||!_.$_terms.falsy.has(y,null,null,!_._flags.sensitive))&&y),{value:y}}},validate(y,{error:_}){if(typeof y!="boolean")return{value:y,errors:_("boolean.base")}},rules:{truthy:{method(...y){g.verifyFlat(y,"truthy");const _=this.clone();_.$_terms.truthy=_.$_terms.truthy||new b;for(let v=0;v<y.length;++v){const E=y[v];c(E!==void 0,"Cannot call truthy with undefined"),_.$_terms.truthy.add(E)}return _}},falsy:{method(...y){g.verifyFlat(y,"falsy");const _=this.clone();_.$_terms.falsy=_.$_terms.falsy||new b;for(let v=0;v<y.length;++v){const E=y[v];c(E!==void 0,"Cannot call falsy with undefined"),_.$_terms.falsy.add(E)}return _}},sensitive:{method(y=!0){return this.$_setFlag("sensitive",y)}}},cast:{number:{from:d.isBool,to:(y,_)=>y?1:0},string:{from:d.isBool,to:(y,_)=>y?"true":"false"}},manifest:{build:(y,_)=>(_.truthy&&(y=y.truthy(..._.truthy)),_.falsy&&(y=y.falsy(..._.falsy)),y)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(o,l,f)=>{const c=f(375),p=f(8068),g=f(8160),b=f(3328),d={isDate:function(y){return y instanceof Date}};o.exports=p.extend({type:"date",coerce:{from:["number","string"],method:(y,{schema:_})=>({value:d.parse(y,_._flags.format)||y})},validate(y,{schema:_,error:v,prefs:E}){if(y instanceof Date&&!isNaN(y.getTime()))return;const S=_._flags.format;return E.convert&&S&&typeof y=="string"?{value:y,errors:v("date.format",{format:S})}:{value:y,errors:v("date.base")}},rules:{compare:{method:!1,validate(y,_,{date:v},{name:E,operator:S,args:A}){const R=v==="now"?Date.now():v.getTime();return g.compare(y.getTime(),R,S)?y:_.error("date."+E,{limit:A.date,value:y})},args:[{name:"date",ref:!0,normalize:y=>y==="now"?y:d.parse(y),assert:y=>y!==null,message:"must have a valid date format"}]},format:{method(y){return c(["iso","javascript","unix"].includes(y),"Unknown date format",y),this.$_setFlag("format",y)}},greater:{method(y){return this.$_addRule({name:"greater",method:"compare",args:{date:y},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(y){return this.$_addRule({name:"less",method:"compare",args:{date:y},operator:"<"})}},max:{method(y){return this.$_addRule({name:"max",method:"compare",args:{date:y},operator:"<="})}},min:{method(y){return this.$_addRule({name:"min",method:"compare",args:{date:y},operator:">="})}},timestamp:{method(y="javascript"){return c(["javascript","unix"].includes(y),'"type" must be one of "javascript, unix"'),this.format(y)}}},cast:{number:{from:d.isDate,to:(y,_)=>y.getTime()},string:{from:d.isDate,to:(y,{prefs:_})=>b.date(y,_)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),d.parse=function(y,_){if(y instanceof Date)return y;if(typeof y!="string"&&(isNaN(y)||!isFinite(y))||/^\s*$/.test(y))return null;if(_==="iso")return g.isIsoDate(y)?d.date(y.toString()):null;const v=y;if(typeof y=="string"&&/^[+-]?\d+(\.\d+)?$/.test(y)&&(y=parseFloat(y)),_){if(_==="javascript")return d.date(1*y);if(_==="unix")return d.date(1e3*y);if(typeof v=="string")return null}return d.date(y)},d.date=function(y){const _=new Date(y);return isNaN(_.getTime())?null:_}},390:(o,l,f)=>{const c=f(375),p=f(7824);o.exports=p.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(g){return c(Number.isSafeInteger(g)&&g>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:g}})},validate:(g,b,{n:d})=>g.length===d?g:b.error("function.arity",{n:d})},class:{method(){return this.$_addRule("class")},validate:(g,b)=>/^\s*class\s/.test(g.toString())?g:b.error("function.class",{value:g})},minArity:{method(g){return c(Number.isSafeInteger(g)&&g>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:g}})},validate:(g,b,{n:d})=>g.length>=d?g:b.error("function.minArity",{n:d})},maxArity:{method(g){return c(Number.isSafeInteger(g)&&g>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:g}})},validate:(g,b,{n:d})=>g.length<=d?g:b.error("function.maxArity",{n:d})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(o,l,f)=>{const c=f(978),p=f(375),g=f(8571),b=f(3652),d=f(8068),y=f(8160),_=f(3292),v=f(6354),E=f(6133),S=f(3328),A={renameDefaults:{alias:!1,multiple:!1,override:!1}};o.exports=d.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(R,D)=>R.keys(D),validate(R,{schema:D,error:k,state:V,prefs:P}){if(!R||typeof R!==D.$_property("typeof")||Array.isArray(R))return{value:R,errors:k("object.base",{type:D.$_property("typeof")})};if(!(D.$_terms.renames||D.$_terms.dependencies||D.$_terms.keys||D.$_terms.patterns||D.$_terms.externals))return;R=A.clone(R,P);const I=[];if(D.$_terms.renames&&!A.rename(D,R,V,P,I))return{value:R,errors:I};if(!D.$_terms.keys&&!D.$_terms.patterns&&!D.$_terms.dependencies)return{value:R,errors:I};const T=new Set(Object.keys(R));if(D.$_terms.keys){const x=[R,...V.ancestors];for(const O of D.$_terms.keys){const L=O.key,$=R[L];T.delete(L);const U=V.localize([...V.path,L],x,O),he=O.schema.$_validate($,U,P);if(he.errors){if(P.abortEarly)return{value:R,errors:he.errors};he.value!==void 0&&(R[L]=he.value),I.push(...he.errors)}else O.schema._flags.result==="strip"||he.value===void 0&&$!==void 0?delete R[L]:he.value!==void 0&&(R[L]=he.value)}}if(T.size||D._flags._hasPatternMatch){const x=A.unknown(D,R,T,I,V,P);if(x)return x}if(D.$_terms.dependencies)for(const x of D.$_terms.dependencies){if(x.key!==null&&A.isPresent(x.options)(x.key.resolve(R,V,P,null,{shadow:!1}))===!1)continue;const O=A.dependencies[x.rel](D,x,R,V,P);if(O){const L=D.$_createError(O.code,R,O.context,V,P);if(P.abortEarly)return{value:R,errors:L};I.push(L)}}return{value:R,errors:I}},rules:{and:{method(...R){return y.verifyFlat(R,"and"),A.dependency(this,"and",null,R)}},append:{method(R){return R==null||Object.keys(R).length===0?this:this.keys(R)}},assert:{method(R,D,k){S.isTemplate(R)||(R=_.ref(R)),p(k===void 0||typeof k=="string","Message must be a string"),D=this.$_compile(D,{appendPath:!0});const V=this.$_addRule({name:"assert",args:{subject:R,schema:D,message:k}});return V.$_mutateRegister(R),V.$_mutateRegister(D),V},validate(R,{error:D,prefs:k,state:V},{subject:P,schema:I,message:T}){const x=P.resolve(R,V,k),O=E.isRef(P)?P.absolute(V):[];return I.$_match(x,V.localize(O,[R,...V.ancestors],I),k)?R:D("object.assert",{subject:P,message:T})},args:["subject","schema","message"],multi:!0},instance:{method(R,D){return p(typeof R=="function","constructor must be a function"),D=D||R.name,this.$_addRule({name:"instance",args:{constructor:R,name:D}})},validate:(R,D,{constructor:k,name:V})=>R instanceof k?R:D.error("object.instance",{type:V,value:R}),args:["constructor","name"]},keys:{method(R){p(R===void 0||typeof R=="object","Object schema must be a valid object"),p(!y.isSchema(R),"Object schema cannot be a joi schema");const D=this.clone();if(R)if(Object.keys(R).length){D.$_terms.keys=D.$_terms.keys?D.$_terms.keys.filter(k=>!R.hasOwnProperty(k.key)):new A.Keys;for(const k in R)y.tryWithPath(()=>D.$_terms.keys.push({key:k,schema:this.$_compile(R[k])}),k)}else D.$_terms.keys=new A.Keys;else D.$_terms.keys=null;return D.$_mutateRebuild()}},length:{method(R){return this.$_addRule({name:"length",args:{limit:R},operator:"="})},validate:(R,D,{limit:k},{name:V,operator:P,args:I})=>y.compare(Object.keys(R).length,k,P)?R:D.error("object."+V,{limit:I.limit,value:R}),args:[{name:"limit",ref:!0,assert:y.limit,message:"must be a positive integer"}]},max:{method(R){return this.$_addRule({name:"max",method:"length",args:{limit:R},operator:"<="})}},min:{method(R){return this.$_addRule({name:"min",method:"length",args:{limit:R},operator:">="})}},nand:{method(...R){return y.verifyFlat(R,"nand"),A.dependency(this,"nand",null,R)}},or:{method(...R){return y.verifyFlat(R,"or"),A.dependency(this,"or",null,R)}},oxor:{method(...R){return A.dependency(this,"oxor",null,R)}},pattern:{method(R,D,k={}){const V=R instanceof RegExp;V||(R=this.$_compile(R,{appendPath:!0})),p(D!==void 0,"Invalid rule"),y.assertOptions(k,["fallthrough","matches"]),V&&p(!R.flags.includes("g")&&!R.flags.includes("y"),"pattern should not use global or sticky mode"),D=this.$_compile(D,{appendPath:!0});const P=this.clone();P.$_terms.patterns=P.$_terms.patterns||[];const I={[V?"regex":"schema"]:R,rule:D};return k.matches&&(I.matches=this.$_compile(k.matches),I.matches.type!=="array"&&(I.matches=I.matches.$_root.array().items(I.matches)),P.$_mutateRegister(I.matches),P.$_setFlag("_hasPatternMatch",!0,{clone:!1})),k.fallthrough&&(I.fallthrough=!0),P.$_terms.patterns.push(I),P.$_mutateRegister(D),P}},ref:{method(){return this.$_addRule("ref")},validate:(R,D)=>E.isRef(R)?R:D.error("object.refType",{value:R})},regex:{method(){return this.$_addRule("regex")},validate:(R,D)=>R instanceof RegExp?R:D.error("object.regex",{value:R})},rename:{method(R,D,k={}){p(typeof R=="string"||R instanceof RegExp,"Rename missing the from argument"),p(typeof D=="string"||D instanceof S,"Invalid rename to argument"),p(D!==R,"Cannot rename key to same name:",R),y.assertOptions(k,["alias","ignoreUndefined","override","multiple"]);const V=this.clone();V.$_terms.renames=V.$_terms.renames||[];for(const P of V.$_terms.renames)p(P.from!==R,"Cannot rename the same key multiple times");return D instanceof S&&V.$_mutateRegister(D),V.$_terms.renames.push({from:R,to:D,options:c(A.renameDefaults,k)}),V}},schema:{method(R="any"){return this.$_addRule({name:"schema",args:{type:R}})},validate:(R,D,{type:k})=>!y.isSchema(R)||k!=="any"&&R.type!==k?D.error("object.schema",{type:k}):R},unknown:{method(R){return this.$_setFlag("unknown",R!==!1)}},with:{method(R,D,k={}){return A.dependency(this,"with",R,D,k)}},without:{method(R,D,k={}){return A.dependency(this,"without",R,D,k)}},xor:{method(...R){return y.verifyFlat(R,"xor"),A.dependency(this,"xor",null,R)}}},overrides:{default(R,D){return R===void 0&&(R=y.symbols.deepDefault),this.$_parent("default",R,D)}},rebuild(R){if(R.$_terms.keys){const D=new b.Sorter;for(const k of R.$_terms.keys)y.tryWithPath(()=>D.add(k,{after:k.schema.$_rootReferences(),group:k.key}),k.key);R.$_terms.keys=new A.Keys(...D.nodes)}},manifest:{build(R,D){if(D.keys&&(R=R.keys(D.keys)),D.dependencies)for(const{rel:k,key:V=null,peers:P,options:I}of D.dependencies)R=A.dependency(R,k,V,P,I);if(D.patterns)for(const{regex:k,schema:V,rule:P,fallthrough:I,matches:T}of D.patterns)R=R.pattern(k||V,P,{fallthrough:I,matches:T});if(D.renames)for(const{from:k,to:V,options:P}of D.renames)R=R.rename(k,V,P);return R}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),A.clone=function(R,D){if(typeof R=="object"){if(D.nonEnumerables)return g(R,{shallow:!0});const V=Object.create(Object.getPrototypeOf(R));return Object.assign(V,R),V}const k=function(...V){return R.apply(this,V)};return k.prototype=g(R.prototype),Object.defineProperty(k,"name",{value:R.name,writable:!1}),Object.defineProperty(k,"length",{value:R.length,writable:!1}),Object.assign(k,R),k},A.dependency=function(R,D,k,V,P){p(k===null||typeof k=="string",D,"key must be a strings"),P||(P=V.length>1&&typeof V[V.length-1]=="object"?V.pop():{}),y.assertOptions(P,["separator","isPresent"]),V=[].concat(V);const I=y.default(P.separator,"."),T=[];for(const O of V)p(typeof O=="string",D,"peers must be strings"),T.push(_.ref(O,{separator:I,ancestor:0,prefix:!1}));k!==null&&(k=_.ref(k,{separator:I,ancestor:0,prefix:!1}));const x=R.clone();return x.$_terms.dependencies=x.$_terms.dependencies||[],x.$_terms.dependencies.push(new A.Dependency(D,k,T,V,P)),x},A.dependencies={and(R,D,k,V,P){const I=[],T=[],x=D.peers.length,O=A.isPresent(D.options);for(const L of D.peers)O(L.resolve(k,V,P,null,{shadow:!1}))===!1?I.push(L.key):T.push(L.key);if(I.length!==x&&T.length!==x)return{code:"object.and",context:{present:T,presentWithLabels:A.keysToLabels(R,T),missing:I,missingWithLabels:A.keysToLabels(R,I)}}},nand(R,D,k,V,P){const I=[],T=A.isPresent(D.options);for(const L of D.peers)T(L.resolve(k,V,P,null,{shadow:!1}))&&I.push(L.key);if(I.length!==D.peers.length)return;const x=D.paths[0],O=D.paths.slice(1);return{code:"object.nand",context:{main:x,mainWithLabel:A.keysToLabels(R,x),peers:O,peersWithLabels:A.keysToLabels(R,O)}}},or(R,D,k,V,P){const I=A.isPresent(D.options);for(const T of D.peers)if(I(T.resolve(k,V,P,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:D.paths,peersWithLabels:A.keysToLabels(R,D.paths)}}},oxor(R,D,k,V,P){const I=[],T=A.isPresent(D.options);for(const O of D.peers)T(O.resolve(k,V,P,null,{shadow:!1}))&&I.push(O.key);if(!I.length||I.length===1)return;const x={peers:D.paths,peersWithLabels:A.keysToLabels(R,D.paths)};return x.present=I,x.presentWithLabels=A.keysToLabels(R,I),{code:"object.oxor",context:x}},with(R,D,k,V,P){const I=A.isPresent(D.options);for(const T of D.peers)if(I(T.resolve(k,V,P,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:D.key.key,mainWithLabel:A.keysToLabels(R,D.key.key),peer:T.key,peerWithLabel:A.keysToLabels(R,T.key)}}},without(R,D,k,V,P){const I=A.isPresent(D.options);for(const T of D.peers)if(I(T.resolve(k,V,P,null,{shadow:!1})))return{code:"object.without",context:{main:D.key.key,mainWithLabel:A.keysToLabels(R,D.key.key),peer:T.key,peerWithLabel:A.keysToLabels(R,T.key)}}},xor(R,D,k,V,P){const I=[],T=A.isPresent(D.options);for(const O of D.peers)T(O.resolve(k,V,P,null,{shadow:!1}))&&I.push(O.key);if(I.length===1)return;const x={peers:D.paths,peersWithLabels:A.keysToLabels(R,D.paths)};return I.length===0?{code:"object.missing",context:x}:(x.present=I,x.presentWithLabels=A.keysToLabels(R,I),{code:"object.xor",context:x})}},A.keysToLabels=function(R,D){return Array.isArray(D)?D.map(k=>R.$_mapLabels(k)):R.$_mapLabels(D)},A.isPresent=function(R){return typeof R.isPresent=="function"?R.isPresent:D=>D!==void 0},A.rename=function(R,D,k,V,P){const I={};for(const T of R.$_terms.renames){const x=[],O=typeof T.from!="string";if(O)for(const L in D){if(D[L]===void 0&&T.options.ignoreUndefined||L===T.to)continue;const $=T.from.exec(L);$&&x.push({from:L,to:T.to,match:$})}else!Object.prototype.hasOwnProperty.call(D,T.from)||D[T.from]===void 0&&T.options.ignoreUndefined||x.push(T);for(const L of x){const $=L.from;let U=L.to;if(U instanceof S&&(U=U.render(D,k,V,L.match)),$!==U){if(!T.options.multiple&&I[U]&&(P.push(R.$_createError("object.rename.multiple",D,{from:$,to:U,pattern:O},k,V)),V.abortEarly)||Object.prototype.hasOwnProperty.call(D,U)&&!T.options.override&&!I[U]&&(P.push(R.$_createError("object.rename.override",D,{from:$,to:U,pattern:O},k,V)),V.abortEarly))return!1;D[$]===void 0?delete D[U]:D[U]=D[$],I[U]=!0,T.options.alias||delete D[$]}}}return!0},A.unknown=function(R,D,k,V,P,I){if(R.$_terms.patterns){let T=!1;const x=R.$_terms.patterns.map(L=>{if(L.matches)return T=!0,[]}),O=[D,...P.ancestors];for(const L of k){const $=D[L],U=[...P.path,L];for(let he=0;he<R.$_terms.patterns.length;++he){const pe=R.$_terms.patterns[he];if(pe.regex){const ve=pe.regex.test(L);if(P.mainstay.tracer.debug(P,"rule",`pattern.${he}`,ve?"pass":"error"),!ve)continue}else if(!pe.schema.$_match(L,P.nest(pe.schema,`pattern.${he}`),I))continue;k.delete(L);const G=P.localize(U,O,{schema:pe.rule,key:L}),se=pe.rule.$_validate($,G,I);if(se.errors){if(I.abortEarly)return{value:D,errors:se.errors};V.push(...se.errors)}if(pe.matches&&x[he].push(L),D[L]=se.value,!pe.fallthrough)break}}if(T)for(let L=0;L<x.length;++L){const $=x[L];if(!$)continue;const U=R.$_terms.patterns[L].matches,he=P.localize(P.path,O,U),pe=U.$_validate($,he,I);if(pe.errors){const G=v.details(pe.errors,{override:!1});G.matches=$;const se=R.$_createError("object.pattern.match",D,G,P,I);if(I.abortEarly)return{value:D,errors:se};V.push(se)}}}if(k.size&&(R.$_terms.keys||R.$_terms.patterns)){if(I.stripUnknown&&R._flags.unknown===void 0||I.skipFunctions){const T=!(!I.stripUnknown||I.stripUnknown!==!0&&!I.stripUnknown.objects);for(const x of k)T?(delete D[x],k.delete(x)):typeof D[x]=="function"&&k.delete(x)}if(!y.default(R._flags.unknown,I.allowUnknown))for(const T of k){const x=P.localize([...P.path,T],[]),O=R.$_createError("object.unknown",D[T],{child:T},x,I,{flags:!1});if(I.abortEarly)return{value:D,errors:O};V.push(O)}}},A.Dependency=class{constructor(R,D,k,V,P){this.rel=R,this.key=D,this.peers=k,this.paths=V,this.options=P}describe(){const R={rel:this.rel,peers:this.paths};return this.key!==null&&(R.key=this.key.key),this.peers[0].separator!=="."&&(R.options={...R.options,separator:this.peers[0].separator}),this.options.isPresent&&(R.options={...R.options,isPresent:this.options.isPresent}),R}},A.Keys=class extends Array{concat(R){const D=this.slice(),k=new Map;for(let V=0;V<D.length;++V)k.set(D[V].key,V);for(const V of R){const P=V.key,I=k.get(P);I!==void 0?D[I]={key:P,schema:D[I].schema.concat(V.schema)}:D.push(V)}return D}}},8785:(o,l,f)=>{const c=f(375),p=f(8068),g=f(8160),b=f(3292),d=f(6354),y={};o.exports=p.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(_,v)=>_.ref(v),validate(_,{schema:v,state:E,prefs:S}){c(v.$_terms.link,"Uninitialized link schema");const A=y.generate(v,_,E,S),R=v.$_terms.link[0].ref;return A.$_validate(_,E.nest(A,`link:${R.display}:${A.type}`),S)},generate:(_,v,E,S)=>y.generate(_,v,E,S),rules:{ref:{method(_){c(!this.$_terms.link,"Cannot reinitialize schema"),_=b.ref(_),c(_.type==="value"||_.type==="local","Invalid reference type:",_.type),c(_.type==="local"||_.ancestor==="root"||_.ancestor>0,"Link cannot reference itself");const v=this.clone();return v.$_terms.link=[{ref:_}],v}},relative:{method(_=!0){return this.$_setFlag("relative",_)}}},overrides:{concat(_){c(this.$_terms.link,"Uninitialized link schema"),c(g.isSchema(_),"Invalid schema object"),c(_.type!=="link","Cannot merge type link with another link");const v=this.clone();return v.$_terms.whens||(v.$_terms.whens=[]),v.$_terms.whens.push({concat:_}),v.$_mutateRebuild()}},manifest:{build:(_,v)=>(c(v.link,"Invalid link description missing link"),_.ref(v.link))}}),y.generate=function(_,v,E,S){let A=E.mainstay.links.get(_);if(A)return A._generate(v,E,S).schema;const R=_.$_terms.link[0].ref,{perspective:D,path:k}=y.perspective(R,E);y.assert(D,"which is outside of schema boundaries",R,_,E,S);try{A=k.length?D.$_reach(k):D}catch{y.assert(!1,"to non-existing schema",R,_,E,S)}return y.assert(A.type!=="link","which is another link",R,_,E,S),_._flags.relative||E.mainstay.links.set(_,A),A._generate(v,E,S).schema},y.perspective=function(_,v){if(_.type==="local"){for(const{schema:E,key:S}of v.schemas){if((E._flags.id||S)===_.path[0])return{perspective:E,path:_.path.slice(1)};if(E.$_terms.shared){for(const A of E.$_terms.shared)if(A._flags.id===_.path[0])return{perspective:A,path:_.path.slice(1)}}}return{perspective:null,path:null}}return _.ancestor==="root"?{perspective:v.schemas[v.schemas.length-1].schema,path:_.path}:{perspective:v.schemas[_.ancestor]&&v.schemas[_.ancestor].schema,path:_.path}},y.assert=function(_,v,E,S,A,R){_||c(!1,`"${d.label(S._flags,A,R)}" contains link reference "${E.display}" ${v}`)}},3832:(o,l,f)=>{const c=f(375),p=f(8068),g=f(8160),b={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(d){const y=d.toString(),_=y.indexOf("."),v=y.indexOf("e");return(_<0?0:(v<0?y.length:v)-_-1)+(v<0?0:Math.max(0,-parseInt(y.slice(v+1))))}};o.exports=p.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(d,{schema:y,error:_}){if(!d.match(b.numberRx))return;d=d.trim();const v={value:parseFloat(d)};if(v.value===0&&(v.value=0),!y._flags.unsafe)if(d.match(/e/i)){if(b.extractSignificantDigits(d)!==b.extractSignificantDigits(String(v.value)))return v.errors=_("number.unsafe"),v}else{const E=v.value.toString();if(E.match(/e/i))return v;if(E!==b.normalizeDecimal(d))return v.errors=_("number.unsafe"),v}return v}},validate(d,{schema:y,error:_,prefs:v}){if(d===1/0||d===-1/0)return{value:d,errors:_("number.infinity")};if(!g.isNumber(d))return{value:d,errors:_("number.base")};const E={value:d};if(v.convert){const S=y.$_getRule("precision");if(S){const A=Math.pow(10,S.args.limit);E.value=Math.round(E.value*A)/A}}return E.value===0&&(E.value=0),!y._flags.unsafe&&(d>Number.MAX_SAFE_INTEGER||d<Number.MIN_SAFE_INTEGER)&&(E.errors=_("number.unsafe")),E},rules:{compare:{method:!1,validate:(d,y,{limit:_},{name:v,operator:E,args:S})=>g.compare(d,_,E)?d:y.error("number."+v,{limit:S.limit,value:d}),args:[{name:"limit",ref:!0,assert:g.isNumber,message:"must be a number"}]},greater:{method(d){return this.$_addRule({name:"greater",method:"compare",args:{limit:d},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(d,y)=>Math.trunc(d)-d==0?d:y.error("number.integer")},less:{method(d){return this.$_addRule({name:"less",method:"compare",args:{limit:d},operator:"<"})}},max:{method(d){return this.$_addRule({name:"max",method:"compare",args:{limit:d},operator:"<="})}},min:{method(d){return this.$_addRule({name:"min",method:"compare",args:{limit:d},operator:">="})}},multiple:{method(d){const y=typeof d=="number"?b.decimalPlaces(d):null,_=Math.pow(10,y);return this.$_addRule({name:"multiple",args:{base:d,baseDecimalPlace:y,pfactor:_}})},validate:(d,y,{base:_,baseDecimalPlace:v,pfactor:E},S)=>b.decimalPlaces(d)>v?y.error("number.multiple",{multiple:S.args.base,value:d}):Math.round(E*d)%Math.round(E*_)==0?d:y.error("number.multiple",{multiple:S.args.base,value:d}),args:[{name:"base",ref:!0,assert:d=>typeof d=="number"&&isFinite(d)&&d>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(d,y)=>Number.isSafeInteger(d)&&d>=0&&d<=65535?d:y.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(d){return c(Number.isSafeInteger(d),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:d}})},validate(d,y,{limit:_}){const v=d.toString().match(b.precisionRx);return Math.max((v[1]?v[1].length:0)-(v[2]?parseInt(v[2],10):0),0)<=_?d:y.error("number.precision",{limit:_,value:d})},convert:!0},sign:{method(d){return c(["negative","positive"].includes(d),"Invalid sign",d),this.$_addRule({name:"sign",args:{sign:d}})},validate:(d,y,{sign:_})=>_==="negative"&&d<0||_==="positive"&&d>0?d:y.error(`number.${_}`)},unsafe:{method(d=!0){return c(typeof d=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",d)}}},cast:{string:{from:d=>typeof d=="number",to:(d,y)=>d.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),b.extractSignificantDigits=function(d){return d.replace(b.exponentialPartRegex,"").replace(b.dotRegex,"").replace(b.trailingZerosRegex,"").replace(b.leadingSignAndZerosRegex,"")},b.normalizeDecimal=function(d){return(d=d.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&d.endsWith("0")&&(d=d.replace(/0+$/,"")),d==="-0"?"0":d}},8966:(o,l,f)=>{const c=f(7824);o.exports=c.extend({type:"object",cast:{map:{from:p=>p&&typeof p=="object",to:(p,g)=>new Map(Object.entries(p))}}})},7417:(o,l,f)=>{const c=f(375),p=f(5380),g=f(1745),b=f(9959),d=f(6064),y=f(9926),_=f(5752),v=f(8068),E=f(8160),S={tlds:y instanceof Set&&{tlds:{allow:y,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:b.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};o.exports=v.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(A,{schema:R,state:D,prefs:k}){const V=R.$_getRule("normalize");V&&(A=A.normalize(V.args.form));const P=R.$_getRule("case");P&&(A=P.args.direction==="upper"?A.toLocaleUpperCase():A.toLocaleLowerCase());const I=R.$_getRule("trim");if(I&&I.args.enabled&&(A=A.trim()),R.$_terms.replacements)for(const x of R.$_terms.replacements)A=A.replace(x.pattern,x.replacement);const T=R.$_getRule("hex");if(T&&T.args.options.byteAligned&&A.length%2!=0&&(A=`0${A}`),R.$_getRule("isoDate")){const x=S.isoDate(A);x&&(A=x)}if(R._flags.truncate){const x=R.$_getRule("max");if(x){let O=x.args.limit;if(E.isResolvable(O)&&(O=O.resolve(A,D,k),!E.limit(O)))return{value:A,errors:R.$_createError("any.ref",O,{ref:x.args.limit,arg:"limit",reason:"must be a positive integer"},D,k)};A=A.slice(0,O)}}return{value:A}}},validate(A,{schema:R,error:D}){if(typeof A!="string")return{value:A,errors:D("string.base")};if(A===""){const k=R.$_getRule("min");return k&&k.args.limit===0?void 0:{value:A,errors:D("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(A,R)=>/^[a-zA-Z0-9]+$/.test(A)?A:R.error("string.alphanum")},base64:{method(A={}){return E.assertOptions(A,["paddingRequired","urlSafe"]),A={urlSafe:!1,paddingRequired:!0,...A},c(typeof A.paddingRequired=="boolean","paddingRequired must be boolean"),c(typeof A.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:A}})},validate:(A,R,{options:D})=>S.base64Regex[D.paddingRequired][D.urlSafe].test(A)?A:R.error("string.base64")},case:{method(A){return c(["lower","upper"].includes(A),"Invalid case:",A),this.$_addRule({name:"case",args:{direction:A}})},validate:(A,R,{direction:D})=>D==="lower"&&A===A.toLocaleLowerCase()||D==="upper"&&A===A.toLocaleUpperCase()?A:R.error(`string.${D}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(A,R){let D=A.length,k=0,V=1;for(;D--;){const P=A.charAt(D)*V;k+=P-9*(P>9),V^=3}return k>0&&k%10==0?A:R.error("string.creditCard")}},dataUri:{method(A={}){return E.assertOptions(A,["paddingRequired"]),A={paddingRequired:!0,...A},c(typeof A.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:A}})},validate(A,R,{options:D}){const k=A.match(S.dataUriRegex);return k&&(!k[2]||k[2]!=="base64"||S.base64Regex[D.paddingRequired].false.test(k[3]))?A:R.error("string.dataUri")}},domain:{method(A){A&&E.assertOptions(A,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const R=S.addressOptions(A);return this.$_addRule({name:"domain",args:{options:A},address:R})},validate:(A,R,D,{address:k})=>p.isValid(A,k)?A:R.error("string.domain")},email:{method(A={}){E.assertOptions(A,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),c(A.multiple===void 0||typeof A.multiple=="boolean","multiple option must be an boolean");const R=S.addressOptions(A),D=new RegExp(`\\s*[${A.separator?d(A.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:A},regex:D,address:R})},validate(A,R,{options:D},{regex:k,address:V}){const P=D.multiple?A.split(k):[A],I=[];for(const T of P)g.isValid(T,V)||I.push(T);return I.length?R.error("string.email",{value:A,invalids:I}):A}},guid:{alias:"uuid",method(A={}){E.assertOptions(A,["version","separator"]);let R="";if(A.version){const V=[].concat(A.version);c(V.length>=1,"version must have at least 1 valid version specified");const P=new Set;for(let I=0;I<V.length;++I){const T=V[I];c(typeof T=="string","version at position "+I+" must be a string");const x=S.guidVersions[T.toLowerCase()];c(x,"version at position "+I+" must be one of "+Object.keys(S.guidVersions).join(", ")),c(!P.has(x),"version at position "+I+" must not be a duplicate"),R+=x,P.add(x)}}c(S.guidSeparators.has(A.separator),'separator must be one of true, false, "-", or ":"');const D=A.separator===void 0?"[:-]?":A.separator===!0?"[:-]":A.separator===!1?"[]?":`\\${A.separator}`,k=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${D})[0-9A-F]{4}\\2?[${R||"0-9A-F"}][0-9A-F]{3}\\2?[${R?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:A},regex:k})},validate(A,R,D,{regex:k}){const V=k.exec(A);return V?S.guidBrackets[V[1]]!==V[V.length-1]?R.error("string.guid"):A:R.error("string.guid")}},hex:{method(A={}){return E.assertOptions(A,["byteAligned","prefix"]),A={byteAligned:!1,prefix:!1,...A},c(typeof A.byteAligned=="boolean","byteAligned must be boolean"),c(typeof A.prefix=="boolean"||A.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:A}})},validate:(A,R,{options:D})=>(D.prefix==="optional"?S.hexRegex.withOptionalPrefix:D.prefix===!0?S.hexRegex.withPrefix:S.hexRegex.withoutPrefix).test(A)?D.byteAligned&&A.length%2!=0?R.error("string.hexAlign"):A:R.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(A,R)=>p.isValid(A,{minDomainSegments:1})||S.ipRegex.test(A)?A:R.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(A={}){E.assertOptions(A,["cidr","version"]);const{cidr:R,versions:D,regex:k}=b.regex(A),V=A.version?D:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:R,version:V}},regex:k})},validate:(A,R,{options:D},{regex:k})=>k.test(A)?A:D.version?R.error("string.ipVersion",{value:A,cidr:D.cidr,version:D.version}):R.error("string.ip",{value:A,cidr:D.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(A,{error:R})=>S.isoDate(A)?A:R("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(A,R)=>S.isoDurationRegex.test(A)?A:R.error("string.isoDuration")},length:{method(A,R){return S.length(this,"length",A,"=",R)},validate(A,R,{limit:D,encoding:k},{name:V,operator:P,args:I}){const T=!k&&A.length;return E.compare(T,D,P)?A:R.error("string."+V,{limit:I.limit,value:A,encoding:k})},args:[{name:"limit",ref:!0,assert:E.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(A,R){return S.length(this,"max",A,"<=",R)},args:["limit","encoding"]},min:{method(A,R){return S.length(this,"min",A,">=",R)},args:["limit","encoding"]},normalize:{method(A="NFC"){return c(S.normalizationForms.includes(A),"normalization form must be one of "+S.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:A}})},validate:(A,{error:R},{form:D})=>A===A.normalize(D)?A:R("string.normalize",{value:A,form:D}),convert:!0},pattern:{alias:"regex",method(A,R={}){c(A instanceof RegExp,"regex must be a RegExp"),c(!A.flags.includes("g")&&!A.flags.includes("y"),"regex should not use global or sticky mode"),typeof R=="string"&&(R={name:R}),E.assertOptions(R,["invert","name"]);const D=["string.pattern",R.invert?".invert":"",R.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:A,options:R},errorCode:D})},validate:(A,R,{regex:D,options:k},{errorCode:V})=>D.test(A)^k.invert?A:R.error(V,{name:k.name,regex:D,value:A}),args:["regex","options"],multi:!0},replace:{method(A,R){typeof A=="string"&&(A=new RegExp(d(A),"g")),c(A instanceof RegExp,"pattern must be a RegExp"),c(typeof R=="string","replacement must be a String");const D=this.clone();return D.$_terms.replacements||(D.$_terms.replacements=[]),D.$_terms.replacements.push({pattern:A,replacement:R}),D}},token:{method(){return this.$_addRule("token")},validate:(A,R)=>/^\w+$/.test(A)?A:R.error("string.token")},trim:{method(A=!0){return c(typeof A=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:A}})},validate:(A,R,{enabled:D})=>D&&A!==A.trim()?R.error("string.trim"):A,convert:!0},truncate:{method(A=!0){return c(typeof A=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",A)}},uppercase:{method(){return this.case("upper")}},uri:{method(A={}){E.assertOptions(A,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),A.domain&&E.assertOptions(A.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:R,scheme:D}=_.regex(A),k=A.domain?S.addressOptions(A.domain):null;return this.$_addRule({name:"uri",args:{options:A},regex:R,domain:k,scheme:D})},validate(A,R,{options:D},{regex:k,domain:V,scheme:P}){if(["http:/","https:/"].includes(A))return R.error("string.uri");let I=k.exec(A);if(!I&&R.prefs.convert&&D.encodeUri){const T=encodeURI(A);I=k.exec(T),I&&(A=T)}if(I){const T=I[1]||I[2];return!V||D.allowRelative&&!T||p.isValid(T,V)?A:R.error("string.domain",{value:T})}return D.relativeOnly?R.error("string.uriRelativeOnly"):D.scheme?R.error("string.uriCustomScheme",{scheme:P,value:A}):R.error("string.uri")}}},manifest:{build(A,R){if(R.replacements)for(const{pattern:D,replacement:k}of R.replacements)A=A.replace(D,k);return A}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),S.addressOptions=function(A){if(!A)return S.tlds||A;if(c(A.minDomainSegments===void 0||Number.isSafeInteger(A.minDomainSegments)&&A.minDomainSegments>0,"minDomainSegments must be a positive integer"),c(A.maxDomainSegments===void 0||Number.isSafeInteger(A.maxDomainSegments)&&A.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),A.tlds===!1)return A;if(A.tlds===!0||A.tlds===void 0)return c(S.tlds,"Built-in TLD list disabled"),Object.assign({},A,S.tlds);c(typeof A.tlds=="object","tlds must be true, false, or an object");const R=A.tlds.deny;if(R)return Array.isArray(R)&&(A=Object.assign({},A,{tlds:{deny:new Set(R)}})),c(A.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),c(!A.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),S.validateTlds(A.tlds.deny,"tlds.deny"),A;const D=A.tlds.allow;return D?D===!0?(c(S.tlds,"Built-in TLD list disabled"),Object.assign({},A,S.tlds)):(Array.isArray(D)&&(A=Object.assign({},A,{tlds:{allow:new Set(D)}})),c(A.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),S.validateTlds(A.tlds.allow,"tlds.allow"),A):A},S.validateTlds=function(A,R){for(const D of A)c(p.isValid(D,{minDomainSegments:1,maxDomainSegments:1}),`${R} must contain valid top level domain names`)},S.isoDate=function(A){if(!E.isIsoDate(A))return null;/.*T.*[+-]\d\d$/.test(A)&&(A+="00");const R=new Date(A);return isNaN(R.getTime())?null:R.toISOString()},S.length=function(A,R,D,k,V){return c(!V||!1,"Invalid encoding:",V),A.$_addRule({name:R,method:"length",args:{limit:D,encoding:V},operator:k})}},8826:(o,l,f)=>{const c=f(375),p=f(8068),g={};g.Map=class extends Map{slice(){return new g.Map(this)}},o.exports=p.extend({type:"symbol",terms:{map:{init:new g.Map}},coerce:{method(b,{schema:d,error:y}){const _=d.$_terms.map.get(b);return _&&(b=_),d._flags.only&&typeof b!="symbol"?{value:b,errors:y("symbol.map",{map:d.$_terms.map})}:{value:b}}},validate(b,{error:d}){if(typeof b!="symbol")return{value:b,errors:d("symbol.base")}},rules:{map:{method(b){b&&!b[Symbol.iterator]&&typeof b=="object"&&(b=Object.entries(b)),c(b&&b[Symbol.iterator],"Iterable must be an iterable or object");const d=this.clone(),y=[];for(const _ of b){c(_&&_[Symbol.iterator],"Entry must be an iterable");const[v,E]=_;c(typeof v!="object"&&typeof v!="function"&&typeof v!="symbol","Key must not be of type object, function, or Symbol"),c(typeof E=="symbol","Value must be a Symbol"),d.$_terms.map.set(v,E),y.push(E)}return d.valid(...y)}}},manifest:{build:(b,d)=>(d.map&&(b=b.map(d.map)),b)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(o,l,f)=>{const c=f(375),p=f(8571),g=f(738),b=f(9621),d=f(8160),y=f(6354),_=f(493),v={result:Symbol("result")};l.entry=function(E,S,A){let R=d.defaults;A&&(c(A.warnings===void 0,"Cannot override warnings preference in synchronous validation"),c(A.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),R=d.preferences(d.defaults,A));const D=v.entry(E,S,R);c(!D.mainstay.externals.length,"Schema with external rules must use validateAsync()");const k={value:D.value};return D.error&&(k.error=D.error),D.mainstay.warnings.length&&(k.warning=y.details(D.mainstay.warnings)),D.mainstay.debug&&(k.debug=D.mainstay.debug),D.mainstay.artifacts&&(k.artifacts=D.mainstay.artifacts),k},l.entryAsync=async function(E,S,A){let R=d.defaults;A&&(R=d.preferences(d.defaults,A));const D=v.entry(E,S,R),k=D.mainstay;if(D.error)throw k.debug&&(D.error.debug=k.debug),D.error;if(k.externals.length){let P=D.value;const I=[];for(const T of k.externals){const x=T.state.path,O=T.schema.type==="link"?k.links.get(T.schema):null;let L,$,U=P;const he=x.length?[P]:[],pe=x.length?b(E,x):E;if(x.length){L=x[x.length-1];let G=P;for(const se of x.slice(0,-1))G=G[se],he.unshift(G);$=he[0],U=$[L]}try{const G=(ve,xe)=>(O||T.schema).$_createError(ve,U,xe,T.state,R),se=await T.method(U,{schema:T.schema,linked:O,state:T.state,prefs:A,original:pe,error:G,errorsArray:v.errorsArray,warn:(ve,xe)=>k.warnings.push((O||T.schema).$_createError(ve,U,xe,T.state,R)),message:(ve,xe)=>(O||T.schema).$_createError("external",U,xe,T.state,R,{messages:ve})});if(se===void 0||se===U)continue;if(se instanceof y.Report){if(k.tracer.log(T.schema,T.state,"rule","external","error"),I.push(se),R.abortEarly)break;continue}if(Array.isArray(se)&&se[d.symbols.errors]){if(k.tracer.log(T.schema,T.state,"rule","external","error"),I.push(...se),R.abortEarly)break;continue}$?(k.tracer.value(T.state,"rule",U,se,"external"),$[L]=se):(k.tracer.value(T.state,"rule",P,se,"external"),P=se)}catch(G){throw R.errors.label&&(G.message+=` (${T.label})`),G}}if(D.value=P,I.length)throw D.error=y.process(I,E,R),k.debug&&(D.error.debug=k.debug),D.error}if(!R.warnings&&!R.debug&&!R.artifacts)return D.value;const V={value:D.value};return k.warnings.length&&(V.warning=y.details(k.warnings)),k.debug&&(V.debug=k.debug),k.artifacts&&(V.artifacts=k.artifacts),V},v.Mainstay=class{constructor(E,S,A){this.externals=[],this.warnings=[],this.tracer=E,this.debug=S,this.links=A,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const E=this._snapshots.pop();this.externals=E.externals,this.warnings=E.warnings}commit(){this._snapshots.pop()}},v.entry=function(E,S,A){const{tracer:R,cleanup:D}=v.tracer(S,A),k=A.debug?[]:null,V=S._ids._schemaChain?new Map:null,P=new v.Mainstay(R,k,V),I=S._ids._schemaChain?[{schema:S}]:null,T=new _([],[],{mainstay:P,schemas:I}),x=l.validate(E,S,T,A);D&&S.$_root.untrace();const O=y.process(x.errors,E,A);return{value:x.value,error:O,mainstay:P}},v.tracer=function(E,S){return E.$_root._tracer?{tracer:E.$_root._tracer._register(E)}:S.debug?(c(E.$_root.trace,"Debug mode not supported"),{tracer:E.$_root.trace()._register(E),cleanup:!0}):{tracer:v.ignore}},l.validate=function(E,S,A,R,D={}){if(S.$_terms.whens&&(S=S._generate(E,A,R).schema),S._preferences&&(R=v.prefs(S,R)),S._cache&&R.cache){const O=S._cache.get(E);if(A.mainstay.tracer.debug(A,"validate","cached",!!O),O)return O}const k=(O,L,$)=>S.$_createError(O,E,L,$||A,R),V={original:E,prefs:R,schema:S,state:A,error:k,errorsArray:v.errorsArray,warn:(O,L,$)=>A.mainstay.warnings.push(k(O,L,$)),message:(O,L)=>S.$_createError("custom",E,L,A,R,{messages:O})};A.mainstay.tracer.entry(S,A);const P=S._definition;if(P.prepare&&E!==void 0&&R.convert){const O=P.prepare(E,V);if(O){if(A.mainstay.tracer.value(A,"prepare",E,O.value),O.errors)return v.finalize(O.value,[].concat(O.errors),V);E=O.value}}if(P.coerce&&E!==void 0&&R.convert&&(!P.coerce.from||P.coerce.from.includes(typeof E))){const O=P.coerce.method(E,V);if(O){if(A.mainstay.tracer.value(A,"coerced",E,O.value),O.errors)return v.finalize(O.value,[].concat(O.errors),V);E=O.value}}const I=S._flags.empty;I&&I.$_match(v.trim(E,S),A.nest(I),d.defaults)&&(A.mainstay.tracer.value(A,"empty",E,void 0),E=void 0);const T=D.presence||S._flags.presence||(S._flags._endedSwitch?null:R.presence);if(E===void 0){if(T==="forbidden")return v.finalize(E,null,V);if(T==="required")return v.finalize(E,[S.$_createError("any.required",E,null,A,R)],V);if(T==="optional"){if(S._flags.default!==d.symbols.deepDefault)return v.finalize(E,null,V);A.mainstay.tracer.value(A,"default",E,{}),E={}}}else if(T==="forbidden")return v.finalize(E,[S.$_createError("any.unknown",E,null,A,R)],V);const x=[];if(S._valids){const O=S._valids.get(E,A,R,S._flags.insensitive);if(O)return R.convert&&(A.mainstay.tracer.value(A,"valids",E,O.value),E=O.value),A.mainstay.tracer.filter(S,A,"valid",O),v.finalize(E,null,V);if(S._flags.only){const L=S.$_createError("any.only",E,{valids:S._valids.values({display:!0})},A,R);if(R.abortEarly)return v.finalize(E,[L],V);x.push(L)}}if(S._invalids){const O=S._invalids.get(E,A,R,S._flags.insensitive);if(O){A.mainstay.tracer.filter(S,A,"invalid",O);const L=S.$_createError("any.invalid",E,{invalids:S._invalids.values({display:!0})},A,R);if(R.abortEarly)return v.finalize(E,[L],V);x.push(L)}}if(P.validate){const O=P.validate(E,V);if(O&&(A.mainstay.tracer.value(A,"base",E,O.value),E=O.value,O.errors)){if(!Array.isArray(O.errors))return x.push(O.errors),v.finalize(E,x,V);if(O.errors.length)return x.push(...O.errors),v.finalize(E,x,V)}}return S._rules.length?v.rules(E,x,V):v.finalize(E,x,V)},v.rules=function(E,S,A){const{schema:R,state:D,prefs:k}=A;for(const V of R._rules){const P=R._definition.rules[V.method];if(P.convert&&k.convert){D.mainstay.tracer.log(R,D,"rule",V.name,"full");continue}let I,T=V.args;if(V._resolve.length){T=Object.assign({},T);for(const O of V._resolve){const L=P.argsByName.get(O),$=T[O].resolve(E,D,k),U=L.normalize?L.normalize($):$,he=d.validateArg(U,null,L);if(he){I=R.$_createError("any.ref",$,{arg:O,ref:T[O],reason:he},D,k);break}T[O]=U}}I=I||P.validate(E,A,T,V);const x=v.rule(I,V);if(x.errors){if(D.mainstay.tracer.log(R,D,"rule",V.name,"error"),V.warn){D.mainstay.warnings.push(...x.errors);continue}if(k.abortEarly)return v.finalize(E,x.errors,A);S.push(...x.errors)}else D.mainstay.tracer.log(R,D,"rule",V.name,"pass"),D.mainstay.tracer.value(D,"rule",E,x.value,V.name),E=x.value}return v.finalize(E,S,A)},v.rule=function(E,S){return E instanceof y.Report?(v.error(E,S),{errors:[E],value:null}):Array.isArray(E)&&E[d.symbols.errors]?(E.forEach(A=>v.error(A,S)),{errors:E,value:null}):{errors:null,value:E}},v.error=function(E,S){return S.message&&E._setTemplate(S.message),E},v.finalize=function(E,S,A){S=S||[];const{schema:R,state:D,prefs:k}=A;if(S.length){const P=v.default("failover",void 0,S,A);P!==void 0&&(D.mainstay.tracer.value(D,"failover",E,P),E=P,S=[])}if(S.length&&R._flags.error)if(typeof R._flags.error=="function"){S=R._flags.error(S),Array.isArray(S)||(S=[S]);for(const P of S)c(P instanceof Error||P instanceof y.Report,"error() must return an Error object")}else S=[R._flags.error];if(E===void 0){const P=v.default("default",E,S,A);D.mainstay.tracer.value(D,"default",E,P),E=P}if(R._flags.cast&&E!==void 0){const P=R._definition.cast[R._flags.cast];if(P.from(E)){const I=P.to(E,A);D.mainstay.tracer.value(D,"cast",E,I,R._flags.cast),E=I}}if(R.$_terms.externals&&k.externals&&k._externals!==!1)for(const{method:P}of R.$_terms.externals)D.mainstay.externals.push({method:P,schema:R,state:D,label:y.label(R._flags,D,k)});const V={value:E,errors:S.length?S:null};return R._flags.result&&(V.value=R._flags.result==="strip"?void 0:A.original,D.mainstay.tracer.value(D,R._flags.result,E,V.value),D.shadow(E,R._flags.result)),R._cache&&k.cache!==!1&&!R._refs.length&&R._cache.set(A.original,V),E===void 0||V.errors||R._flags.artifact===void 0||(D.mainstay.artifacts=D.mainstay.artifacts||new Map,D.mainstay.artifacts.has(R._flags.artifact)||D.mainstay.artifacts.set(R._flags.artifact,[]),D.mainstay.artifacts.get(R._flags.artifact).push(D.path)),V},v.prefs=function(E,S){const A=S===d.defaults;return A&&E._preferences[d.symbols.prefs]?E._preferences[d.symbols.prefs]:(S=d.preferences(S,E._preferences),A&&(E._preferences[d.symbols.prefs]=S),S)},v.default=function(E,S,A,R){const{schema:D,state:k,prefs:V}=R,P=D._flags[E];if(V.noDefaults||P===void 0)return S;if(k.mainstay.tracer.log(D,k,"rule",E,"full"),!P)return P;if(typeof P=="function"){const I=P.length?[p(k.ancestors[0]),R]:[];try{return P(...I)}catch(T){return void A.push(D.$_createError(`any.${E}`,null,{error:T},k,V))}}return typeof P!="object"?P:P[d.symbols.literal]?P.literal:d.isResolvable(P)?P.resolve(S,k,V):p(P)},v.trim=function(E,S){if(typeof E!="string")return E;const A=S.$_getRule("trim");return A&&A.args.enabled?E.trim():E},v.ignore={active:!1,debug:g,entry:g,filter:g,log:g,resolve:g,value:g},v.errorsArray=function(){const E=[];return E[d.symbols.errors]=!0,E}},2036:(o,l,f)=>{const c=f(375),p=f(9474),g=f(8160),b={};o.exports=b.Values=class{constructor(d,y){this._values=new Set(d),this._refs=new Set(y),this._lowercase=b.lowercases(d),this._override=!1}get length(){return this._values.size+this._refs.size}add(d,y){g.isResolvable(d)?this._refs.has(d)||(this._refs.add(d),y&&y.register(d)):this.has(d,null,null,!1)||(this._values.add(d),typeof d=="string"&&this._lowercase.set(d.toLowerCase(),d))}static merge(d,y,_){if(d=d||new b.Values,y){if(y._override)return y.clone();for(const v of[...y._values,...y._refs])d.add(v)}if(_)for(const v of[..._._values,..._._refs])d.remove(v);return d.length?d:null}remove(d){g.isResolvable(d)?this._refs.delete(d):(this._values.delete(d),typeof d=="string"&&this._lowercase.delete(d.toLowerCase()))}has(d,y,_,v){return!!this.get(d,y,_,v)}get(d,y,_,v){if(!this.length)return!1;if(this._values.has(d))return{value:d};if(typeof d=="string"&&d&&v){const E=this._lowercase.get(d.toLowerCase());if(E)return{value:E}}if(!this._refs.size&&typeof d!="object")return!1;if(typeof d=="object"){for(const E of this._values)if(p(E,d))return{value:E}}if(y)for(const E of this._refs){const S=E.resolve(d,y,_,null,{in:!0});if(S===void 0)continue;const A=E.in&&typeof S=="object"?Array.isArray(S)?S:Object.keys(S):[S];for(const R of A)if(typeof R==typeof d){if(v&&d&&typeof d=="string"){if(R.toLowerCase()===d.toLowerCase())return{value:R,ref:E}}else if(p(R,d))return{value:R,ref:E}}}return!1}override(){this._override=!0}values(d){if(d&&d.display){const y=[];for(const _ of[...this._values,...this._refs])_!==void 0&&y.push(_);return y}return Array.from([...this._values,...this._refs])}clone(){const d=new b.Values(this._values,this._refs);return d._override=this._override,d}concat(d){c(!d._override,"Cannot concat override set of values");const y=new b.Values([...this._values,...d._values],[...this._refs,...d._refs]);return y._override=this._override,y}describe(){const d=[];this._override&&d.push({override:!0});for(const y of this._values.values())d.push(y&&typeof y=="object"?{value:y}:y);for(const y of this._refs.values())d.push(y.describe());return d}},b.Values.prototype[g.symbols.values]=!0,b.Values.prototype.slice=b.Values.prototype.clone,b.lowercases=function(d){const y=new Map;if(d)for(const _ of d)typeof _=="string"&&y.set(_.toLowerCase(),_);return y}},978:(o,l,f)=>{const c=f(375),p=f(8571),g=f(1687),b=f(9621),d={};o.exports=function(y,_,v={}){if(c(y&&typeof y=="object","Invalid defaults value: must be an object"),c(!_||_===!0||typeof _=="object","Invalid source value: must be true, falsy or an object"),c(typeof v=="object","Invalid options: must be an object"),!_)return null;if(v.shallow)return d.applyToDefaultsWithShallow(y,_,v);const E=p(y);if(_===!0)return E;const S=v.nullOverride!==void 0&&v.nullOverride;return g(E,_,{nullOverride:S,mergeArrays:!1})},d.applyToDefaultsWithShallow=function(y,_,v){const E=v.shallow;c(Array.isArray(E),"Invalid keys");const S=new Map,A=_===!0?null:new Set;for(let k of E){k=Array.isArray(k)?k:k.split(".");const V=b(y,k);V&&typeof V=="object"?S.set(V,A&&b(_,k)||V):A&&A.add(k)}const R=p(y,{},S);if(!A)return R;for(const k of A)d.reachCopy(R,_,k);const D=v.nullOverride!==void 0&&v.nullOverride;return g(R,_,{nullOverride:D,mergeArrays:!1})},d.reachCopy=function(y,_,v){for(const A of v){if(!(A in _))return;const R=_[A];if(typeof R!="object"||R===null)return;_=R}const E=_;let S=y;for(let A=0;A<v.length-1;++A){const R=v[A];typeof S[R]!="object"&&(S[R]={}),S=S[R]}S[v[v.length-1]]=E}},375:(o,l,f)=>{const c=f(7916);o.exports=function(p,...g){if(!p)throw g.length===1&&g[0]instanceof Error?g[0]:new c(g)}},8571:(o,l,f)=>{const c=f(9621),p=f(4277),g=f(7043),b={needsProtoHack:new Set([p.set,p.map,p.weakSet,p.weakMap])};o.exports=b.clone=function(d,y={},_=null){if(typeof d!="object"||d===null)return d;let v=b.clone,E=_;if(y.shallow){if(y.shallow!==!0)return b.cloneWithShallow(d,y);v=D=>D}else if(E){const D=E.get(d);if(D)return D}else E=new Map;const S=p.getInternalProto(d);if(S===p.buffer)return!1;if(S===p.date)return new Date(d.getTime());if(S===p.regex)return new RegExp(d);const A=b.base(d,S,y);if(A===d)return d;if(E&&E.set(d,A),S===p.set)for(const D of d)A.add(v(D,y,E));else if(S===p.map)for(const[D,k]of d)A.set(D,v(k,y,E));const R=g.keys(d,y);for(const D of R){if(D==="__proto__")continue;if(S===p.array&&D==="length"){A.length=d.length;continue}const k=Object.getOwnPropertyDescriptor(d,D);k?k.get||k.set?Object.defineProperty(A,D,k):k.enumerable?A[D]=v(d[D],y,E):Object.defineProperty(A,D,{enumerable:!1,writable:!0,configurable:!0,value:v(d[D],y,E)}):Object.defineProperty(A,D,{enumerable:!0,writable:!0,configurable:!0,value:v(d[D],y,E)})}return A},b.cloneWithShallow=function(d,y){const _=y.shallow;(y=Object.assign({},y)).shallow=!1;const v=new Map;for(const E of _){const S=c(d,E);typeof S!="object"&&typeof S!="function"||v.set(S,S)}return b.clone(d,y,v)},b.base=function(d,y,_){if(_.prototype===!1)return b.needsProtoHack.has(y)?new y.constructor:y===p.array?[]:{};const v=Object.getPrototypeOf(d);if(v&&v.isImmutable)return d;if(y===p.array){const E=[];return v!==y&&Object.setPrototypeOf(E,v),E}if(b.needsProtoHack.has(y)){const E=new v.constructor;return v!==y&&Object.setPrototypeOf(E,v),E}return Object.create(v)}},9474:(o,l,f)=>{const c=f(4277),p={mismatched:null};o.exports=function(g,b,d){return d=Object.assign({prototype:!0},d),!!p.isDeepEqual(g,b,d,[])},p.isDeepEqual=function(g,b,d,y){if(g===b)return g!==0||1/g==1/b;const _=typeof g;if(_!==typeof b||g===null||b===null)return!1;if(_==="function"){if(!d.deepFunction||g.toString()!==b.toString())return!1}else if(_!=="object")return g!=g&&b!=b;const v=p.getSharedType(g,b,!!d.prototype);switch(v){case c.buffer:return!1;case c.promise:return g===b;case c.regex:return g.toString()===b.toString();case p.mismatched:return!1}for(let E=y.length-1;E>=0;--E)if(y[E].isSame(g,b))return!0;y.push(new p.SeenEntry(g,b));try{return!!p.isDeepEqualObj(v,g,b,d,y)}finally{y.pop()}},p.getSharedType=function(g,b,d){if(d)return Object.getPrototypeOf(g)!==Object.getPrototypeOf(b)?p.mismatched:c.getInternalProto(g);const y=c.getInternalProto(g);return y!==c.getInternalProto(b)?p.mismatched:y},p.valueOf=function(g){const b=g.valueOf;if(b===void 0)return g;try{return b.call(g)}catch(d){return d}},p.hasOwnEnumerableProperty=function(g,b){return Object.prototype.propertyIsEnumerable.call(g,b)},p.isSetSimpleEqual=function(g,b){for(const d of Set.prototype.values.call(g))if(!Set.prototype.has.call(b,d))return!1;return!0},p.isDeepEqualObj=function(g,b,d,y,_){const{isDeepEqual:v,valueOf:E,hasOwnEnumerableProperty:S}=p,{keys:A,getOwnPropertySymbols:R}=Object;if(g===c.array){if(!y.part){if(b.length!==d.length)return!1;for(let I=0;I<b.length;++I)if(!v(b[I],d[I],y,_))return!1;return!0}for(const I of b)for(const T of d)if(v(I,T,y,_))return!0}else if(g===c.set){if(b.size!==d.size)return!1;if(!p.isSetSimpleEqual(b,d)){const I=new Set(Set.prototype.values.call(d));for(const T of Set.prototype.values.call(b)){if(I.delete(T))continue;let x=!1;for(const O of I)if(v(T,O,y,_)){I.delete(O),x=!0;break}if(!x)return!1}}}else if(g===c.map){if(b.size!==d.size)return!1;for(const[I,T]of Map.prototype.entries.call(b))if(T===void 0&&!Map.prototype.has.call(d,I)||!v(T,Map.prototype.get.call(d,I),y,_))return!1}else if(g===c.error&&(b.name!==d.name||b.message!==d.message))return!1;const D=E(b),k=E(d);if((b!==D||d!==k)&&!v(D,k,y,_))return!1;const V=A(b);if(!y.part&&V.length!==A(d).length&&!y.skip)return!1;let P=0;for(const I of V)if(y.skip&&y.skip.includes(I))d[I]===void 0&&++P;else if(!S(d,I)||!v(b[I],d[I],y,_))return!1;if(!y.part&&V.length-P!==A(d).length)return!1;if(y.symbols!==!1){const I=R(b),T=new Set(R(d));for(const x of I){if(!y.skip||!y.skip.includes(x)){if(S(b,x)){if(!S(d,x)||!v(b[x],d[x],y,_))return!1}else if(S(d,x))return!1}T.delete(x)}for(const x of T)if(S(d,x))return!1}return!0},p.SeenEntry=class{constructor(g,b){this.obj=g,this.ref=b}isSame(g,b){return this.obj===g&&this.ref===b}}},7916:(o,l,f)=>{const c=f(8761);o.exports=class extends Error{constructor(p){super(p.filter(g=>g!=="").map(g=>typeof g=="string"?g:g instanceof Error?g.message:c(g)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,l.assert)}}},5277:o=>{const l={};o.exports=function(f){if(!f)return"";let c="";for(let p=0;p<f.length;++p){const g=f.charCodeAt(p);l.isSafe(g)?c+=f[p]:c+=l.escapeHtmlChar(g)}return c},l.escapeHtmlChar=function(f){return l.namedHtml.get(f)||(f>=256?"&#"+f+";":`&#x${f.toString(16).padStart(2,"0")};`)},l.isSafe=function(f){return l.safeCharCodes.has(f)},l.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),l.safeCharCodes=function(){const f=new Set;for(let c=32;c<123;++c)(c>=97||c>=65&&c<=90||c>=48&&c<=57||c===32||c===46||c===44||c===45||c===58||c===95)&&f.add(c);return f}()},6064:o=>{o.exports=function(l){return l.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:o=>{o.exports=function(){}},1687:(o,l,f)=>{const c=f(375),p=f(8571),g=f(7043),b={};o.exports=b.merge=function(d,y,_){if(c(d&&typeof d=="object","Invalid target value: must be an object"),c(y==null||typeof y=="object","Invalid source value: must be null, undefined, or an object"),!y)return d;if(_=Object.assign({nullOverride:!0,mergeArrays:!0},_),Array.isArray(y)){c(Array.isArray(d),"Cannot merge array onto an object"),_.mergeArrays||(d.length=0);for(let E=0;E<y.length;++E)d.push(p(y[E],{symbols:_.symbols}));return d}const v=g.keys(y,_);for(let E=0;E<v.length;++E){const S=v[E];if(S==="__proto__"||!Object.prototype.propertyIsEnumerable.call(y,S))continue;const A=y[S];if(A&&typeof A=="object"){if(d[S]===A)continue;!d[S]||typeof d[S]!="object"||Array.isArray(d[S])!==Array.isArray(A)||A instanceof Date||A instanceof RegExp?d[S]=p(A,{symbols:_.symbols}):b.merge(d[S],A,_)}else(A!=null||_.nullOverride)&&(d[S]=A)}return d}},9621:(o,l,f)=>{const c=f(375),p={};o.exports=function(g,b,d){if(b===!1||b==null)return g;typeof(d=d||{})=="string"&&(d={separator:d});const y=Array.isArray(b);c(!y||!d.separator,"Separator option is not valid for array-based chain");const _=y?b:b.split(d.separator||".");let v=g;for(let E=0;E<_.length;++E){let S=_[E];const A=d.iterables&&p.iterables(v);if(Array.isArray(v)||A==="set"){const R=Number(S);Number.isInteger(R)&&(S=R<0?v.length+R:R)}if(!v||typeof v=="function"&&d.functions===!1||!A&&v[S]===void 0){c(!d.strict||E+1===_.length,"Missing segment",S,"in reach path ",b),c(typeof v=="object"||d.functions===!0||typeof v!="function","Invalid segment",S,"in reach path ",b),v=d.default;break}v=A?A==="set"?[...v][S]:v.get(S):v[S]}return v},p.iterables=function(g){return g instanceof Set?"set":g instanceof Map?"map":void 0}},8761:o=>{o.exports=function(...l){try{return JSON.stringify(...l)}catch(f){return"[Cannot display object: "+f.message+"]"}}},4277:(o,l)=>{const f={};l=o.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},f.typeMap=new Map([["[object Error]",l.error],["[object Map]",l.map],["[object Promise]",l.promise],["[object Set]",l.set],["[object WeakMap]",l.weakMap],["[object WeakSet]",l.weakSet]]),l.getInternalProto=function(c){if(Array.isArray(c))return l.array;if(c instanceof Date)return l.date;if(c instanceof RegExp)return l.regex;if(c instanceof Error)return l.error;const p=Object.prototype.toString.call(c);return f.typeMap.get(p)||l.generic}},7043:(o,l)=>{l.keys=function(f,c={}){return c.symbols!==!1?Reflect.ownKeys(f):Object.getOwnPropertyNames(f)}},3652:(o,l,f)=>{const c=f(375),p={};l.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(g,b){const d=[].concat((b=b||{}).before||[]),y=[].concat(b.after||[]),_=b.group||"?",v=b.sort||0;c(!d.includes(_),`Item cannot come before itself: ${_}`),c(!d.includes("?"),"Item cannot come before unassociated items"),c(!y.includes(_),`Item cannot come after itself: ${_}`),c(!y.includes("?"),"Item cannot come after unassociated items"),Array.isArray(g)||(g=[g]);for(const E of g){const S={seq:this._items.length,sort:v,before:d,after:y,group:_,node:E};this._items.push(S)}if(!b.manual){const E=this._sort();c(E,"item",_!=="?"?`added into group ${_}`:"","created a dependencies error")}return this.nodes}merge(g){Array.isArray(g)||(g=[g]);for(const d of g)if(d)for(const y of d._items)this._items.push(Object.assign({},y));this._items.sort(p.mergeSort);for(let d=0;d<this._items.length;++d)this._items[d].seq=d;const b=this._sort();return c(b,"merge created a dependencies error"),this.nodes}sort(){const g=this._sort();return c(g,"sort created a dependencies error"),this.nodes}_sort(){const g={},b=Object.create(null),d=Object.create(null);for(const S of this._items){const A=S.seq,R=S.group;d[R]=d[R]||[],d[R].push(A),g[A]=S.before;for(const D of S.after)b[D]=b[D]||[],b[D].push(A)}for(const S in g){const A=[];for(const R in g[S]){const D=g[S][R];d[D]=d[D]||[],A.push(...d[D])}g[S]=A}for(const S in b)if(d[S])for(const A of d[S])g[A].push(...b[S]);const y={};for(const S in g){const A=g[S];for(const R of A)y[R]=y[R]||[],y[R].push(S)}const _={},v=[];for(let S=0;S<this._items.length;++S){let A=S;if(y[S]){A=null;for(let R=0;R<this._items.length;++R){if(_[R]===!0)continue;y[R]||(y[R]=[]);const D=y[R].length;let k=0;for(let V=0;V<D;++V)_[y[R][V]]&&++k;if(k===D){A=R;break}}}A!==null&&(_[A]=!0,v.push(A))}if(v.length!==this._items.length)return!1;const E={};for(const S of this._items)E[S.seq]=S;this._items=[],this.nodes=[];for(const S of v){const A=E[S];this.nodes.push(A.node),this._items.push(A)}return!0}},p.mergeSort=(g,b)=>g.sort===b.sort?0:g.sort<b.sort?-1:1},5380:(o,l,f)=>{const c=f(443),p=f(2178),g={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:c.URL||URL};l.analyze=function(b,d={}){if(!b)return p.code("DOMAIN_NON_EMPTY_STRING");if(typeof b!="string")throw new Error("Invalid input: domain must be a string");if(b.length>256)return p.code("DOMAIN_TOO_LONG");if(g.nonAsciiRx.test(b)){if(d.allowUnicode===!1)return p.code("DOMAIN_INVALID_UNICODE_CHARS");b=b.normalize("NFC")}if(g.domainControlRx.test(b))return p.code("DOMAIN_INVALID_CHARS");b=g.punycode(b),d.allowFullyQualified&&b[b.length-1]==="."&&(b=b.slice(0,-1));const y=d.minDomainSegments||g.minDomainSegments,_=b.split(".");if(_.length<y)return p.code("DOMAIN_SEGMENTS_COUNT");if(d.maxDomainSegments&&_.length>d.maxDomainSegments)return p.code("DOMAIN_SEGMENTS_COUNT_MAX");const v=d.tlds;if(v){const E=_[_.length-1].toLowerCase();if(v.deny&&v.deny.has(E)||v.allow&&!v.allow.has(E))return p.code("DOMAIN_FORBIDDEN_TLDS")}for(let E=0;E<_.length;++E){const S=_[E];if(!S.length)return p.code("DOMAIN_EMPTY_SEGMENT");if(S.length>63)return p.code("DOMAIN_LONG_SEGMENT");if(E<_.length-1){if(!g.domainSegmentRx.test(S))return p.code("DOMAIN_INVALID_CHARS")}else if(!g.tldSegmentRx.test(S))return p.code("DOMAIN_INVALID_TLDS_CHARS")}return null},l.isValid=function(b,d){return!l.analyze(b,d)},g.punycode=function(b){b.includes("%")&&(b=b.replace(/%/g,"%25"));try{return new g.URL(`http://${b}`).host}catch{return b}}},1745:(o,l,f)=>{const c=f(9848),p=f(5380),g=f(2178),b={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(c.TextEncoder||TextEncoder)};l.analyze=function(d,y){return b.email(d,y)},l.isValid=function(d,y){return!b.email(d,y)},b.email=function(d,y={}){if(typeof d!="string")throw new Error("Invalid input: email must be a string");if(!d)return g.code("EMPTY_STRING");const _=!b.nonAsciiRx.test(d);if(!_){if(y.allowUnicode===!1)return g.code("FORBIDDEN_UNICODE");d=d.normalize("NFC")}const v=d.split("@");if(v.length!==2)return v.length>2?g.code("MULTIPLE_AT_CHAR"):g.code("MISSING_AT_CHAR");const[E,S]=v;if(!E)return g.code("EMPTY_LOCAL");if(!y.ignoreLength){if(d.length>254)return g.code("ADDRESS_TOO_LONG");if(b.encoder.encode(E).length>64)return g.code("LOCAL_TOO_LONG")}return b.local(E,_)||p.analyze(S,y)},b.local=function(d,y){const _=d.split(".");for(const v of _){if(!v.length)return g.code("EMPTY_LOCAL_SEGMENT");if(y){if(!b.atextRx.test(v))return g.code("INVALID_LOCAL_CHARS")}else for(const E of v){if(b.atextRx.test(E))continue;const S=b.binary(E);if(!b.atomRx.test(S))return g.code("INVALID_LOCAL_CHARS")}}},b.binary=function(d){return Array.from(b.encoder.encode(d)).map(y=>String.fromCharCode(y)).join("")},b.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,b.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(o,l)=>{l.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},l.code=function(f){return{code:f,error:l.codes[f]}}},9959:(o,l,f)=>{const c=f(375),p=f(5752);l.regex=function(g={}){c(g.cidr===void 0||typeof g.cidr=="string","options.cidr must be a string");const b=g.cidr?g.cidr.toLowerCase():"optional";c(["required","optional","forbidden"].includes(b),"options.cidr must be one of required, optional, forbidden"),c(g.version===void 0||typeof g.version=="string"||Array.isArray(g.version),"options.version must be a string or an array of string");let d=g.version||["ipv4","ipv6","ipvfuture"];Array.isArray(d)||(d=[d]),c(d.length>=1,"options.version must have at least 1 version specified");for(let v=0;v<d.length;++v)c(typeof d[v]=="string","options.version must only contain strings"),d[v]=d[v].toLowerCase(),c(["ipv4","ipv6","ipvfuture"].includes(d[v]),"options.version contains unknown version "+d[v]+" - must be one of ipv4, ipv6, ipvfuture");d=Array.from(new Set(d));const y=`(?:${d.map(v=>{if(b==="forbidden")return p.ip[v];const E=`\\/${v==="ipv4"?p.ip.v4Cidr:p.ip.v6Cidr}`;return b==="required"?`${p.ip[v]}${E}`:`${p.ip[v]}(?:${E})?`}).join("|")})`,_=new RegExp(`^${y}$`);return{cidr:b,versions:d,regex:_,raw:y}}},5752:(o,l,f)=>{const c=f(375),p=f(6064),g={generate:function(){const b={},d="\\dA-Fa-f",y="["+d+"]",_="\\w-\\.~",v="!\\$&'\\(\\)\\*\\+,;=",E="%"+d,S=_+E+v+":@",A="["+S+"]",R="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";b.ipv4address="(?:"+R+"\\.){3}"+R;const D=y+"{1,4}",k="(?:"+D+":"+D+"|"+b.ipv4address+")",V="(?:"+D+":){6}"+k,P="::(?:"+D+":){5}"+k,I="(?:"+D+")?::(?:"+D+":){4}"+k,T="(?:(?:"+D+":){0,1}"+D+")?::(?:"+D+":){3}"+k,x="(?:(?:"+D+":){0,2}"+D+")?::(?:"+D+":){2}"+k,O="(?:(?:"+D+":){0,3}"+D+")?::"+D+":"+k,L="(?:(?:"+D+":){0,4}"+D+")?::"+k,$="(?:(?:"+D+":){0,5}"+D+")?::"+D,U="(?:(?:"+D+":){0,6}"+D+")?::";b.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",b.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",b.ipv6address="(?:"+V+"|"+P+"|"+I+"|"+T+"|"+x+"|"+O+"|"+L+"|"+$+"|"+U+")",b.ipvFuture="v"+y+"+\\.["+_+v+":]+",b.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",b.schemeRegex=new RegExp(b.scheme);const he="["+_+E+v+":]*",pe="["+_+E+v+"]{1,255}",G="(?:\\[(?:"+b.ipv6address+"|"+b.ipvFuture+")\\]|"+b.ipv4address+"|"+pe+")",se="(?:"+he+"@)?"+G+"(?::\\d*)?",ve="(?:"+he+"@)?("+G+")(?::\\d*)?",xe=A+"*",B=A+"+",ne="(?:\\/"+xe+")*",me="\\/(?:"+B+ne+")?",ce=B+ne,be="["+_+E+v+"@]+"+ne,Ue="(?:\\/\\/\\/"+xe+ne+")";return b.hierPart="(?:(?:\\/\\/"+se+ne+")|"+me+"|"+ce+"|"+Ue+")",b.hierPartCapture="(?:(?:\\/\\/"+ve+ne+")|"+me+"|"+ce+")",b.relativeRef="(?:(?:\\/\\/"+se+ne+")|"+me+"|"+be+"|)",b.relativeRefCapture="(?:(?:\\/\\/"+ve+ne+")|"+me+"|"+be+"|)",b.query="["+S+"\\/\\?]*(?=#|$)",b.queryWithSquareBrackets="["+S+"\\[\\]\\/\\?]*(?=#|$)",b.fragment="["+S+"\\/\\?]*",b}};g.rfc3986=g.generate(),l.ip={v4Cidr:g.rfc3986.ipv4Cidr,v6Cidr:g.rfc3986.ipv6Cidr,ipv4:g.rfc3986.ipv4address,ipv6:g.rfc3986.ipv6address,ipvfuture:g.rfc3986.ipvFuture},g.createRegex=function(b){const d=g.rfc3986,y="(?:\\?"+(b.allowQuerySquareBrackets?d.queryWithSquareBrackets:d.query)+")?(?:#"+d.fragment+")?",_=b.domain?d.relativeRefCapture:d.relativeRef;if(b.relativeOnly)return g.wrap(_+y);let v="";if(b.scheme){c(b.scheme instanceof RegExp||typeof b.scheme=="string"||Array.isArray(b.scheme),"scheme must be a RegExp, String, or Array");const A=[].concat(b.scheme);c(A.length>=1,"scheme must have at least 1 scheme specified");const R=[];for(let D=0;D<A.length;++D){const k=A[D];c(k instanceof RegExp||typeof k=="string","scheme at position "+D+" must be a RegExp or String"),k instanceof RegExp?R.push(k.source.toString()):(c(d.schemeRegex.test(k),"scheme at position "+D+" must be a valid scheme"),R.push(p(k)))}v=R.join("|")}const E="(?:"+(v?"(?:"+v+")":d.scheme)+":"+(b.domain?d.hierPartCapture:d.hierPart)+")",S=b.allowRelative?"(?:"+E+"|"+_+")":E;return g.wrap(S+y,v)},g.wrap=function(b,d){return{raw:b=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${b}`,regex:new RegExp(`^${b}$`),scheme:d}},g.uriRegex=g.createRegex({}),l.regex=function(b={}){return b.scheme||b.allowRelative||b.relativeOnly||b.allowQuerySquareBrackets||b.domain?g.createRegex(b):g.uriRegex}},1447:(o,l)=>{const f={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};l.Parser=class{constructor(c,p={}){if(!p[f.settings]&&p.constants)for(const g in p.constants){const b=p.constants[g];if(b!==null&&!["boolean","number","string"].includes(typeof b))throw new Error(`Formula constant ${g} contains invalid ${typeof b} value type`)}this.settings=p[f.settings]?p:Object.assign({[f.settings]:!0,constants:{},functions:{}},p),this.single=null,this._parts=null,this._parse(c)}_parse(c){let p=[],g="",b=0,d=!1;const y=v=>{if(b)throw new Error("Formula missing closing parenthesis");const E=p.length?p[p.length-1]:null;if(d||g||v){if(E&&E.type==="reference"&&v===")")return E.type="function",E.value=this._subFormula(g,E.value),void(g="");if(v===")"){const S=new l.Parser(g,this.settings);p.push({type:"segment",value:S})}else if(d){if(d==="]")return p.push({type:"reference",value:g}),void(g="");p.push({type:"literal",value:g})}else if(f.operatorCharacters.includes(g))E&&E.type==="operator"&&f.operators.includes(E.value+g)?E.value+=g:p.push({type:"operator",value:g});else if(g.match(f.numberRx))p.push({type:"constant",value:parseFloat(g)});else if(this.settings.constants[g]!==void 0)p.push({type:"constant",value:this.settings.constants[g]});else{if(!g.match(f.tokenRx))throw new Error(`Formula contains invalid token: ${g}`);p.push({type:"reference",value:g})}g=""}};for(const v of c)d?v===d?(y(),d=!1):g+=v:b?v==="("?(g+=v,++b):v===")"?(--b,b?g+=v:y(v)):g+=v:v in f.literals?d=f.literals[v]:v==="("?(y(),++b):f.operatorCharacters.includes(v)?(y(),g=v,y()):v!==" "?g+=v:y();y(),p=p.map((v,E)=>v.type!=="operator"||v.value!=="-"||E&&p[E-1].type!=="operator"?v:{type:"operator",value:"n"});let _=!1;for(const v of p){if(v.type==="operator"){if(f.operatorsPrefix.includes(v.value))continue;if(!_)throw new Error("Formula contains an operator in invalid position");if(!f.operators.includes(v.value))throw new Error(`Formula contains an unknown operator ${v.value}`)}else if(_)throw new Error("Formula missing expected operator");_=!_}if(!_)throw new Error("Formula contains invalid trailing operator");p.length===1&&["reference","literal","constant"].includes(p[0].type)&&(this.single={type:p[0].type==="reference"?"reference":"value",value:p[0].value}),this._parts=p.map(v=>{if(v.type==="operator")return f.operatorsPrefix.includes(v.value)?v:v.value;if(v.type!=="reference")return v.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(v.value))throw new Error(`Formula contains invalid reference ${v.value}`);return this.settings.reference?this.settings.reference(v.value):f.reference(v.value)})}_subFormula(c,p){const g=this.settings.functions[p];if(typeof g!="function")throw new Error(`Formula contains unknown function ${p}`);let b=[];if(c){let d="",y=0,_=!1;const v=()=>{if(!d)throw new Error(`Formula contains function ${p} with invalid arguments ${c}`);b.push(d),d=""};for(let E=0;E<c.length;++E){const S=c[E];_?(d+=S,S===_&&(_=!1)):S in f.literals&&!y?(d+=S,_=f.literals[S]):S!==","||y?(d+=S,S==="("?++y:S===")"&&--y):v()}v()}return b=b.map(d=>new l.Parser(d,this.settings)),function(d){const y=[];for(const _ of b)y.push(_.evaluate(d));return g.call(d,...y)}}evaluate(c){const p=this._parts.slice();for(let g=p.length-2;g>=0;--g){const b=p[g];if(b&&b.type==="operator"){const d=p[g+1];p.splice(g+1,1);const y=f.evaluate(d,c);p[g]=f.single(b.value,y)}}return f.operatorsOrder.forEach(g=>{for(let b=1;b<p.length-1;)if(g.includes(p[b])){const d=p[b],y=f.evaluate(p[b-1],c),_=f.evaluate(p[b+1],c);p.splice(b,2);const v=f.calculate(d,y,_);p[b-1]=v===0?0:v}else b+=2}),f.evaluate(p[0],c)}},l.Parser.prototype[f.symbol]=!0,f.reference=function(c){return function(p){return p&&p[c]!==void 0?p[c]:null}},f.evaluate=function(c,p){return c===null?null:typeof c=="function"?c(p):c[f.symbol]?c.evaluate(p):c},f.single=function(c,p){if(c==="!")return!p;const g=-p;return g===0?0:g},f.calculate=function(c,p,g){if(c==="??")return f.exists(p)?p:g;if(typeof p=="string"||typeof g=="string"){if(c==="+")return(p=f.exists(p)?p:"")+(f.exists(g)?g:"")}else switch(c){case"^":return Math.pow(p,g);case"*":return p*g;case"/":return p/g;case"%":return p%g;case"+":return p+g;case"-":return p-g}switch(c){case"<":return p<g;case"<=":return p<=g;case">":return p>g;case">=":return p>=g;case"==":return p===g;case"!=":return p!==g;case"&&":return p&&g;case"||":return p||g}return null},f.exists=function(c){return c!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:o=>{o.exports=JSON.parse('{"version":"17.13.3"}')}},i={},function o(l){var f=i[l];if(f!==void 0)return f.exports;var c=i[l]={exports:{}};return n[l](c,c.exports,o),c.exports}(5107);var n,i})}(xm)),xm.exports}var wN=AN();const pi=bp(wN),TN=pi.object({username:pi.string().valid("admin").optional(),password:pi.string().valid("password").optional(),name:pi.string().min(4).max(40).regex(/^[a-zA-Z0-9 .,!?():-]*$/).optional().label("Namn"),category:pi.string().valid("strandleksak","trdgrdsleksak","poolleksak").optional().label("Kategori"),description:pi.string().min(5).max(90).regex(/^[a-zA-Z0-9 .,!?():-]*$/).optional().label("Beskrivning"),price:pi.number().positive().optional().label("Price"),image:pi.string().uri().optional().label("Bild URL")});function ko(r){const{id:e,...n}=r;let i={};const o=TN.validate(n,{abortEarly:!1});console.log("Validation Results:",o),o.error&&o.error.details.forEach(f=>{const c=f.context.key,p=/^[a-zA-Z0-9 .,!?():-]*$/;console.log("Validation Errors:",i),c==="username"?i[c]="Vnligen ange ditt anvndarnamn.":c==="password"?i[c]="Vnligen ange ditt lsenord.":c==="price"?i[c]="Priset mste vara ett positivt nummer.":c==="name"?p.test(n.name)?(n.name.length<4||n.name.length>40)&&(i[c]="Namnet mste vara mellan 4 och 40 tecken."):i[c]="Endast a-zA-Z0-9 .,!?:()- och mellanslag r tilltna.":c==="image"?i[c]="Ange en giltig URL.":c==="description"?(i[c]="Ge en beskrivning av produkten.",p.test(n.description)?(r.description.length<3||r.description.length>90)&&(i[c]="Beskrivning mste vara mellan 5 och 90 tecken."):i[c]="Endast a-zA-Z0-9 .,!?:()- och mellanslag r tilltna."):c==="category"&&(i[c]='Kategori mste vara poolleksak, trdgrdsleksak eller strandleksak".')});const l=!o.error;return{message:i,formIsValid:l}}const SN=()=>{const{editToy:r,handleInputChange:e,updateToy:n}=Pi(),{handleSaveClick:i}=EN(),[o,l]=re.useState({});return re.useEffect(()=>{if(r){const{message:f}=ko(r);l(f)}},[r]),r?J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"form-group-edit",children:[J.jsx("input",{type:"text",name:"name",value:r.name||"",onChange:f=>e("name",f.target.value),placeholder:"Namn",className:"edit-input"}),o.name&&J.jsx("span",{className:"error",children:o.name})]}),J.jsxs("div",{className:"form-group-edit",children:[J.jsx("input",{type:"text",name:"category",value:r.category||"",onChange:f=>e("category",f.target.value),className:"edit-input"}),o.category&&J.jsx("span",{className:"error",children:o.category})]}),J.jsxs("div",{className:"form-group-edit",children:[J.jsx("input",{type:"text",name:"description",value:r.description||"",onChange:f=>e("description",f.target.value),placeholder:"Beskrivning",className:"edit-input"}),o.description&&J.jsx("span",{className:"error",children:o.description})]}),J.jsxs("div",{className:"form-group-edit",children:[J.jsx("input",{type:"number",value:r.price||"",onChange:f=>e("price",f.target.value),placeholder:"Pris",className:"edit-price-input"}),o.price&&J.jsx("span",{className:"error",children:o.price})]}),J.jsxs("div",{className:"form-group-edit",children:[J.jsx("input",{type:"text",name:"image",value:r.image||"",onChange:f=>e("image",f.target.value),placeholder:"https://example.com/image.jpg",className:"edit-img-input"}),o.image&&J.jsx("span",{className:"error",children:o.image})]}),J.jsx("button",{className:"save-button",onClick:()=>{const{formIsValid:f,message:c}=ko(r);l(c),f&&i(r,p=>{n(p)})},children:"Spara"})]}):J.jsx("p",{children:"Ingen leksak vald fr redigering."})},RN=({toyList:r,setFilteredToys:e,handleSortChange:n})=>{const[i,o]=re.useState(""),l=(c,p)=>{const g=c.toLowerCase();return p.name.toLowerCase().includes(g)||p.description&&p.description.toLowerCase().includes(g)||p.category&&p.category.toLowerCase().includes(g)},f=c=>{const p=c.target.value;o(p),console.log("Skstrng:",p);const g=r.filter(b=>l(p,b));e(g),console.log("Filtrerade leksaker:",g)};return J.jsxs("div",{className:"search-container",children:[J.jsx("section",{className:"search-section",children:J.jsx("input",{type:"text",value:i,placeholder:"Sk leksak...",className:"search-bar",onChange:f})}),J.jsxs("div",{className:"sort-section",children:[J.jsx("label",{htmlFor:"sort",children:"Sortera:"}),J.jsxs("select",{className:"sort-dropdown",onChange:n,children:[J.jsx("option",{value:"name-asc",children:"Namn stigande"}),J.jsx("option",{value:"name-desc",children:"Namn fallande"}),J.jsx("option",{value:"price-asc",children:"Lgst till hgst pris"}),J.jsx("option",{value:"price-desc",children:"Hgst till lgst pris"})]})]})]})},xN=()=>{const{isLoggedIn:r,toyList:e,addToCart:n,isEditing:i,editToy:o,setToys:l,setEditing:f,handleEditClick:c,removeItem:p,handleLogout:g}=Pi(),b=kf(),[d,y]=re.useState(e);re.useEffect(()=>{const v=aN(If(To,"toys"),E=>{const S=E.docs.map(A=>({id:A.id,...A.data()}));l(S),y(S)});return()=>v()},[l]);const _=v=>{const E=v.target.value;let S=[...d];E==="name-asc"?S.sort((A,R)=>A.name.localeCompare(R.name,"sv")):E==="name-desc"?S.sort((A,R)=>R.name.localeCompare(A.name,"sv")):E==="price-asc"?S.sort((A,R)=>A.price-R.price):E==="price-desc"&&S.sort((A,R)=>R.price-A.price),y(S)};return J.jsxs("div",{className:"toys-container",children:[J.jsx(RN,{toyList:e,setFilteredToys:y,handleSortChange:_}),r&&J.jsxs("div",{className:"edit-buttons-section",children:[J.jsx("button",{className:"add-item-button",onClick:()=>b("/addToys"),children:"Lgg till produkt"}),J.jsx("button",{className:"logout-button",onClick:()=>{g(),b("/")},children:"Logga ut"})]}),J.jsx("div",{className:"toy-section",children:d.length===0?J.jsx("p",{children:"Produkten du sker finns inte"}):d.map(v=>J.jsx("div",{className:"toy-card",children:i&&(o==null?void 0:o.id)===v.id?J.jsx(SN,{}):J.jsxs(J.Fragment,{children:[J.jsx("p",{className:"toy-heading",children:v.name}),v.image&&J.jsx("img",{src:v.image,alt:v.name,className:"img-container"}),J.jsx("p",{className:"category-text",children:v.category}),J.jsx("p",{children:v.description}),J.jsxs("p",{children:["Pris: ",v.price," SEK"]}),!r&&J.jsx("button",{onClick:()=>n(v),className:"add-toy-button",children:"Lgg till"}),r&&J.jsxs("div",{className:"edit-remove-button",children:[J.jsx("button",{onClick:()=>c(v),className:"edit-toy-button",children:"Redigera"}),J.jsx("button",{onClick:()=>p(v.id),className:"remove-toy-button",children:"Ta bort"})]})]})},v.id))})]})},CN=()=>{const{cart:r,clearCart:e,updateCartQuantity:n,totalPrice:i}=Pi(),o=kf(),l=()=>{e(),o("/pay")};return J.jsxs("div",{className:"cart-container",children:[J.jsx("p",{className:"cart-info",children:"Detta r din varukorg"}),J.jsx("div",{className:"cart-page",children:r.length===0?J.jsxs("div",{className:"cart-empty",children:[J.jsx("p",{children:"Din varukorg r tom. Klicka p produkter fr att se vrt sortiment."}),J.jsx(Da,{to:"/toys",children:J.jsx("button",{className:"shop-button",children:"Se vra leksaker"})})]}):J.jsxs("div",{className:"cart-list",children:[r.map(f=>J.jsxs("li",{className:"cart-item",children:[f.image&&J.jsx("img",{src:f.image,alt:f.name}),J.jsx("p",{children:f.name}),J.jsxs("div",{className:"price-button-box",children:[J.jsx("p",{children:J.jsx(Ro,{onClick:()=>n(f.id,-1),icon:FR,className:"icon-button"})}),J.jsxs("p",{children:[f.quantity," st"]}),J.jsx("p",{children:J.jsx(Ro,{onClick:()=>n(f.id,1),icon:GR,className:"icon-button"})}),J.jsxs("p",{children:[(f.price*f.quantity).toFixed(2)," SEK"]})]})]},f.id)),J.jsxs("section",{className:"total-price",children:[J.jsxs("p",{children:["Totalt pris: ",i," SEK"]}),J.jsx("button",{className:"checkout-button",onClick:l,children:"Betala"})]})]})})]})};function DN({updateToyList:r}){const e=Pi(b=>b.addToy),[n,i]=re.useState({name:"",category:"",description:"",price:"",image:""}),[o,l]=re.useState({}),[f,c]=re.useState({}),p=b=>{const{id:d,value:y}=b.target;i(v=>({...v,[d]:y})),c(v=>({...v,[d]:!0}));const{message:_}=ko({[d]:y});l(v=>({...v,[d]:_[d]}))},g=async b=>{b.preventDefault();const{message:d,formIsValid:y}=ko(n);if(!y){l(d);return}l({});const _={...n,price:Number(n.price)};try{await e(_),console.log("Ny leksak har lagts till:",_),r&&r(_),i({name:"",category:"",description:"",price:"",image:""})}catch(v){console.error("Error nr du lgger till ny leksak:",v)}};return J.jsxs("form",{className:"add-item-form",onSubmit:g,children:[J.jsxs("div",{className:"form-group",children:[J.jsx("p",{className:"name-input",children:"Namn"}),J.jsx("input",{type:"text",id:"name",value:n.name,onChange:p,placeholder:"Namn p produkt",className:"inputs"}),o.name&&J.jsx("span",{className:"error",children:o.name})]}),J.jsxs("div",{className:"form-group",children:[J.jsx("p",{className:"name-input",children:"Kategori"}),J.jsx("input",{type:"text",id:"category",value:n.category,onChange:p,className:"inputs"}),o.category&&J.jsx("span",{className:"error",children:o.category})]}),J.jsxs("div",{className:"form-group",children:[J.jsx("p",{className:"name-input",children:"Beskrivning"}),J.jsx("input",{id:"description",value:n.description,onChange:p,className:"inputs"}),o.description&&J.jsx("span",{className:"error",children:o.description})]}),J.jsxs("div",{className:"form-group",children:[J.jsx("p",{className:"name-input",children:"Pris"}),J.jsx("input",{type:"number",id:"price",value:n.price,onChange:p,className:"price-input"}),o.price&&J.jsx("span",{className:"error",children:o.price})]}),J.jsxs("div",{className:"form-group",children:[J.jsx("p",{className:"name-input",children:"Bild url"}),J.jsx("input",{type:"text",id:"image",value:n.image,onChange:p,className:"inputs",placeholder:"https://example.com/image.jpg"}),o.image&&J.jsx("span",{className:"error",children:o.image})]}),J.jsx("button",{className:"add-new-item",children:"Lgg till"})]})}function ON(){const[r,e]=re.useState([]);re.useEffect(()=>{(async()=>{try{const l=(await nw(If(To,"toys"))).docs.map(f=>({id:f.id,...f.data()}));e(l)}catch(o){console.error("Error fetching toys:",o)}})()},[]);const n=i=>{const o={...i,price:Number(i.price)};console.log("New item added:",o),e(l=>[...l,o])};return J.jsxs("div",{className:"add",children:[J.jsx("h2",{children:"Lgg till ny produkt"}),J.jsxs("div",{className:"hover-tooltip",children:[J.jsx(Da,{to:"/toys",children:J.jsx(Ro,{icon:qR})}),J.jsx("span",{className:"tooltip-text",children:"Tillbaka"})]}),J.jsx(DN,{onSubmit:n})]})}const IN=()=>{const[r,e]=re.useState({username:"",password:""}),[n,i]=re.useState({username:"",password:""}),o=kf(),{isLoggedIn:l,setIsLoggedIn:f}=Pi(),c=g=>{const{name:b,value:d}=g.target,y={...n,[b]:d};i(y);const _=ko({[b]:d});e(v=>({...v,[b]:_.message[b]}))},p=g=>{g.preventDefault();const b=ko(n);b.formIsValid?(console.log("Admin is logged in"),f(!0),o("/toys")):(console.log("Login failed"),e(b.message))};return J.jsxs("div",{className:"login-container",children:[J.jsx("h2",{children:"Admin login"}),J.jsx("div",{className:"login",children:J.jsxs("form",{className:"login-form",onSubmit:p,children:[J.jsx("p",{className:"username",children:"Anvndarnamn"}),J.jsx("input",{className:"login-input",type:"text",name:"username",value:n.username,onChange:c,required:!0}),r.username&&J.jsx("p",{className:"error-message",children:r.username}),J.jsx("p",{className:"password",children:"Lsenord"}),J.jsx("input",{className:"login-input",type:"password",name:"password",value:n.password,onChange:c,required:!0}),r.password&&J.jsx("p",{className:"error-message",children:r.password}),J.jsx("button",{className:"login-button",type:"submit",children:"Logga in"})]})})]})},NN=()=>J.jsxs("div",{className:"pay",children:[J.jsx("h2",{children:"Tack fr ditt kp!"}),J.jsx("p",{children:"Du fr en orderbekrftelse via mail. Ditt ordernummer r: 12334"}),J.jsx(Da,{to:"/toys",children:J.jsx("button",{className:"shop-button",children:"Handla mer"})})]}),MN=NR([{path:"/",Component:yN,children:[{index:!0,Component:bN},{path:"/toys",Component:xN},{path:"/cart",Component:CN},{path:"/login",Component:IN},{path:"/addToys",Component:ON},{path:"/pay",Component:NN}]}]);PT.createRoot(document.getElementById("root")).render(J.jsx(re.StrictMode,{children:J.jsx(aR,{router:MN})}));
